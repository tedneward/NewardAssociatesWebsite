<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"> 
    <head>
        <title>University of Washington, Winter 2022 INFO 449A: Android</title>
        <meta name="author" content="Ted Neward" />
        <meta name="copyright" content="Copyright &#169; 2021 Neward & Associates" /> 
        <meta name="description" content="" />
        <meta name="keywords" content="Kotlin,Android,Mobile" />

        <link rel="stylesheet" type="text/css" media="screen, projection" href="http://www.w3.org/Talks/Tools/Slidy/show.css" />
        <link rel="stylesheet" type="text/css" media="print" href="http://www.w3.org/Talks/Tools/Slidy/print.css" />

        <!-- TODO: Use custom stylesheets -->
        <link rel="stylesheet" type="text/css" media="screen, projection" href="http://www.w3.org/Talks/Tools/Slidy/w3c-blue.css" />
        <script src="http://www.w3.org/Talks/Tools/Slidy/slidy.js" type="text/javascript"></script>
        <style type="text/css">
pre { color: rgb(220,220,220); font-family: "Lucida Console", Courier, monospace; font-size: 80%; font-weight: bold; line-height: 120%; }
        </style>
    </head>
    
    <body>
        <!-- TODO: Replace the background with my own design -->
        <div class="background">
            <img id="head-icon" alt="graphic with four colored squares" src="http://www.w3.org/Talks/Tools/Slidy/icon-blue.png" align="left" />
            <object id="head-logo" title="W3C logo" type="image/svg+xml" data="http://www.w3.org/Talks/Tools/Slidy/w3c-logo.svg">
                <img alt="W3C logo" id="head-logo-fallback" src="http://www.w3.org/Talks/Tools/Slidy/w3c-logo-blue.gif" align="right"/>
            </object>
        </div>
        <div class="slide cover">
            <img src="http://www.newardassociates.com/assets/img/javapolic.jpg" alt="Cover page images" class="cover" />
            <br clear="all" />
            <h1>University of Washington, Winter 2022
INFO 449A: Android</h1>
            <p>

            </p>
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>3 Jan (REMOTE)</h1>
            <!-- <h2>Getting Started</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Today we're (remotely) going to ...</h2>
<ul>
<p>
do some introductions</p>
<p>
go over the administrative details</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Introductions</h1>
            <!-- <h2>You</h2> -->
        </div>
        
        <div class="slide">
            <h1>Introductions</h1>
            <h2>Please tell me...</h2>
<ul>
<p>
name (which I will try to remember)</p>
<p>
familiarity with Java, Kotlin and/or Android</p>
<ul>
<p>
have you used an Android device, have you written any Kotlin, etc</p>
</ul>
<p>
familiarity with mobile development (if any)</p>
<p>
familiarity with Web development</p>
<p>
what "one thing" you would like out of the class</p>
<p>
... and who goes next!</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Introductions</h1>
            <!-- <h2>Your instructor</h2> -->
        </div>
        
        <div class="slide">
            <h1>Credentials</h1>
<p>
Who is this guy?</p>
<ul>
<p>
Principal -- Neward & Associates</p>
<p>
Architect, Engineering Manager/Leader, "force multiplier"</p>
<p>
Author</p>
<ul>
<p>
<em>Professional F# 2.0</em> (w/Erickson, et al; Wrox, 2010)</p>
<p>
<em>Effective Enterprise Java</em> (Addison-Wesley, 2004)</p>
<p>
<em>SSCLI Essentials</em> (w/Stutz, et al; OReilly, 2003)</p>
<p>
<em>Server-Based Java Programming</em> (Manning, 2000)</p>
</ul>
<p>
See http://www.newardassociates.com</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Administrivia</h1>
            <!-- <h2>Things you are expected to know about the class</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Prerequisites</h1>
            <!-- <h2>What you will need to succeed</h2> -->
        </div>
        
        <div class="slide">
            <h1>Class Requirements</h1>
<p>
Things you will need to succeed:</p>
<ul>
<p>
Github account</p>
<p>
machine with Android Studio (or other IDE) on it</p>
<p>
basic programming experience (Java, C#, C++)</p>
<p>
friends!</p>
<p>
<em>(recommended)</em> Android Marshmallow (6.x) device</p>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
git and GitHub</p>
<ul>
<p>
have an account</p>
<p>
know how to create repositories</p>
<p>
know how to add/remove, commit, push files</p>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
A developer machine or access to the Lab</p>
<ul>
<p>
Android Studio v.Latest installed</p>
<p>
<em>and/or</em> IntelliJ IDEA Community Edition</p>
<ul>
<p>
both are free</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
Dev Machine</p>
<ul>
<p>
other small utilities may prove useful:</p>
<ul>
<p>
curl</p>
<p>
git</p>
<p>
node</p>
</ul>
<p>
the lab machines in 430 MGW should have everything we need</p>
<ul>
<p>
but you are responsible for making sure your own equipment meets the need</p>
</ul>
<p>
package manager tools (Chocolatey, Homebrew, apt) are your friend</p>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
Android Studio</p>
<ul>
<p>
available online from Google Android site</p>
<p>
needs: lots o' memory, lots o' disk space</p>
<p>
make sure to install the Android SDKs</p>
<p>
make sure to install the Android simulators</p>
<p>
make sure to install the command-line tools too</p>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
Recommended: Physical Android device</p>
<ul>
<p>
it is always preferable to have the actual device handy</p>
<p>
any tablet or phone is fine (doesn't have to be a phone)</p>
<p>
indie pro developers often have many!</p>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
Basic Java programming experience</p>
<ul>
<p>
we will NOT be teaching Java; it is assumed you have basic Java skills</p>
<p>
instead, we will learn Kotlin; this is clearly Google's direction for the future</p>
</ul>
        </div>

        <div class="slide">
            <h1>Prereqs</h1>
<p>
Friends!</p>
<ul>
<p>
you will be forming into groups for the last three weeks</p>
<p>
best to figure out who you want to work with now</p>
<p>
besides, life's too short to not meet new people and make friends</p>
<p>
take two minutes and introduce yourself to somebody new right now</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Administrivia</h1>
            <!-- <h2>My policies</h2> -->
        </div>
        
        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Reaching me:</h2>
<ul>
<p>
UW NetID email (through Canvas)</p>
<p>
Personal email: ted@tedneward.com</p>
<p>
Twitter: @tedneward</p>
<p>
I also usually hang out in the HUB an hour or two prior to class</p>
<ul>
<p>
mmmm, pizza....</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Basics</h2>
<ul>
<p>
for the most part, I run the class as close to industry experience as possible</p>
<ul>
<p>
this helps prepare you for future employment</p>
<p>
this helps you decide if this is really what you want to do!</p>
<p>
being an elective course, it is not critical to graduation, so we have some room to explore without worry about impact to grading or graduation</p>
</ul>
<p>
this means my policies are a bit different than traditional UW classes</p>
<ul>
<p>
for starters, I am less concerned about grades than most</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Class attendance</h2>
<ul>
<p>
you're in college, and I'm not your nanny</p>
<p>
... but you're also responsible for anything said during class</p>
<ul>
<p>
this means if you miss something, check with peers</p>
<p>
I provide the lectures and these slides; everything else is on you</p>
</ul>
<p>
need to leave early? arrive late?</p>
<ul>
<p>
just don't bug the class when you do</p>
</ul>
<p>
and please keep the chat to a minimum</p>
<ul>
<p>
and silence the devices</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Course contents: all homework, plus a final project</h2>
<ul>
<p>
no quizzes, no tests</p>
<p>
this is designed to give you apps you can show off in an interview</p>
<p>
the final project will be a group project (no exceptions)</p>
<ul>
<p>
this is to get you used to working in groups (good and bad)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>All homeworks are turned in to GitHub</h2>
<ul>
<p>
this means you MUST have a GH account</p>
<p>
I and the TA must have your GH account profile</p>
<p>
homework will specify a project repository name</p>
<ul>
<p>
this is to speed up grading on our end; use that name!</p>
</ul>
<p>
homework is due before class begins on due date</p>
<ul>
<p>
according to GH's clock, not yours or mine</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Homework Grading Policy</h2>
<ul>
<p>
each homework is (usually) worth 5 points</p>
<ul>
<p>
these will be assigned to various parts of the homework</p>
<p>
will vary from assignment to assignment</p>
</ul>
<p>
turn in by the deadline</p>
<ul>
<p>
GitHub commits are the system of record here</p>
<p>
Not in GitHub? Then it doesn't exist</p>
</ul>
<p>
do yourself a favor: clone the repo elsewhere before assuming it works</p>
<ul>
<p>
seriously, you'll catch a number of mistakes that will otherwise cost you</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Homework Grading Policy</h2>
<ul>
<p>
If the TA cannot build your project from GitHub, it is a 0</p>
<ul>
<p>
TA's and/or I may amend this if it is a simple fix, our discretion</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Homework Grading Policy</h2>
<ul>
<p>
It must build on one of:</p>
<ul>
<p>
the TA's machine, a lab machine, or my machine</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Homework Grading Policy</h2>
<ul>
<p>
If your app crashes, it is a 0; no question</p>
<ul>
<p>
if you can fix it and document the fix, you can get points back</p>
<p>
you will lose at least 1 point for releasing buggy software</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>When "sh*t happens"</h2>
<ul>
<p>
(a.k.a late assignments)</p>
<p>
no "late days" or other "exemption tokens"</p>
<ul>
<p>
when it's due, it's due</p>
</ul>
<p>
... but I am not umsympathetic</p>
<ul>
<p>
thing is, I don't care WHY it's late, just that it will be</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Late Assignment Policy: When you know you will not make the deadline...</h2>
<ul>
<p>
you <em>must</em> contact myself AND the TA</p>
<ul>
<p>
at least a half-day <em>before</em> the assignment is due</p>
<p>
this <em>must</em> be an email sent to our UW accounts</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Late Assignment Policy: When you know you will not make the deadline...</h2>
<ul>
<p>
you do NOT need to explain why it is late</p>
<ul>
<p>
your boss often won't care why, either</p>
</ul>
<p>
you MUST give us a new due date and time</p>
</ul>
        </div>

        <div class="slide">
            <h1>Administrivia</h1>
            <h2>Late Assignment Policy: When you know you will not make the deadline...</h2>
<ul>
<p>
you will NOT be docked any points for late work</p>
<p>
miss the new deadline, though, and it's 0 points; no exception, no discussion</p>
<p>
you may only extend a given assignment once!</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework Policy</h1>
            <h2>Exceptions/Clarifications</h2>
<ul>
<p>
assignments <em>MAY NOT</em> go past project pitches without explicit permission</p>
<ul>
<p>
you will have enough to work on once you're in group work</p>
</ul>
<p>
this is intended as an exception</p>
<ul>
<p>
if I feel you are abusing this, we will have a longer conversation</p>
</ul>
<p>
you may not extend <em>EVERY</em> assignment</p>
<ul>
<p>
your boss will get grumpy if you do this, too</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Grading</h1>
            <h2>Grading for the quarter:</h2>
<ul>
<p>
Homework: ~65%</p>
<ul>
<p>
homework points are given per assignment</p>
<p>
most will be 5 pts, some 10, many will have extra credit pts</p>
</ul>
<p>
Final project: ~35%</p>
<ul>
<p>
project pitch 5 pts</p>
<p>
project delivery 25 pts</p>
<p>
360 review 5 pts</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Grading</h1>
            <h2>"I don't agree with a homework grade"</h2>
<ul>
<p>
Email myself <em><strong>AND</strong></em> the TA</p>
<p>
... within 72 business hours of the grade's posting</p>
<ul>
<p>
meaning, standard business days of the week (M - F)</p>
</ul>
<p>
... describing the nature of your disagreement</p>
<ul>
<p>
be prepared to provide details if necessary</p>
</ul>
<p>
... and I or the TA will return your email within 48 business hours</p>
<ul>
<p>
this does not mean we agree, only that we hear it</p>
</ul>
<p>
... <em>before finals</em>!</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Extra-credit homework</h1>
            <!-- <h2>Opportunities to boost your grade for the quarter</h2> -->
        </div>
        
        <div class="slide">
            <h1>Extra-credit homework</h1>
            <h2>More homework?!?</h2>
<ul>
<p>
these are designed to give you a chance to earn some extra points</p>
<p>
none of these are required, and can only help your grade</p>
<p>
they may require you to do some self-directed research</p>
<ul>
<p>
this is a good thing; learning how to learn on your own is important</p>
</ul>
<p>
these are also good things to show off during an interview</p>
<ul>
<p>
meaning, you may want to build them after class is over</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Extra-credit homework</h1>
            <h2>Protocol</h2>
<ul>
<p>
MUST email myself and the TA to tell us...</p>
<ul>
<p>
... which assignment you will be doing</p>
<p>
... the deadline by which you will have it done</p>
</ul>
<p>
create the GitHub repo, commit the work</p>
<p>
MUST email us when the work is finished</p>
<ul>
<p>
indicate which assignment you'd like to replace</p>
</ul>
<p>
MUST be complete before the project pitches</p>
<p>
questions must be emailed to myself AND the TA</p>
</ul>
        </div>

        <div class="slide">
            <h1>Extra-credit homework</h1>
            <h2>Caveats</h2>
<ul>
<p>
you MAY NOT do extra-credit homework during the group projects</p>
<p>
these can only replace existing assignments</p>
<ul>
<p>
in other words, this is not a way to bypass doing a group project</p>
</ul>
<p>
you get to set your own deadline; therefore, no extensions</p>
<p>
same rules apply as for other homework (has to compile, run, etc)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Winter 2022</h1>
            <h2>So about that COVID thing...</h2>
<ul>
<p>
Look, we're all just trying to get through this</p>
<p>
The UW will be tracking US and state guidelines</p>
<ul>
<p>
I and Connor will be updating you as best (and as soon) as we hear anything</p>
<p>
Right now (12/29) the first week of class is remote, everything else in-person</p>
</ul>
<p>
We will be trying to leverage the best of remote and in-person</p>
<ul>
<p>
... but we are going to be making stuff up as we go</p>
</ul>
<p>
Be patient with us, and we'll be patient with you</p>
</ul>
        </div>

        <div class="slide">
            <h1>Winter 2022</h1>
            <h2>So about that COVID thing...</h2>
<ul>
<p>
We will (try to) be recording/broadcasting all in-person lectures</p>
<ul>
<p>
ideally, so that you need not be in person even for in-person class days</p>
<p>
I will be in the room during weeks UW designates "in-person"</p>
</ul>
<p>
<em><strong>IF YOU ARE SICK, PLEASE STAY HOME</strong></em></p>
<p>
If you are not sick, please consider masking up in class</p>
<p>
This COVID stuff is not to be taken lightly</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Resources</h1>
            <!-- <h2>Where to go to find stuff out</h2> -->
        </div>
        
        <div class="slide">
            <h1>Resources</h1>
            <h2>Course Resources</h2>
<ul>
<p>
your TA (Connor)</p>
<p>
your instructor (me!)</p>
<p>
these slides</p>
<ul>
<p>
which may change some during the quarter</p>
<p>
we will keep latest-and-greatest here at all times</p>
</ul>
<p>
when in doubt...</p>
<ul>
<p>
... about the class, grab the slides</p>
<p>
... about Android, look at Google's docs</p>
<p>
... about Kotlin, look at JetBrains' docs</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Kotlin Resources</h1>
            <!-- <h2>Places to go to get more</h2> -->
        </div>
        
        <div class="slide">
            <h1>Resources</h1>
            <h2>Books</h2>
<ul>
<p>
<em>Kotlin in Action</em></p>
<ul>
<p>
by Dmitry Jemerov and Svetlana Isakova</p>
</ul>
<p>
<em>Android Development with Kotlin</em></p>
<ul>
<p>
by Marcin Moskala and Igor Wojda</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
            <h2>Online</h2>
<ul>
<p>
Kotlin website</p>
<p>
StackOverflow</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android Resources</h1>
            <!-- <h2>Places to go to get more</h2> -->
        </div>
        
        <div class="slide">
            <h1>Resources</h1>
            <h2>Online</h2>
<ul>
<p>
Android Developer Site</p>
<ul>
<p>
https://developer.android.com</p>
</ul>
<p>
The Busy Coder's Guide to Android Development</p>
<ul>
<p>
https://commonsware.com/Android</p>
</ul>
<p>
Google APIs for Android</p>
<ul>
<p>
https://developers.google.com/android/</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
            <h2>Books</h2>
<ul>
<p>
Android Programming, 4th Edition</p>
<ul>
<p>
by Bill Phillips, Chris Stewart (2019)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
            <h2>NOTE:</h2>
<p>
I don't care what you use to learn Kotlin/Android: my slides, online videos, books, or carrier pigeon messages to Android developers in San Jose; many resources means you have lots of options.</p>
<p>
What I <em>do</em> care about, besides you learning Android, is you learning how to learn on your own, and learning what mechanisms work best for you.</p>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android History</h1>
            <!-- <h2>Android introduction, history, architecture, toolchain</h2> -->
        </div>
        
        <div class="slide">
            <h1>Android History</h1>
            <h2>Android 101</h2>
<ul>
<p>
Overview (what is it?)</p>
<p>
History (how did we get here?)</p>
<p>
Architecture (what's it look like?)</p>
<p>
Tooling (what do we use?)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android</h1>
            <!-- <h2>What is it?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Android</h1>
<p>
Android is several things all at the same time</p>
<ul>
<p>
Open-source operating system</p>
<p>
Mobile-focused platform</p>
<p>
Device manufacturers</p>
<p>
Programming platform/ecosystem</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android</h1>
<p>
Android OS</p>
<ul>
<p>
Linux-based operating system</p>
<p>
Open-source (http://developer.android.com)</p>
</ul>
<p>
Mobile-focused</p>
<ul>
<p>
Embedded devices</p>
<p>
Mobile devices (phones, tablets, etc)</p>
<p>
"Netbooks"</p>
<p>
Even laptops and desktops</p>
</ul>
<p>
Device manufacturers</p>
<ul>
<p>
Samsung, Motorola</p>
<p>
HTC, others</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android</h1>
<p>
Android programming platform</p>
<ul>
<p>
Dalvik (now ART) VM-based</p>
<p>
Java (now Kotlin)-language and -library entry point</p>
<p>
JVM-based toolchain</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android</h1>
            <!-- <h2>History: How did we get here?</h2> -->
        </div>
        
        <div class="slide">
            <h1>History</h1>
<p>
In the beginning....</p>
<ul>
<p>
Android was founded in 2003, going after mobile devices</p>
<p>
Google acquired them in 2005</p>
<p>
Promise was an "open-source mobile OS", running on Linux</p>
<p>
2007: Open Handset Alliance (OHSA) announced</p>
<ul>
<p>
Google, HTC, Sony, Samsung, Sprint, T-Mobile, and more</p>
</ul>
<p>
2010: Google announces Nexus devices, starting with Nexus One</p>
</ul>
        </div>

        <div class="slide">
            <h1>History</h1>
<p>
Versions:</p>
<ul>
<p>
see http://www.android.com/history/ for details</p>
<p>
Donut (1.6)</p>
<p>
Eclair (2.0)</p>
<p>
Froyo (2.2)</p>
<p>
Gingerbread (2.3)</p>
<p>
Honeycomb (3.0)</p>
<p>
Ice Cream Sandwich (4.0)</p>
<p>
Jelly Bean (4.1)</p>
<p>
...</p>
</ul>
        </div>

        <div class="slide">
            <h1>History</h1>
<p>
Versions:</p>
<ul>
<p>
KitKat (4.4)</p>
<p>
Lollipop (5.0)</p>
<p>
Marshmallow (6.0)</p>
<p>
Nougat (7.0)</p>
<p>
Oreo (8.0)</p>
<p>
Pie (9.0)</p>
<p>
Android 10</p>
<p>
Android 11</p>
</ul>
        </div>

        <div class="slide">
            <h1>History</h1>
<p>
Versions:</p>
<ul>
<p>
Latest distribution can always be found in Android Studio</p>
<ul>
<p>
Create New Project wizard</p>
</ul>
<p>
Android upgrades/updates seem tied to new purchases</p>
<ul>
<p>
very dissimilar to Apple model (very good upgrade history)</p>
</ul>
<p>
Upgrade policies have historically come through carriers...</p>
<ul>
<p>
... but Google/Android is looking to change that a little</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>History</h1>
<p>
The Legal Battles</p>
<ul>
<p>
Oracle v Google: "You broke your Java license"</p>
<ul>
<p>
followed by "You infringe on our API copyrights"</p>
</ul>
<p>
Apple v Samsung: "You infringed on our IP"</p>
<ul>
<p>
Samsung countersuing over IP infringement as well</p>
</ul>
<p>
FairSearch v Google: "You are engaging in predatory pricing"</p>
<p>
... and likely many more to come</p>
</ul>
        </div>

        <div class="slide">
            <h1>History</h1>
<p>
Android has started to appear on "non-mobile" devices</p>
<ul>
<p>
E-book readers (Nook, Fire)</p>
<p>
Netbooks and smartbooks</p>
<p>
"Smart" TVs</p>
<p>
Cameras</p>
<p>
Special-purpose hardware/devices</p>
<p>
Video gaming systems (NVidia Shield, etc)</p>
<p>
"Wearables" (watch, and... uh... other stuff)</p>
<p>
... and... your car?!?</p>
</ul>
        </div>

        <div class="slide">
            <h1>History</h1>
<p>
Takeaways:</p>
<ul>
<p>
Android ships on a LOT of devices (80%+ for many years)</p>
<ul>
<p>
https://www.idc.com/promo/smartphone-market-share/os</p>
</ul>
<p>
... but what "Android" means depends on the person talking</p>
<ul>
<p>
smartphone OS, or...</p>
<p>
... something else?</p>
</ul>
<p>
Android tablet adoption much slower than mobile phones</p>
<ul>
<p>
but it's picked up since 2013</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android</h1>
            <!-- <h2>Architecture: What's it look like?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>High-level architecture</h2>
<ul>
<p>
Android is not Java</p>
<ul>
<p>
Android is a mix of native and VM (Dalvik/ART) code</p>
<p>
Runs on top of a specialized build of Linux</p>
<p>
Java/Kotlin source is compiled to JVM bytecode</p>
<p>
Postprocessor converts JVM bytecode to DVM bytecode</p>
</ul>
<p>
NOTE: this may change with Kotlin Native</p>
<ul>
<p>
could compile straight to ART bytecode (or ARM binary)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>Android is Linux kernel OS</h2>
<ul>
<p>
Linux provides baseline OS support: sockets, files, etc</p>
<p>
Linux process model provides per-process security</p>
<p>
Standard C library is a modified libc (Bionic)</p>
<p>
No XWindows (for fairly obvious reasons)</p>
<p>
Most hardware drivers are native/C code</p>
<p>
Many/most libraries are native/C code</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>Android apps run on the Dalvik VM or ART</h2>
<ul>
<p>
Clean-room implementation of a VM similar to the JVM</p>
<p>
Work started using the Apache Harmony JVM</p>
<p>
Uses a different bytecode format (DEX and/or ODEX)</p>
<p>
Replaced by Android RunTime ("ART") in Android 5.0</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>Dalvik technical details</h2>
<ul>
<p>
register-based virtual machine</p>
<p>
JIT compiler</p>
<p>
fewer instructions in the bytecode set</p>
<p>
executes one per application process</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>Android RunTime (ART) technical details</h2>
<ul>
<p>
accepts DEX bytecode for backwards compat</p>
<p>
uses "Ahead Of Time" (AOT) compiler to pre-compile apps to native</p>
<p>
results in faster execution when launched, but...</p>
<p>
... takes longer to install, and ...</p>
<p>
... requires some (?) more space</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>Application framework code written in Java/DEX</h2>
<ul>
<p>
Activity manager, window manager, other managers</p>
<p>
These libraries are pre-DEXed on the device</p>
<ul>
<p>
they live in /system/...</p>
</ul>
<p>
The JARs we compile against are just empty stubs</p>
<p>
This is the only "library sharing" done</p>
<ul>
<p>
... meaning any 3rd-party JARs you use are copied into your app code</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Architecture</h1>
            <h2>Android apps are APK files</h2>
<ul>
<p>
APK files are essentially ZIP files</p>
<p>
Contain code, resources, and a manifest</p>
<p>
All code and files are packaged up for easy distribution</p>
<ul>
<p>
APK is "side-loaded" to a device, or...</p>
<p>
APK files are crypto-signed for security before upload to "store"</p>
</ul>
<p>
APK downloaded to phone, installed, and ready to run</p>
</ul>
        </div>

        <div class="slide">
            <h1>App Architecture</h1>
            <h2>Android apps are different from traditional apps</h2>
<ul>
<p>
no single entry point</p>
<p>
lots of cross-app engagement (phone, SMS, camera, etc)</p>
<p>
resource-constrained (comparatively)</p>
</ul>
            <h2>In practice, it's a combination:</h2>
<ul>
<p>
traditional monolithic application</p>
<p>
web application</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android Tooling</h1>
            <!-- <h2>How do we build these things?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Tools</h1>
<p>
Programmer prereqs</p>
<ul>
<p>
Java journeyman developer</p>
<ul>
<p>
Should be comfortable with classes and O-O patterns</p>
<p>
Should be comfortable with the Java toolchain</p>
<p>
Should be comfortable with the command-line</p>
<p>
Should be comfortable with basic GUI concepts</p>
</ul>
<p>
Learn Kotlin</p>
<ul>
<p>
this is clearly the Google-preferred path forward</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Tools</h1>
<p>
Development machine prereqs</p>
<ul>
<p>
Windows, MacOS, Linux</p>
<ul>
<p>
Tooling runs on each platform pretty easily</p>
<p>
Android emulator sucks on Windows, though</p>
</ul>
<p>
Usual developer specs (hardware)</p>
<ul>
<p>
Plenty of memory</p>
<p>
Lots o' disk space</p>
<p>
Acres of screen real estate</p>
</ul>
<p>
Android device(s)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Tools</h1>
<p>
Software prereqs</p>
<ul>
<p>
Android Studio is really the best bet</p>
<p>
There used to be other options</p>
<ul>
<p>
Eclipse</p>
<p>
Standalone SDKs (still available)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Tools</h1>
<p>
Installing Android</p>
<ul>
<p>
Android Dev Studio: IDEA-based IDE</p>
</ul>
<p>
Optional tools</p>
<ul>
<p>
JetBrains IDEA Community Edition</p>
<p>
Android SDK (http://developer.android.com)</p>
<ul>
<p>
Download, or use platform-specific install</p>
<p>
a la MacOS: "brew install android-sdk"</p>
</ul>
<p>
Android NDK (Native Development Kit)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Getting Started</h1>
<p>
Gradle</p>
<ul>
<p>
build tool for JVM ecosystem</p>
<p>
uses internet packages ("Maven Central") for dependency management</p>
<p>
uses either Groovy or Kotlin syntax</p>
<p>
arranged as a series of dependency-declared "tasks"</p>
<p>
invoked by Android Studio or from command-line</p>
</ul>
        </div>

        <div class="slide">
            <h1>Getting Started</h1>
<p>
<code>emulator</code></p>
<ul>
<p>
Android device emulator</p>
<p>
managed through Android Virtual Devices (AVDs)</p>
<p>
emulation of mobile functionality limited</p>
<p>
mimics a device over USB connection</p>
</ul>
        </div>

        <div class="slide">
            <h1>Getting Started</h1>
<p>
<code>adb</code></p>
<ul>
<p>
Android Device Bridge</p>
<p>
General-purpose command line Android tool</p>
<ul>
<p>
diagnostic log tailing</p>
<p>
install/remove application</p>
<p>
device shell access</p>
<p>
file exchange with host</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Setting Up</h1>
<p>
Android Virtual Device (AVDs)</p>
<ul>
<p>
used solely by the emulator</p>
<p>
designed to mimic a generic Android device</p>
<p>
specify a platform ID, hardware, etc</p>
<p>
sharable across developers if/when necessary</p>
<p>
lacks certain hardware capabilities/features</p>
</ul>
        </div>

        <div class="slide">
            <h1>Steps in the build</h1>
<p>
When building an Android app, the Android tools need to...</p>
<ul>
<p>
generate sources (resource files, ViewModel classes, etc)</p>
<p>
compile the source code into JVM bytecode</p>
<p>
"dex" the bytecode into Dalvik/ART bytecode</p>
<p>
pack the graphic resources</p>
<p>
collect the code and resources into a zip file (APK)</p>
<p>
cryptographically sign the APK file</p>
<ul>
<p>
this prevents tampering "in flight"</p>
<p>
this also proves this is from you (the developer)</p>
<p>
necessary to deploy to the Google Play Store</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Tooling</h1>
<p>
By the way...</p>
<ul>
<p>
Android does have a Native Development Kit (NDK)</p>
<ul>
<p>
GCC C/C++ based, using GNU toolchain to compile to ARM</p>
<p>
Used to develop native code extensions to Android apps</p>
<p>
Uses JNI as the trampoline into native code</p>
</ul>
<p>
Wasn't (pre-r5) intended for standalone native app development</p>
<p>
Recommended that you stay with Kotlin-based app dev</p>
<ul>
<p>
But sometimes you need that extra bit of perf....</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 5 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
<p>
Hello, Android!</p>
<ul>
<p>
Create a scaffolded-out Android application</p>
<ul>
<p>
Target it to Android 8.1 (Oreo)</p>
<p>
Package should be "edu.washington..hello"</p>
</ul>
<p>
... and then:</p>
<ul>
<p>
Change the "Hello World" text edit to read "Go Seahawks!"</p>
<ul>
<p>
or "Go Dawgs!" or "Cougars suck!" or ...</p>
</ul>
<p>
Change the displayed name of the app to "Hello"</p>
<p>
Ensure it builds correctly</p>
<p>
Ensure it runs inside the emulator <em>and</em> a physical device</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Rationale</p>
<ul>
<p>
First steps in any new environment:</p>
<ul>
<p>
Get the tooling installed</p>
<p>
Build a "hello world" app</p>
<p>
Deploy it to its intended target environment</p>
</ul>
<p>
This is often called "iteration zero"</p>
<p>
You really do NOT want to skip this step</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
All your code should be in a GitHub repo under your account</p>
<ul>
<p>
repo should be called 'helloandroid'</p>
<p>
repo should contain all necessary build artifacts</p>
<p>
include a directory called "screenshots", including:</p>
<ul>
<p>
screenshot of app running on emulator</p>
</ul>
<p>
pic or screenshot or movie of app running on a device</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
We will clone and build it from the GH repo</p>
<p>
5 points:</p>
<ul>
<p>
it builds: 2 pts</p>
<p>
it runs in the emulator: 1 pt</p>
<p>
we see it runs on a device: 1 pt</p>
<p>
the app name is "Hello": 1 pt</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Suggestions</p>
<ul>
<p>
Do a little bit of work, check in the work</p>
<ul>
<p>
get in to this habit now!</p>
</ul>
<p>
Try cloning the repository on a different machine and building</p>
<ul>
<p>
because that's how we'll be grading, so if you forgot to include something, you won't know it unless you try doing it "someplace else"</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>5 Jan</h1>
            <!-- <h2>Basic Kotlin</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Kotlin: Syntax</h2>
<ul>
<p>
basics, primitive types, collection types</p>
<p>
flow control, Exceptions</p>
<p>
functions</p>
<p>
classes</p>
</ul>
        </div>

        <div class="slide">
            <h1>Overview</h1>
<p>
What is Kotlin?</p>
<ul>
<p>
From the website:</p>
<ul>
<p>
"Statically typed programming language for the JVM, Android and the browser"</p>
</ul>
<p>
From Wikipedia:</p>
<ul>
<p>
"Kotlin is a statically-typed programming language that runs on the Java Virtual Machine and also can be compiled to JavaScript source code"</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Overview</h1>
<p>
Kotlin is...</p>
<ul>
<p>
statically typed</p>
<p>
object-oriented</p>
<p>
compiled</p>
<p>
cross-targeting</p>
<ul>
<p>
JVM</p>
<p>
Android (Dalvik, ART)</p>
<p>
JavaScript</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Kotlin Basics</h1>
            <!-- <h2>Syntax</h2> -->
        </div>
        
        <div class="slide">
            <h1>Kotlin Basics</h1>
<p>
Syntax: C-family language based (loosely)</p>
<ul>
<p>
curly-brackets for scope</p>
<p>
alpha/alphanumeric identifiers</p>
<p>
/* */ multiline comments</p>
<p>
// end-of-line comments</p>
<p>
optional semicolon line terminators</p>
</ul>
        </div>

        <div class="slide">
            <h1>Kotlin Basics</h1>
<p>
Source files may begin with "package" declarations</p>
<ul>
<p>
indicates lexical namespace for all types found within</p>
<ul>
<p>
the unnamed/unspecified package is called "default"</p>
</ul>
<p>
no relationship between package name and filesystem state is assumed</p>
<ul>
<p>
allows for flexible packaging conventions</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Kotlin Basics</h1>
<p>
Source files may reference other modules</p>
<ul>
<p>
use "import" to bring in top-level lexical elements</p>
<p>
<code>import foo.Bar</code></p>
<ul>
<p>
makes "Bar" accessible without qualification</p>
</ul>
<p>
<code>import foo.*</code></p>
<ul>
<p>
makes all foo elements accessible without qualification</p>
</ul>
<p>
<code>import foo.Bar as bBar</code></p>
<ul>
<p>
makes foo.Bar accessible as bBar</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Primitive Types</h1>
            <!-- <h2>The atoms of the language</h2> -->
        </div>
        
        <div class="slide">
            <h1>Primitive Types</h1>
<p>
Primitive types</p>
<ul>
<p>
"everything is an object"</p>
<p>
<code>val</code> denotes immutable value declaration</p>
<p>
<code>var</code> denotes mutable variable declaration</p>
<p>
"destructuring" declarations permitted</p>
<ul>
<p>
if the instance being destructured supports this</p>
</ul>
<p>
suffixed ("Pascal-style") type descriptors</p>
<ul>
<p>
Kotlin will infer type if type descriptor is absent</p>
</ul>
<p>
Nullable type declared with "?" suffix</p>
</ul>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
<p>
Boolean</p>
<ul>
<p>
<code>true</code>, <code>false</code>: literals</p>
<p>
logical operations: <code>||</code>, <code>&&</code>, <code>!</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
<p>
Numbers</p>
<ul>
<p>
Integral Numbers: <code>Long</code> (64), <code>Int</code> (32), <code>Short</code> (16), <code>Byte</code> (8)</p>
<ul>
<p>
integral literals are Int by default</p>
<p>
Long literals require an "L" suffix</p>
</ul>
<p>
Floating-point Numbers: Double (64), Float(32)</p>
<ul>
<p>
floating-point literals are Double by default</p>
<p>
Float literals require an "F" or "f" suffix</p>
</ul>
<p>
Hexadecimal constants: 0x prefix; Binary constants: 0b prefix</p>
</ul>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
<p>
Numbers</p>
<ul>
<p>
No implicit conversion (except for literals)</p>
<p>
Explicit conversion required for widening or narrowing conversions</p>
<p>
All numeric types support conversion methods:</p>
<ul>
<p>
<code>toByte</code>, <code>toShort</code>, <code>toInt</code>, <code>toLong</code></p>
<p>
<code>toFloat</code>, <code>toDouble</code>, <code>toChar</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
            <p>Kotlin conversions</p>            <pre style="background-color:black">
val a: Int = 10000
print(a === a) // Prints 'true'

val boxedA: Int? = a
val anotherBoxedA: Int? = a
print(boxedA === anotherBoxedA) // !!!Prints 'false'!!!

val b: Byte = 1 // OK, literals are checked statically
// val i: Int = b // ERROR
val i: Int = b.toInt() // OK: explicitly widened
</pre>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
<p>
Char: single character</p>
<ul>
<p>
single-quote literals</p>
<p>
backslash-escaped: \t \b \n \r ' " \ $</p>
<p>
Unicode escape sequence syntax: '\uFF00'</p>
</ul>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
<p>
Strings: multiple-character</p>
<ul>
<p>
double-quite literals</p>
<p>
triple-quote "heredoc" strings</p>
<p>
individual elements accessed using ""</p>
<p>
elements can be iterated using "for" loop</p>
<p>
supports "${expression}" interpolation</p>
</ul>
        </div>

        <div class="slide">
            <h1>Primitive Types</h1>
            <p>Kotlin strings</p>            <pre style="background-color:black">
val s = "Hello, world!\n"
val s2 = "s = ${s}!"

val text = """
  for (c in "foo")
    print(c)
"""

val quote = """
    |Tell me and I forget. 
    |Teach me and I remember. 
    |Involve me and I learn.
    |  (Benjamin Franklin)
    """.trimMargin()
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Collection types</h1>
            <!-- <h2>Bundling up</h2> -->
        </div>
        
        <div class="slide">
            <h1>Collections</h1>
<p>
Arrays</p>
<ul>
<p>
represented by Array class</p>
<p>
fixed-size</p>
<p>
provides <code>size</code>, <code>[]</code> access and iteration</p>
<p>
construct using <code>arrayOf</code> or <code>arrayOfNulls</code>, or factory function</p>
<ul>
<p>
specialized <code>intArrayOf</code> for each primitive type available</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Collections</h1>
            <p>Kotlin arrays</p>            <pre style="background-color:black">
val nums = arrayOf(1, 2, 3) // [1, 2, 3]
println(nums[0])
//nums[1] = 12 // ERROR!
println(nums[2])

val nulls : Array<Any?> = arrayOfNulls(3) // [null, null, null]

val asc = Array(5, { i -> (i * i).toString() }) // [0,1,4,9,16]
println(asc)
</pre>
        </div>

        <div class="slide">
            <h1>Collections</h1>
<p>
Ranges</p>
<ul>
<p>
finite sequence</p>
<p>
formed using <code>rangeTo</code> or <code>..</code> operator</p>
<p>
membership tested using <code>in</code> or <code>!in</code> operators</p>
<p>
supports iteration</p>
</ul>
        </div>

        <div class="slide">
            <h1>Collections</h1>
            <p>Kotlin ranges</p>            <pre style="background-color:black">
val nums = 0..10 // 0,1,2,3,...,10
if (1 in nums)
  println("true!")

val desc = 10 downTo 0 // 10,9,8,...,0

val evens = 0..10 step 2 // 0,2,4,...,10
if (5 in evens)
  println("Errr... broken?")

val odds = 1..10 step 2 // 1,3,5,...,9
if (5 in odds)
  println("true!")
</pre>
        </div>

        <div class="slide">
            <h1>Collections</h1>
<p>
Lists</p>
<ul>
<p>
ordered collection</p>
<p>
supports mutable and immutable</p>
<p>
construct using <code>mutableListOf()</code> or <code>listOf()</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Collections</h1>
            <p>Kotlin lists</p>            <pre style="background-color:black">
val items = listOf(1, 2, 3, 4)
items.first() == 1
items.last() == 4
val evens = items.filter { it % 2 == 0 }
println(evens == listOf(2, 4)) // true

val rwList = mutableListOf(1, 2, 3, 4)
if (rwList.none { it > 6})
  println("No item in rwList is greater than 6")
</pre>
        </div>

        <div class="slide">
            <h1>Collections</h1>
<p>
Sets</p>
<ul>
<p>
unordered collection, guarantees uniqueness</p>
<p>
supports mutable and immutable</p>
<p>
construct using <code>mutableSetOf()</code> or <code>setOf()</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Collections</h1>
            <p>Kotlin sets</p>            <pre style="background-color:black">
val numbers = hashSetOf(0, 1, 2, 2, 3, 3, 3, 4, 5, 4)
println(numbers) // [0, 1, 2, 3, 4, 5]
</pre>
        </div>

        <div class="slide">
            <h1>Collections</h1>
<p>
Maps</p>
<ul>
<p>
unordered collection of key/value pairs</p>
<p>
supports mutable and immutable</p>
<p>
construct using <code>hashMapOf(key to value, ...)</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Collections</h1>
            <p>Kotlin maps</p>            <pre style="background-color:black">
val readWriteMap = hashMapOf("foo" to 1, "bar" to 2)
println(readWriteMap["foo"])  // prints "1"

val snapshot: Map<String, Int> = HashMap(readWriteMap)
println(snapshot)
//snapshot["foo"] = 12 // ERROR!
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Flow Control</h1>
            <!-- <h2>When decisions must be made</h2> -->
        </div>
        
        <div class="slide">
            <h1>Flow Control</h1>
<p>
<code>if</code> (decision-branching)</p>
<ul>
<p>
<code>true</code>/<code>false</code> expression evaluation</p>
<p>
itself is an expression (yields a value)</p>
<p>
each branch can be a single expression or a block</p>
<ul>
<p>
if a block, last value is assumed value for the block</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
            <p>Kotlin if</p>            <pre style="background-color:black">
var a = 5
var b = 12

var max: Int = 0
if (a > b) 
  max = a 
else 
  max = b 
 
// As expression 
val max2 = if (a > b) a else b
</pre>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
<p>
<code>when</code> (decision-branching)</p>
<ul>
<p>
replaces 'switch' from C-family languages</p>
<p>
matches expression sequentially against branches until a match is found</p>
<p>
<code>else</code> branch is used if no match is found</p>
<p>
can be either statement or expression</p>
</ul>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
            <p>Kotlin when</p>            <pre style="background-color:black">
val x = 2
when (x) {
  1 -> print("x == 1")
  2 -> print("x == 2")
  else -> { // Note the block
    print("x is neither 1 nor 2")
  }
}
</pre>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
<p>
when branch conditions</p>
<ul>
<p>
can be combined with a comma</p>
<p>
can be arbitrary expressions</p>
<p>
can be in a range or collection</p>
<p>
can check for type using "is"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
            <p>Kotlin when</p>            <pre style="background-color:black">
val validNumbers = 1..10
when (x) {
  0, 1 -> print("x == 0 or x == 1")
  parseInt(s) -> print("s encodes x")
  in 1..10 -> print("x is in the range")
  in validNumbers -> print("x is valid")
  !in 10..20 -> print("x is outside the range")
  else -> print("otherwise")
}
    
val hasPrefix = when(y) {
  is String -> y.startsWith("prefix")
  else -> false
}
</pre>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
<p>
<code>for</code> (iteration/loops)</p>
<ul>
<p>
iterates through anything that provides an iterator</p>
<p>
body can be either single expression or block</p>
<p>
note that different collections permit different iteration options</p>
</ul>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
            <p>Kotlin for</p>            <pre style="background-color:black">
val array = arrayOf(1, 2, 3, 4, 5, 6)
for (i in array)
  println(i)

for (idx : Int in array) {
  println(idx)
}

for (index in array.indices) {
  println(array[index])
}

for ((index,value) in array.withIndex()) {
  println("the array element at $index holds $value")
}
</pre>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
<p>
<code>while</code>, <code>do</code>/<code>while</code> (loops)</p>
<ul>
<p>
each takes statement body for repeated execution</p>
<p>
while evaluates expression before evaluation of body</p>
<p>
do/while evaluates expression after evaluation of body</p>
</ul>
        </div>

        <div class="slide">
            <h1>Flow Control</h1>
<p>
<code>break</code></p>
<ul>
<p>
terminates nearest enclosing loop</p>
</ul>
<p>
<code>continue</code></p>
<ul>
<p>
proceeds to next step of nearest enclosing loop</p>
</ul>
<p>
<code>return</code></p>
<ul>
<p>
returns from nearest enclosing function</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Exceptions</h1>
            <!-- <h2>For when the code goes south</h2> -->
        </div>
        
        <div class="slide">
            <h1>Exceptions</h1>
<p>
Kotlin manages errors as Exceptions</p>
<ul>
<p>
(very much in line with the JVM)</p>
<p>
exception objects are thrown "up the stack"</p>
<p>
exception objects can be caught and handled or re-thrown</p>
</ul>
        </div>

        <div class="slide">
            <h1>Exceptions</h1>
<p>
Throwing an exception is simple</p>
<ul>
<p>
"throw (instance)"</p>
<ul>
<p>
type must derive (ultimately) from Throwable</p>
<p>
types usually imply some level of detail</p>
</ul>
<p>
Kotlin does not follow Java standard of "checked/unchecked" exceptions; all exceptions are "unchecked"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Exceptions</h1>
<p>
Guarded blocks frame exception-handling behavior</p>
<ul>
<p>
<code>try</code> indicates guarded block</p>
<p>
body of try indicates area of code guarded</p>
<p>
guarded block must have 1+ <code>catch</code> clauses and/or <code>finally</code> clause</p>
<p>
<code>try</code> block is itself an expression (yields a value)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Exceptions</h1>
            <p>Kotlin Exceptions</p>            <pre style="background-color:black">
val a: Int? = try { parseInt(input) } catch (e: NumberFormatException) { null }
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Functions</h1>
            <!-- <h2>Modularizing logic in the micro</h2> -->
        </div>
        
        <div class="slide">
            <h1>Functions</h1>
<p>
Functions</p>
<ul>
<p>
<code>fun</code> keyword</p>
<p>
optional identifier name (none = anonymous function literal)</p>
<p>
parenthesized parameter list</p>
<ul>
<p>
parameter declarations can have default values</p>
<p>
vararg-declared parameters are an Array-of-T parameter</p>
</ul>
<p>
return type descriptor</p>
<ul>
<p>
no return means return type is Unit or can be omitted</p>
</ul>
<p>
expression or block</p>
<ul>
<p>
single-expression functions can omit the curly brackets and return type</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Functions</h1>
<p>
Invoking Functions</p>
<ul>
<p>
parenthesized invocation syntax</p>
<p>
type/number of parameters must match</p>
<p>
parameter names can be given at point of call to replace default-valued parameters</p>
<p>
note that if last parameter to a function is a function, a lambda can be passed outside of the parentheses</p>
</ul>
        </div>

        <div class="slide">
            <h1>Functions</h1>
            <p>Function declarations</p>            <pre style="background-color:black">
fun add(left: Int, right: Int): Int {
  return left + right
}
val five = add(2, 3)
    
val adder = fun(left: Int, right: Int): Int {
  return left + right
}
val six = adder(3, 3)
    
val adderUp = fun(left: Int, right: Int): Int = left + right
</pre>
        </div>

        <div class="slide">
            <h1>Functions</h1>
            <p>Function parameter variations</p>            <pre style="background-color:black">
fun doComplicatedThings(a: Int = 0, b: Int = -1, c: Boolean = false): Int {
  return if (c) a else b
}
doComplicatedThings() // = -1
doComplicatedThings(c = true) // = 0
    
fun log(msg: String, vararg msgs: String): Unit {
  print(msg)
  for (m in msgs) {
    print(" " + m)
  }
  println()
} 
log("Howdy!")
log("Howdy","y'all!")
</pre>
        </div>

        <div class="slide">
            <h1>Functions</h1>
<p>
Passing Functions</p>
<ul>
<p>
non-parenthesized reference syntax</p>
<p>
function parameter list (type/number) and return type must match</p>
<p>
function type is marked as <code>(T1, T2, ...) -> RT</code>--- where T1, T2, ... are parameter types and RT is return type</p>
</ul>
        </div>

        <div class="slide">
            <h1>Functions</h1>
<p>
Shorthand (lambda) function syntax</p>
<ul>
<p>
parenthesized parameter names (no types)</p>
<ul>
<p>
singular parameters can be defined without parens</p>
<p>
singular parameters can be omitted entirely using default name "it"</p>
</ul>
<p>
<code>-></code></p>
<p>
body</p>
</ul>
        </div>

        <div class="slide">
            <h1>Functions</h1>
            <p>Lambdas</p>            <pre style="background-color:black">
val ints = arrayOf(4, 8, 16)
val doubled = ints.map { it -> it * 2 }
val halved = ints.map { it / 2 }
    
fun doSomethingNTimes(times: Int, body: () -> Unit) {
  for (i in 1..times) {
    body()
  }
}
doSomethingNTimes(5) {
  println("Whee!")
}
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Classes</h1>
            <!-- <h2>Cookie-cutters for object instances</h2> -->
        </div>
        
        <div class="slide">
            <h1>Classes</h1>
<p>
<code>class</code></p>
<ul>
<p>
followed by identifier</p>
<p>
primary constructor appears after identifier</p>
<ul>
<p>
includes parameter list</p>
<p>
named parameters can be referenced inside class body</p>
<p>
<code>val</code> or <code>var</code> declared parameters declare immutable or mutable properties</p>
<p>
parameters can have default values and/or varargs, just as with functions</p>
</ul>
<p>
initializer blocks (<code>init</code>) in class body are executed on construction</p>
</ul>
        </div>

        <div class="slide">
            <h1>Classes</h1>
<p>
Instantiating a class</p>
<ul>
<p>
use class type as "constructor function" (no "new")</p>
<p>
constructor parameter list (type/number) must be satisfied</p>
</ul>
        </div>

        <div class="slide">
            <h1>Classes</h1>
            <p>Simple class and use</p>            <pre style="background-color:black">
class Person(var firstName: String, val lastName: String, var age: Int)
{
  init {
    println("Person $firstName $lastName constructed")
  }
}
val ted = Person("Ted", "Neward", 45)
println("${ted.firstName} is ${ted.age} years old")
</pre>
        </div>

        <div class="slide">
            <h1>Classes</h1>
<p>
Classes can declare secondary constructors</p>
<ul>
<p>
must delegate to primary constructor using ": this(params)" after declaration</p>
<p>
body is then able to provide whatever logic/behavior desired</p>
</ul>
        </div>

        <div class="slide">
            <h1>Classes</h1>
            <p>Secondary constructors</p>            <pre style="background-color:black">
class Person(var firstName: String, val lastName: String, var age: Int)
{
  constructor(soleName: String, age: Int) 
    : this(soleName, "", age)
  {
  }
}
val ted = Person("Ted", "Neward", 45)
println("${ted.firstName} is ${ted.age} years old")
val cher = Person("Cher", 39)
println("${cher.firstName} is ${cher.age} years old")
</pre>
        </div>

        <div class="slide">
            <h1>Classes</h1>
<p>
Classes can contain</p>
<ul>
<p>
secondary constructors</p>
<p>
properties</p>
<p>
functions (methods)</p>
<p>
object declarations (statics)</p>
<p>
nested/inner classes</p>
<ul>
<p>
nested classes declared with "inner" have access to private members of enclosing class</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Properties</h1>
            <!-- <h2>Encapsulating state without too much ceremony</h2> -->
        </div>
        
        <div class="slide">
            <h1>Properties</h1>
<p>
Properties represent state in a class</p>
<ul>
<p>
properties can be read-only (val) or mutable (var)</p>
<p>
properties can be initialized with values</p>
<ul>
<p>
type declaration is optional if initializer is present</p>
</ul>
<p>
properties can have optional getter/setter</p>
<ul>
<p>
<code>get()</code> returns a value of the correct type</p>
<p>
<code>set(value)</code> provides for validation concerns</p>
<p>
both are functions (with all the syntactic shortcuts)</p>
<p>
backing fields referenced via "field" keyword</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>Simple property usage</p>            <pre style="background-color:black">
public class Address { 
  public var name: String = ""
  public var street: String = ""
  public var city: String = ""
  public var state: String? = ""
  public var zip: String = ""
}
val addr = Address()
addr.name = "Fred Flintstone"
addr.street = "1 Bedrock Way"
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>Getter/setter usage</p>            <pre style="background-color:black">
class SecretAsset {
  var codeName: String = ""
  var realName: String = ""
    get() = "<REDACTED>"
    set(value) {
      field = value
    }
}
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
<p>
Sometimes the implicit backing field isn't quite right</p>
<ul>
<p>
define a "backing property"</p>
<p>
operates/behaves basically like languages without properties at this point</p>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>Backing properties</p>            <pre style="background-color:black">
class Container {
  private var _table: Map<String, Int>? = null
  public val table: Map<String, Int>
    get() {
      if (_table == null)
        _table = HashMap()
      return _table ?: throw AssertionError("Set to null by another thread")
    }
}
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
<p>
Properties can be marked "const"</p>
<ul>
<p>
for compile-time constants only</p>
<p>
must be top-level in a package or as part of an object</p>
<p>
must be initialized with String or primitive type</p>
<p>
no custom getter</p>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
<p>
Properties can be marked "lazyinit"</p>
<ul>
<p>
only available on var properties</p>
<p>
cannot have custom getter/setter</p>
<p>
not exactly the same as "initialized on first use"; just implies "initialization will happen later"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
<p>
Delegated properties</p>
<ul>
<p>
certain kinds of behavior around properies are common</p>
<ul>
<p>
lazy properties</p>
<p>
observable properties</p>
<p>
backing store as a map, not fields</p>
</ul>
<p>
it would be nice to be able to not re-write these each time</p>
<p>
enter "delegating properties"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>Using a delegating property</p>            <pre style="background-color:black">
class Example {
    var p: String by Delegate()
}
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
<p>
Delegated type must expose two operator methods</p>
<ul>
<p>
getValue()</p>
<p>
setValue()</p>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>A delegating property type</p>            <pre style="background-color:black">
class Delegate {
operator fun getValue(thisRef: Any?, property: KProperty<*>): String {
  return "$thisRef, thank you for delegating '${property.name}' to me!"
}
operator fun setValue(thisRef: Any?, property: KProperty<*>, value: String) {
  println("$value has been assigned to '${property.name} in $thisRef.'")
}
}
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
<p>
Out-of-the-box property delegate types</p>
<ul>
<p>
lazy: lambda fired on first access</p>
<p>
Delegates.observable: registers lambdas for later access</p>
<p>
map: store property data in a Map<String,Any?></p>
</ul>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>lazy</p>            <pre style="background-color:black">
class Container {
  val lazyValue: String by lazy {
      println("computed!")
      "Hello"
  }
}
val c = Container()
println(c.lazyValue)
println(c.lazyValue)
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>observable</p>            <pre style="background-color:black">
class User {
    var name: String by Delegates.observable("<no name>") {
        prop, old, new ->
        println("$old -> $new")
    }
}
    
val user = User()
user.name = "first"
user.name = "second"
</pre>
        </div>

        <div class="slide">
            <h1>Properties</h1>
            <p>map</p>            <pre style="background-color:black">
class Person(val map: Map<String, Any?>) {
  val name: String by map
  val age: Int     by map
}
val person = Person(mapOf(
    "name" to "John Doe",
    "age"  to 25
))
println(person.name)
println(person.age)
println(person.map)
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Methods and Operators</h1>
            <!-- <h2>Enabling behavior on classes</h2> -->
        </div>
        
        <div class="slide">
            <h1>Methods and Operators</h1>
<p>
Classes can have behavior</p>
<ul>
<p>
expressed either as methods (named) or operators (symbolic or inferred)</p>
<p>
both are essentially functions in character</p>
</ul>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
            <p>Methods</p>            <pre style="background-color:black">
class FootballPlayer {
  fun run() { println("Running!") }
  fun pass() { println("Passing!") }
}
val tomBrady = FootballPlayer()
tomBrady.pass()
tomBrady.pass()
//tomBrady.cheat() // No! Bad Tom!
</pre>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
<p>
Methods can be marked with "operator"</p>
<ul>
<p>
operator overloads are methods by fixed names</p>
<p>
unary operations</p>
<ul>
<p>
"+a" == "unaryPlus()"</p>
<p>
"-a" == "unaryMinus()"</p>
<p>
"!a" == "not()"</p>
<p>
"a++" == "inc()" (shouldn't modify object)</p>
<p>
"a--" == "dec()" (shouldn't modify object)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
<p>
Methods can be marked with "operator"</p>
<ul>
<p>
binary operations</p>
<ul>
<p>
"a + b" == "plus()"</p>
<p>
"a - b" == "minus()"</p>
<p>
"a * b" == "times()"</p>
<p>
"a / b" == "div()"</p>
<p>
"a % b" == "mod()"</p>
<p>
"a..b" == "rangeTo()"</p>
<p>
"a in b" == "b.contains()"</p>
<p>
"a !in b" == "b.contains()" (inversed)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
<p>
Methods can be marked with "operator"</p>
<ul>
<p>
subscript operations</p>
<ul>
<p>
"ai" == "a.get(i)"</p>
<p>
"ai, j"	== "a.get(i, j)"</p>
<p>
"ai_1, ..., i_n" == "a.get(i_1, ..., i_n)"</p>
<p>
"ai = b" == "a.set(i, b)"</p>
<p>
"ai, j = b" == "a.set(i, j, b)"</p>
<p>
"ai_1, ..., i_n = b" == "a.set(i_1, ..., i_n, b)"</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
<p>
Methods can be marked with "operator"</p>
<ul>
<p>
invocation operations</p>
<ul>
<p>
"a()" == "a.invoke()"</p>
<p>
"a(i)" == "a.invoke(i)"</p>
<p>
"a(i, j)" == "a.invoke(i, j)"</p>
<p>
"a(i_1, ..., i_n)" == "a.invoke(i_1, ..., i_n)"</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
            <p>Operators</p>            <pre style="background-color:black">
data class Money(val amount: Int, val currency: String = "USD") {
  operator fun plus(other: Money): Money {
    if (this.currency != other.currency)
      throw Exception("Conversion required!")
    else
      return Money(this.amount + other.amount, this.currency)
  }
}
operator fun Money.unaryMinus() = Money(-amount, currency)
    
val salary = Money(100000, "USD")
val bonus = Money(50000, "USD")
println(salary + bonus)
</pre>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
<p>
Member functions can be used with infix notation</p>
<ul>
<p>
mark method with "infix"</p>
<p>
name need not be an operator</p>
<p>
typically must return a value</p>
</ul>
        </div>

        <div class="slide">
            <h1>Methods and Operators</h1>
            <p>Infix operations</p>            <pre style="background-color:black">
class Matrix(var number : Int) {
  infix fun rotate(amt: Int): Matrix {
    return this
  }
}
var m = Matrix(5)
m = m rotate 5
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Objects</h1>
            <!-- <h2>What other languages call 'static'</h2> -->
        </div>
        
        <div class="slide">
            <h1>Objects</h1>
<p>
Object declarations</p>
<ul>
<p>
pseudo-replacement for static members/fields/methods</p>
<p>
use "object" instead of "class" to create Singleton instance</p>
<ul>
<p>
objects can have supertypes if desired</p>
</ul>
<p>
use object identifier name to reference instance</p>
</ul>
        </div>

        <div class="slide">
            <h1>Objects</h1>
            <p>Objects</p>            <pre style="background-color:black">
object DataProviderManager {
fun registerDataProvider(provider: DataProvider) {
  // ...
}

val allDataProviders: Collection<DataProvider>
  get() = // ...
}
DataProviderManager.registerDataProvider(...)
</pre>
        </div>

        <div class="slide">
            <h1>Objects</h1>
<p>
Companion objects can be declared using "companion" keyword</p>
<ul>
<p>
companion object declared/defined inside its partner</p>
<p>
methods on companion object are "as if" they were declared on the enclosing class</p>
<p>
name can be omitted (in which case the companion is called "Companion")</p>
</ul>
        </div>

        <div class="slide">
            <h1>Objects</h1>
            <p>Companion objects</p>            <pre style="background-color:black">
class MyClass {
  companion object Factory {
    fun create(): MyClass = MyClass()
  }
}
val instance = MyClass.create()

class MyOtherClass {
  companion object {
  }
}
val companionInstance = MyOtherClass.Companion
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 10 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
<p>
Kotlin Basics</p>
<ul>
<p>
Follow the directions at https://github.com/tedneward/uw-basic-kotlin</p>
<p>
You need only modify the "Homework.kt" file -- nothing else!</p>
<p>
Make sure your code is on GitHub under your own account</p>
<ul>
<p>
call the repo <code>basickotlin</code> (important!)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading (5 pts)</p>
<ul>
<p>
if all the tests pass, 5 pts</p>
<p>
if they do not, 0 pts</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>10 Jan</h1>
            <!-- <h2>Advanced Kotlin</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Kotlin: More Syntax</h2>
<ul>
<p>
inheritance, interfaces</p>
<p>
data classes</p>
<p>
enumerations</p>
<p>
sealed classes</p>
<p>
generics</p>
<p>
annotations</p>
<p>
coroutines</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Inheritance</h1>
            <!-- <h2>Modeling the IS-A relationship between classes</h2> -->
        </div>
        
        <div class="slide">
            <h1>Inheritance</h1>
<p>
Kotlin supports single-class Inheritance</p>
<ul>
<p>
meaning one base implementation class</p>
<ul>
<p>
same rules as most O-O post-C++ languages</p>
</ul>
<p>
base class must be declared "open"</p>
<ul>
<p>
meaning, it must be declared ready for inheritance</p>
</ul>
<p>
base class appears after class name and colon</p>
<ul>
<p>
after primary constructor parameter list</p>
<p>
base class primary constructor parameters passed here</p>
<p>
if the base has no primary, secondary ctors must use super()</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
            <p>Simple inheritance</p>            <pre style="background-color:black">
open class Base(p: Int)

class Derived(p: Int) : Base(p)
</pre>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
All classes implicitly extend base type "Any"</p>
<ul>
<p>
this is not Object</p>
<p>
it provides a much smaller interface</p>
<ul>
<p>
toString()</p>
<p>
equals()</p>
<p>
hashCode()</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Type-testing/casting</p>
<ul>
<p>
"A is B" operator tests A to see if it is type-compatible with B</p>
<ul>
<p>
yields true/false value</p>
<p>
"!is" yields inverse value</p>
<p>
"smart check"; Kotlin can infer that if "A is B", "A" should be cast to B</p>
<p>
"smart casts" apply to if, when and while expressions (and a few other places)</p>
</ul>
<p>
"unsafe" cast operator "as"</p>
<ul>
<p>
throws exception if the cast is not safe</p>
<p>
null will not cast as per Java rules; nullable type ("?") comes into play</p>
</ul>
<p>
"safe" cast operator "as?"</p>
<ul>
<p>
yields correctly-cast object on success</p>
<p>
yields null on failure</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Property overriding</p>
<ul>
<p>
like base classes, base properties must be declared "open"</p>
<p>
"override" can also be used in the primary constructor of the derived</p>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
            <p>Overriding properties</p>            <pre style="background-color:black">
open class Person(val firstName: String, val lastName: String, val age: Int)
{
  open var salary: Int = 50000
}
    
class Actor(val name: String, var oscars: Int) :
  Person(name, "", 39)
{
  override var salary: Int
    get() { return 1000000 }
    set(value) { /* ignored */ }
}
    
val willSmith = Actor("Will", 0)
println(willSmith.salary)
</pre>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Method overriding</p>
<ul>
<p>
like base classes, base methods must be declared "open"</p>
<p>
derived method must be declared "override"</p>
<ul>
<p>
override methods are implicitly "open"</p>
<p>
to prevent further overrides, use "final"</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
            <p>Overriding properties</p>            <pre style="background-color:black">
open class Base {
  open fun v() { }
  fun nv() { }
}
    
class Derived() : Base() {
  override fun v() { }
}
</pre>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Classes and/or members can be abstract</p>
<ul>
<p>
cannot be instantiated</p>
<p>
must be inherited</p>
<p>
abstract implies "open"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Delegation</p>
<ul>
<p>
Kotlin will allow a class to delegate method calls to owned instance</p>
<ul>
<p>
accept an instance of an interface implementation as a member</p>
<p>
implement an interface "by" the member</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
            <p>Delegation</p>            <pre style="background-color:black">
interface Base {
  fun print()
}
class BaseImpl(val x: Int) : Base {
  override fun print() { print(x) }
}

class Derived(b: Base) : Base by b

fun main(args: Array<String>) {
  val b = BaseImpl(10)
  Derived(b).print() // prints 10
}
</pre>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Anonymous object derivative instances ("object expressions")</p>
<ul>
<p>
use "object" keyword, then inherit from desired base type and/or interfaces</p>
<p>
constructor obligations must be fulfilled as normal</p>
<p>
can access variables from enclosing outer scope</p>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
            <p>Object expressions</p>            <pre style="background-color:black">
open class A(x: Int) {
  public open val y: Int = x
}
interface B { }

val ab: A = object : A(1), B {
  override val y = 15
}
</pre>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
<p>
Object expressions can also create "ad-hoc" objects</p>
<ul>
<p>
simply declare "object" and describe contents</p>
<p>
unknown type, one-off declaration</p>
</ul>
        </div>

        <div class="slide">
            <h1>Inheritance</h1>
            <p>Ad-hoc object expressions</p>            <pre style="background-color:black">
val adHoc = object {
  var x: Int = 0
  var y: Int = 0
}
print(adHoc.x + adHoc.y)
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Interfaces</h1>
            <!-- <h2>Enabling the promise (and delivery) of behavior</h2> -->
        </div>
        
        <div class="slide">
            <h1>Interfaces</h1>
<p>
Interfaces are behavior-only markers</p>
<ul>
<p>
interfaces can have no state</p>
<p>
interfaces "promise" behavior on the part of implementors</p>
<p>
Kotlin interfaces can also carry default behavior</p>
</ul>
        </div>

        <div class="slide">
            <h1>Interfaces</h1>
            <p>A simple interface</p>            <pre style="background-color:black">
interface MyInterface {
    fun bar()
    fun foo() {
      // optional body
    }
}
</pre>
        </div>

        <div class="slide">
            <h1>Interfaces</h1>
<p>
Classes inherit from interfaces</p>
<ul>
<p>
any number of interfaces allowed</p>
<p>
interface methods are all implicitly "open"</p>
<p>
if member names clash, use "super" to resolve</p>
<ul>
<p>
only necessary when two interfaces implemented on a class have same method and both have default implementations</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Interfaces</h1>
<p>
Interfaces can contain properties</p>
<ul>
<p>
these can either be abstract or have default getter implementation</p>
<p>
interfaces cannot have backing properties/fields</p>
</ul>
        </div>

        <div class="slide">
            <h1>Interfaces</h1>
            <p>Interface with properties</p>            <pre style="background-color:black">
interface MyInterface {
    val property: Int // abstract
    val propertyWithImplementation: String
        get() = "foo"
    fun foo() {
        print(property)
    }
}

class MyClass : MyInterface {
    override val property: Int = 29
}
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Data classes</h1>
            <!-- <h2>DTOs written into the language</h2> -->
        </div>
        
        <div class="slide">
            <h1>Data classes</h1>
<p>
Some classes just want to be named bundles of data</p>
<ul>
<p>
Kotlin calls these "data classes"</p>
<p>
use the "data class" keyword</p>
<p>
must follow the following requirements</p>
<ul>
<p>
primary constructor must have 1+ parameters</p>
<p>
all primary constructor parameters must be val/var-declared</p>
<p>
cannot be abstract, sealed, open or inner</p>
<p>
may not extend other classes (but may implement interfaces)</p>
</ul>
<p>
Kotlin can generate numerous support methods/properties automatically</p>
</ul>
        </div>

        <div class="slide">
            <h1>Data classes</h1>
<p>
Data classes out-of-the-box support:</p>
<ul>
<p>
<code>equals()</code>/<code>hashCode()</code></p>
<p>
<code>toString()</code></p>
<p>
destructuring declaration support</p>
<p>
<code>copy()</code> (cloning with named parameter replacements)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Data classes</h1>
            <p>Data classes</p>            <pre style="background-color:black">
data class Money(var amount: Int, val type: String)
val salary = Money(100000, "USD")
println("Your salary is ${salary.type}${salary.amount}")
val euroSalary = salary.copy(type = "EUR")
println("In Europe, you would make ${euroSalary}")
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Enumerated types</h1>
            <!-- <h2>Bounded type-safe lists of possible values under a convenient name</h2> -->
        </div>
        
        <div class="slide">
            <h1>Enums</h1>
<p>
Basic usage</p>
<ul>
<p>
type-safe bounded list of possible values</p>
<p>
"enum class" followed by list of values (typically all-capped)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Enums</h1>
            <p>Basic enums</p>            <pre style="background-color:black">
enum class Direction {
  NORTH, SOUTH, EAST, WEST
}
val heading = Direction.NORTH
println(heading)
</pre>
        </div>

        <div class="slide">
            <h1>Enums</h1>
<p>
Enums can also be initialized with values</p>
<ul>
<p>
defined in enumeration typename</p>
<p>
parameter name available as property on enum instance</p>
</ul>
        </div>

        <div class="slide">
            <h1>Enums</h1>
            <p>Valued enums</p>            <pre style="background-color:black">
enum class Color(val rgb: Int) {
    RED(0xFF0000),
    GREEN(0x00FF00),
    BLUE(0x0000FF)
}
val r = Color.RED
println(r.rgb)
</pre>
        </div>

        <div class="slide">
            <h1>Enums</h1>
<p>
Enums can also declare anonymous (sub) classes</p>
<ul>
<p>
provides limited override capabilities</p>
<p>
great for state machines</p>
</ul>
        </div>

        <div class="slide">
            <h1>Enums</h1>
            <p>Anonymous subclass enums</p>            <pre style="background-color:black">
enum class ProtocolState {
  WAITING {
    override fun signal() = TALKING
  },
    
  TALKING {
    override fun signal() = WAITING
  };
    
  abstract fun signal(): ProtocolState
}
var state = ProtocolState.WAITING
println(state) //  WAITING
state = state.signal()
println(state) // TALKING
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Sealed Classes</h1>
            <!-- <h2>Kotlin's answer to the discriminated union</h2> -->
        </div>
        
        <div class="slide">
            <h1>Sealed Classes</h1>
<p>
Sealed classes are a closed inheritance family</p>
<ul>
<p>
many similarities to enumerated types, but full-blown class/subclasses</p>
<p>
also known as "discriminated unions" in some languages</p>
</ul>
        </div>

        <div class="slide">
            <h1>Sealed Classes</h1>
<p>
Sealed classes start with base class marked "sealed"</p>
<ul>
<p>
all derived classes appear within sealed class body</p>
<p>
subclasses of derived don't necessarily have to (but probably should)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Sealed Classes</h1>
            <p>A sealed expression library</p>            <pre style="background-color:black">
sealed class Expr {
    class Const(val number: Double) : Expr()
    class Sum(val e1: Expr, val e2: Expr) : Expr()
    object NotANumber : Expr()
}
fun eval(expr: Expr): Double = when(expr) {
    is Expr.Const -> expr.number
    is Expr.Sum -> eval(expr.e1) + eval(expr.e2)
    Expr.NotANumber -> Double.NaN
    // the `else` clause is not required because we've covered all the cases
}
val expr = Expr.Sum(Expr.Const(2.0), Expr.Const(2.0))
println("${expr.e1} + ${expr.e2} = ${eval(expr)}") // 4.0
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Generics/Parameterized Types</h1>
            <!-- <h2><Your quote here></h2> -->
        </div>
        
        <div class="slide">
            <h1>Generics</h1>
<p>
Kotlin supports parameterized types</p>
<ul>
<p>
type parameter specified in angle brackets</p>
<p>
type parameters are part of signature</p>
<p>
must be supplied (or inferred) at construction</p>
</ul>
        </div>

        <div class="slide">
            <h1>Generics</h1>
            <p>Simple generics example</p>            <pre style="background-color:black">
class Box<T>(t: T) {
    var value = t
}
    
val box1: Box<Int> = Box<Int>(1)
val box2 = Box(1) // 1 is-a Int, so box2 must be a Box<Int>
</pre>
        </div>

        <div class="slide">
            <h1>Generics</h1>
<p>
Functions can also have type parameters</p>
<ul>
<p>
declare the type parameter before the function</p>
<p>
multiple generic parameter types require multiple type parameters</p>
</ul>
        </div>

        <div class="slide">
            <h1>Generics</h1>
            <p>Simple generic functions</p>            <pre style="background-color:black">
fun <T> singletonList(item: T): List<T> {
    // ...
}
    
fun <T,U> swap(params: Pair<T,U> ): Pair<U,T> {
    return Pair(params.second, params.first)
}
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Annotations</h1>
            <!-- <h2>Custom metadata elements</h2> -->
        </div>
        
        <div class="slide">
            <h1>Annotations</h1>
<p>
Annotations are metadata for code</p>
<ul>
<p>
usage is <code>@</code>-prefixed (a la Java)</p>
<ul>
<p>
can be customized to particular class elements if necessary</p>
</ul>
<p>
definition uses <code>annotation</code> keyword before a class</p>
<ul>
<p>
some restrictions, but mostly minimal</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Annotations</h1>
<p>
Usage</p>
<ul>
<p>
declare before target element</p>
<ul>
<p>
for primary constructor, use "@Annotation constructor" syntax in class declaration line</p>
<p>
for property setters, declare annotation before "get/set" keyword</p>
</ul>
<p>
function literals can also have annotations</p>
<ul>
<p>
declare right before opening bracket</p>
</ul>
<p>
when using annotations, sometimes more precise declaration usage is required</p>
<ul>
<p>
these are called "Use-site targets"</p>
<p>
colon-prefixed "keyword" before the annotation type name</p>
<p>
Use-site target list: file, property, field, get, set, receiver, param, setparam, delegate</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Annotations</h1>
            <p>Annotation definition</p>            <pre style="background-color:black">
@Fancy class Foo {
    @Fancy fun baz(@Fancy foo: Int): Int {
        return (@Fancy 1)
    }
}
    
class InFoo @Inject constructor(dependency: MyDependency) {
    // ...
    var x: MyDependency? = null
        @Inject set
}
    
@Special("Because it's a Foo too!") class FooTwo {}
    
val f = @Suspendable { Fiber.sleep(10) }
</pre>
        </div>

        <div class="slide">
            <h1>Annotations</h1>
            <p>Annotation definition</p>            <pre style="background-color:black">
@file:JvmName("Example")
    
class Example(@field:Ann val foo,    // annotate Java field
              @get:Ann val bar,      // annotate Java getter
              @param:Ann val quux)   // annotate Java constructor parameter
</pre>
        </div>

        <div class="slide">
            <h1>Annotations</h1>
<p>
Definition</p>
<ul>
<p>
use <code>annotation</code> instead of <code>class</code></p>
<p>
additional annotations can specify annotation attributes</p>
<ul>
<p>
<code>@Target</code>: which elements can this annotation apply to</p>
<p>
<code>@Retention</code>: where is the annotation value stored</p>
<p>
<code>@Repeatable</code>: allows annotation to be used multiple times</p>
<p>
<code>@MustBeDocumented</code>: include annotation in generated documentation</p>
</ul>
<p>
annotations may have constructors</p>
<ul>
<p>
parameter types restricted to primitives, strings, classes, enums, other annotations and arrays of any of the previous list</p>
<p>
these are turned into annotation properties</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Annotations</h1>
            <p>Annotation definition</p>            <pre style="background-color:black">
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION,
        AnnotationTarget.VALUE_PARAMETER, AnnotationTarget.EXPRESSION)
@Retention(AnnotationRetention.SOURCE)
@MustBeDocumented
annotation class Fancy
    
annotation class Special(val why: String)
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Coroutines</h1>
            <!-- <h2>Parallel execution without threads</h2> -->
        </div>
        
        <div class="slide">
            <h1>Coroutines</h1>
            <h2>What is a coroutine?</h2>
<ul>
<p>
Wikipedia: "Coroutines are computer program components that generalize subroutines for non-preemptive multitasking, by allowing execution to be suspended and resumed."</p>
<p>
Kotlin: "A coroutine is an instance of suspendable computation. It is conceptually similar to a thread, in the sense that it takes a block of code to run that works concurrently with the rest of the code. However, a coroutine is not bound to any particular thread. It may suspend its execution in one thread and resume in another one."</p>
</ul>
        </div>

        <div class="slide">
            <h1>Coroutines</h1>
            <h2>What is a coroutine?</h2>
<ul>
<p>
In essence, it's a block of code that can be suspended and resumed</p>
<p>
Kotlin coroutines are entirely library-based; no keywords</p>
<ul>
<p>
<code>kotlinx.coroutines</code> package</p>
<p>
Makes heavy use of "trailing lambda" syntax</p>
<p>
Also means Kotlin can allow "swapping out" of different implementations</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Coroutines</h1>
            <h2>Rules</h2>
<ul>
<p>
Coroutines always execute within a CoroutineScope</p>
<ul>
<p>
this is created by the <code>runBlocking</code> function</p>
<p>
delimits the lifetime of the coroutine</p>
<p>
an outer scope cannot complete until its child scopes do</p>
</ul>
<p>
Coroutines are then "launched" via <code>launch</code> followed by a lambda</p>
</ul>
        </div>

        <div class="slide">
            <h1>Coroutines</h1>
            <p>Simple coroutine example</p>            <pre style="background-color:black">

import kotlinx.coroutines.*

fun main() = runBlocking { // this: CoroutineScope
    launch { // launch a new coroutine and continue
        delay(1000L) // non-blocking delay for 1 second (default time unit is ms)
        println("World!") // print after delay
    }
    println("Hello") // main coroutine continues while a previous one is delayed
}
</pre>
        </div>

        <div class="slide">
            <h1>Coroutines</h1>
            <h2>Suspending functions</h2>
<ul>
<p>
function modified by <code>suspend</code> keyword</p>
<p>
can be used inside coroutines or normal functions</p>
<p>
allows use of other suspending functions (such as <code>delay</code>)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Coroutines</h1>
            <h2>`Job` objects</h2>
<ul>
<p>
returned from the <code>launch</code> function</p>
<p>
provides a handle to the launched coroutine</p>
<p>
as well as an API for querying/modifying the coroutine</p>
<ul>
<p>
<code>isActive</code>, <code>isCompleted</code>, <code>isCancelled</code></p>
<p>
<code>start</code></p>
<p>
<code>join</code> (wait for this and all child coroutines to complete)</p>
<p>
<code>invokeOnCompletion</code> (invoke block when this coroutine completes)</p>
<p>
<code>cancel</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Coroutines</h1>
            <h2>Where to go for more</h2>
<ul>
<p>
Kotlin Coroutines Guide</p>
<ul>
<p>
https://kotlinlang.org/docs/coroutines-guide.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 12 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
<p>
Kotlin Advanced</p>
<ul>
<p>
Follow the directions at https://github.com/tedneward/uw-complex-kotlin</p>
<p>
You need only modify the "Library.kt" file -- nothing else!</p>
<p>
Make sure your code is on GitHub under your own account</p>
<ul>
<p>
call the repo <code>complexkotlin</code> (important!)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading (5 pts)</p>
<ul>
<p>
if all the tests pass, 5 pts</p>
<p>
if they do not, 0 pts</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>12 January</h1>
            <!-- <h2>Activities</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android UI</h2>
<ul>
<p>
Activities</p>
<p>
Android Diagnostic Log system</p>
<p>
Toasts</p>
<p>
Notifications</p>
<p>
Alerts</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Activities</h1>
            <!-- <h2>Doing something in UI on Android</h2> -->
        </div>
        
        <div class="slide">
            <h1>Activities</h1>
            <h2>Activities</h2>
<ul>
<p>
... provide a UI</p>
<ul>
<p>
... "own" the widgets they draw</p>
<p>
... typically fill the entire device screen</p>
</ul>
<p>
... have a well-defined lifecycle</p>
<p>
... are loosely-coupled to one another</p>
<p>
... form a "stack"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Activity provides a screen to the user</h2>
<ul>
<p>
In other GUI systems, this is a "Window"</p>
<p>
Android suggests that "an Activity is given a window in which to draw its UI"</p>
<p>
an Activity is more of a bookkeeping mechanism</p>
<ul>
<p>
we hang logic in here, hold state, and tell Android what to draw</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Activity Lifecycle</h2>
<ul>
<p>
created, started, resumed, paused, stopped, restarted, destroyed</p>
<p>
Android invokes these methods on the Activity class</p>
<p>
developers override each of these to respond to the event</p>
<ul>
<p>
<code>onCreate()</code> on created, <code>onStart()</code> on started, etc</p>
<p>
always call up the inheritance chain!</p>
</ul>
<p>
each lifecycle event signals a particular state</p>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Activity Lifecycle</h2>
<ul>
<p>
created: called just after instantiation; initialize UI here</p>
<p>
restarted: called after has been stopped</p>
<p>
started: called just before the activity is visible</p>
<p>
resumed: called just before activity begins interaction</p>
<p>
paused: system is about to start resuming another activity</p>
<p>
stopped: activity is no longer visible; clean up</p>
<p>
destroyed: just before activity is destroyed; clean up</p>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Activity Lifecycle</h2>
<ul>
<p>
Developers never control activity's lifecycle</p>
<p>
Android creates them, Android kills them</p>
<ul>
<p>
for example, if an activity isn't responsive, Android kills it</p>
</ul>
<p>
Activities, however, need to retain user state</p>
<p>
To support this, Android hands the developer a Bundle</p>
<ul>
<p>
this is basically name/value pairs</p>
</ul>
<p>
This Bundle is passed in to various onZZZ() methods</p>
<ul>
<p>
restore your activity state from the Bundle</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Creating an Activity</h2>
<ul>
<p>
Developers subclass Activity (or one of its children)</p>
<p>
Developers implement one or more lifecycle methods</p>
<ul>
<p>
almost always at least onCreate()</p>
</ul>
<p>
Android system creates the Activity instance</p>
<ul>
<p>
developers never actually create one themselves</p>
</ul>
<p>
Android system "starts" the Activity once created</p>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Common Activity subclasses</h2>
<ul>
<p>
ListActivity: Activity with a List as its base view</p>
<p>
ActionBarActivity: Activity with an "ActionBar"</p>
<p>
PreferenceActivity: Activity for user preferences</p>
<p>
TabActivity: Activity with tabs to select between views</p>
<p>
NativeActivity: Activity implemented entirely in native code</p>
<p>
ExpandableListActivity: Master-detail base view</p>
</ul>
        </div>

        <div class="slide">
            <h1>Activities and Tasks</h1>
            <h2>Activities and Tasks</h2>
<ul>
<p>
Tasks are the logical thread of use through Activities</p>
<ul>
<p>
usually starting from the Home screen</p>
</ul>
<p>
Tasks form a "back stack" of Activity instances</p>
<ul>
<p>
"back" button removes the top card, destroys that activity</p>
</ul>
<p>
Tasks are distinct from one another</p>
<ul>
<p>
a new task creates a new stack of cards</p>
<p>
this means more than one Activity instance of the same type is possible</p>
</ul>
<p>
Tasks cross applications and processes</p>
<ul>
<p>
in this respect, Activities are like web pages</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Activities</h1>
            <h2>Activities</h2>
<ul>
<p>
http://developer.android.com/guide/components/activities.html</p>
<p>
Codelab: https://developer.android.com/codelabs/android-training-create-an-activity</p>
<p>
Codelab: https://developer.android.com/codelabs/android-training-activity-lifecycle-and-state</p>
</ul>
            <h2>Tasks</h2>
<ul>
<p>
http://developer.android.com/guide/components/tasks-and-back-stack.html</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Logging</h1>
            <!-- <h2>Tracking application execution</h2> -->
        </div>
        
        <div class="slide">
            <h1>Logging</h1>
<p>
Diagnosing problems</p>
<ul>
<p>
Applications do, unfortunately, contain bugs</p>
<p>
Android devices do not, unfortunately, live in our data centers</p>
<p>
Crash reports are sometimes too little information</p>
<p>
Crash reports don't capture enough context about execution</p>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Diagnostic logging</p>
<ul>
<p>
As old as the first programmer's "printf" to the console</p>
<p>
Essentially, print output to a human-readable stream</p>
<p>
Usually includes some measure of internal program state</p>
<p>
Often designed to be persistent in some fashion</p>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Android logging</p>
<ul>
<p>
Yes, we can write to stdout and stderr</p>
<p>
<code>System.out.println()</code> and <code>System.err.println()</code></p>
<p>
To do this...--- <code>adb shell stop</code>--- <code>adb shell setprop log.redirect-stdio true</code>--- <code>adb shell start</code></p>
<p>
... or write an entry to /data/local.prop on the device</p>
<p>
But Android offers a much richer system</p>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Android diagnostic logging</p>
<ul>
<p>
Built off of principles similar to log4j and others</p>
<p>
Logging can be filtered, categorized, and sorted</p>
<p>
Logging is also frequently left on in production builds</p>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Android diagnostic logging</p>
<ul>
<p>
<code>android.util.Log</code> class</p>
<p>
series of static methods to write log messages</p>
<ul>
<p>
<code>DEBUG</code>, <code>ERROR</code>, <code>INFO</code>, <code>VERBOSE</code>, <code>WARN</code></p>
<p>
<code>d()</code>, <code>e()</code>, <code>i()</code>, <code>v()</code>, <code>w()</code></p>
<p>
all wrap around the <code>println()</code> method</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Logging levels</p>
<ul>
<p>
<code>ERROR</code> and <code>WARN</code> are most severe</p>
<p>
<code>INFO</code> is generally high-level info</p>
<p>
<code>DEBUG</code> is generally lower-level, more detail</p>
<p>
<code>VERBOSE</code> is the most amount of detail</p>
<p>
These can be used when viewing the log to filter out noise</p>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Logging messages</p>
<ul>
<p>
Each log call is "tagged" with a tag string</p>
<p>
This is to allow for further filtering/sorting from noise</p>
<p>
Frequently, this "tag" is your app or class name</p>
<p>
Common idiom is to declare a class-specific TAG constant</p>
<ul>
<p>
<code>private static final String TAG = "MainActivity";</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Logging output</p>
<ul>
<p>
<code>Log.i("ActivityManager", "Starting activity: " + intent);</code></p>
<p>
yields</p>
<ul>
<p>
<code>I/ActivityManager(  585): Starting activity: Intent { action=android.intent.action...}</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Logs will be stored</p>
<ul>
<p>
... up to a point (16k); the log fills up really fast</p>
<p>
This is because the log is shared across the entire device/system</p>
<p>
Generally programmers use the log in real-time</p>
<p>
Filter the output to see only the messages you want to see</p>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Viewing logs</p>
<ul>
<p>
<code>adb logcat</code> runs LogCat, the logging view utility</p>
<ul>
<p>
http://developer.android.com/tools/debugging/debugging-log.html</p>
</ul>
<p>
<code>adb logcat -f file</code> writes log to file</p>
<p>
otherwise logcat "tails" the log, printing in real-time</p>
<ul>
<p>
this is the default behavior in most IDEs</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Logging</h1>
<p>
Filtering logs</p>
<ul>
<p>
IDEs will generally offer UI to control this</p>
<p>
logcat offers command-line parameters using filter expressions</p>
<ul>
<p>
<code>adb logcat *:W</code> -- show all logs WARN or higher</p>
<p>
<code>adb logcat MyApp:D</code> -- show all MyApp-tagged logs DEBUG or higher</p>
</ul>
<p>
combine multiple filter expressions at once if desired</p>
<ul>
<p>
<code>adb logcat ActivityManager:I MyApp:D *:S</code></p>
<p>
"S" is SILENT, meaning show no logs for that group</p>
<p>
adb logcat will read <code>ANDROID_LOG_TAGS</code> environment variable</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Toasts</h1>
            <!-- <h2>Popup messages to the user</h2> -->
        </div>
        
        <div class="slide">
            <h1>Toasts</h1>
            <h2>"Toast" (because they pop up)</h2>
<ul>
<p>
quick messages to the user, no input allowed</p>
<p>
automatically fade after some period of time</p>
<p>
used to notify without seizing control/focus</p>
<p>
often useful for background operations</p>
<p>
if user response is required, consider a Notification instead</p>
</ul>
        </div>

        <div class="slide">
            <h1>Toasts</h1>
            <h2>Usage:</h2>
<ul>
<p>
create a Toast object (makeText)</p>
<p>
pass a Context (Activity), message, and duration</p>
<ul>
<p>
durations are fixed (<code>LENGTH_SHORT</code>, etc)</p>
</ul>
<p>
display using <code>show()</code></p>
<p>
change the location using <code>setGravity</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Toasts</h1>
            <h2>Custom view</h2>
<ul>
<p>
create a custom layout resource</p>
<ul>
<p>
must have layout id @+id/toast_layout_root</p>
</ul>
<p>
use LayoutInflater to create View(s)</p>
<p>
initialize the controls accordingly</p>
<p>
construct a Toast instance using new</p>
<p>
setGravity() and setDuration()</p>
<p>
pass the inflated layout View to setView()</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Notifications</h1>
            <!-- <h2>Informing the user from the background</h2> -->
        </div>
        
        <div class="slide">
            <h1>Notifications</h1>
<p>
Notification: message displayed to the user outside the app</p>
<ul>
<p>
first appears in the "notificaton area" (status bar at the top)</p>
<p>
user views more details by opening "notification drawer"</p>
<p>
notifications can be "acted on" by the user (selected)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
NOTE: Notifications underwent large changes in Android 5</p>
<ul>
<p>
keep straight the differences between 5 and 4.4</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
Notifications (4.4)</p>
<ul>
<p>
Base layout: icon, message, subtext, timestamp, and secondary icon</p>
<p>
Notifications can be "expanded" to include more detail</p>
<p>
Actions can optionally be displayed at the bottom</p>
<p>
Notifications can be given a priority for display</p>
<ul>
<p>
MAX, HIGH, DEFAULT, LOW, MIN</p>
</ul>
<p>
Notifications can "stack" on top of one another</p>
<p>
Notifications should always be optional and disable-able</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
Notifications (5.0)</p>
<ul>
<p>
Notifications can now appear on the lock screen</p>
<ul>
<p>
sensitive data only appears after unlocking</p>
</ul>
<p>
Notifications can be cloud-synced</p>
<p>
High-priority notifications are now "heads-up"</p>
<ul>
<p>
new UI style and interaction</p>
</ul>
<p>
Notifications fall into categories</p>
<ul>
<p>
calls, messages, emails, alarms, etc</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
When to use notifications</p>
<ul>
<p>
important enough to warrant possibly interrupting the user</p>
<p>
time-sensitive changes or alerts</p>
<p>
synchronous events involing other people</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
When not to use notifications</p>
<ul>
<p>
information/events not directed specifically at the user</p>
<p>
if the new data is already on the screen</p>
<p>
low-level technical details not important to the user</p>
<p>
errors that are easily recoverable</p>
<p>
no content or just advertising</p>
<p>
"just branding" -- these will frustrate and antagonize</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
Notification priorities</p>
<ul>
<p>
MAX: critical, time-sensitive, or blocking condition</p>
<p>
HIGH: instant communications; triggers "heads-up"</p>
<p>
DEFAULT: default</p>
<p>
LOW: interesting, but not urgent or time-sensitive</p>
<p>
MIN: background or low-intensity information</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
For more discussion...</p>
<ul>
<p>
see the Android UI guide</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/notifiers/notifications.html</p>
</ul>
<p>
see the Android 5.0 Design Patterns guide</p>
<ul>
<p>
http://developer.android.com/design/patterns/notifications.html</p>
</ul>
<p>
see the Android 4.4 Design Patterns guide</p>
<ul>
<p>
http://developer.android.com/design/patterns/notifications_k.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
Creating Notifications</p>
<ul>
<p>
NotificationBuilder or NotificationCompat.Builder</p>
<ul>
<p>
added in API 11; use the compat for previous API support</p>
</ul>
<p>
"Fluent" interface, using chained method calls</p>
<p>
Use NotificationManager to fire the Notification when ready</p>
<ul>
<p>
get hold of it through getSystemService()</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
Creating Notifications</p>
<ul>
<p>
"small icon" is the icon in the nofication</p>
<p>
"ContentTitle" is the large text</p>
<p>
"ContentText" is the smaller text</p>
<p>
"ContentIntent" is the PendintIntent to fire when selected</p>
</ul>
        </div>

        <div class="slide">
            <h1>Notifications</h1>
<p>
Numerous additional options available</p>
<ul>
<p>
updating Notifications once displayed</p>
<p>
using custom layouts</p>
<p>
setting progress dialog percentages</p>
<p>
see the Notification guide in the Android docs for details</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Alerts</h1>
            <!-- <h2>Quick user input</h2> -->
        </div>
        
        <div class="slide">
            <h1>Alerts</h1>
            <h2>An AlertDialog is a common way to solicit quick user feedback</h2>
<ul>
<p>
it can show up to three buttons, a selectable list or a custom layout</p>
<p>
modal, sits on top of current Activity</p>
<p>
quick, relatively easy to set up</p>
<p>
specific kind of Dialog (covered later)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Alerts</h1>
            <h2>AlertDialog consists of three things</h2>
<ul>
<p>
(Optional) title</p>
<ul>
<p>
only necessary for custom content layouts or complex messages</p>
</ul>
<p>
Content area</p>
<p>
Action buttons</p>
<ul>
<p>
usually two or three, never more than three</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Alerts</h1>
            <h2>Creating a text message AlertDialog</h2>
<ul>
<p>
Use <code>AlertDialog.Builder</code> (fluent interface)</p>
<p>
"Message" is the content area</p>
<p>
"Title" is the optional title</p>
<p>
"PositiveButton" is your "Yes"-equivalent</p>
<p>
"NegativeButton" is your "No"-equivalent</p>
<p>
"NeutralButton" is the in-between</p>
<ul>
<p>
each takes an OnClickListener for responding</p>
</ul>
<p>
either <code>create().show()</code> or <code>show()</code> off the Builder</p>
</ul>
        </div>

        <div class="slide">
            <h1>Alerts</h1>
            <h2>Creating an AlertDialog with a list of items</h2>
<ul>
<p>
don't set "Message", instead, do one of the following two:</p>
<p>
"Items" hold the list of single-choice options</p>
<ul>
<p>
register an OnClickListener to respond on item selection</p>
</ul>
<p>
"MultiChoiceItems" hold the list of multi-choice options</p>
<ul>
<p>
register an OnMultiChoiceClickListener</p>
</ul>
<p>
everything as before</p>
</ul>
        </div>

        <div class="slide">
            <h1>Alerts</h1>
            <h2>Creating a custom layout AlertDialog</h2>
<ul>
<p>
content area can be a (small) custom layout</p>
<ul>
<p>
easy example: signin dialog</p>
</ul>
<p>
title, buttons still remain AlertDialog elements</p>
<p>
use a LayoutInflater and set the AlertDialog View</p>
<p>
everything else as before</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 19 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>Activity Spy</h2>
<p>
Build an app that reports on every Activity lifecycle method to the Android diagnostic log.</p>
<ul>
<p>
Package it as <code>edu.washington.<yourNetID>.activityspy</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I launch the application, it should display Greetings, UW!"</p>
<p>
As a developer, when I launch the application, it should write on{event-name} event fired to the INFO level of the diagnostic log for this application. If there is additional data with that event, it should also be written to the log.</p>
<p>
As a developer, when I close the application, it should write Were going down, Captain! to the ERROR level of the diagnostic log in response to the <code>onDestroy</code> event (in addition to the message from the previous story).</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
All your code should be in a GitHub repo under your account</p>
<ul>
<p>
repo should be called <code>activityspy</code></p>
<p>
repo should contain all necessary build artifacts</p>
<p>
include a directory called <code>screenshots</code>, including:</p>
<ul>
<p>
screenshot of app running on emulator</p>
<p>
text-file contents of diagnostic log (<code>diagnostic.txt</code>) after a run</p>
</ul>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
We will clone and build it from the GH repo</p>
<p>
5 points:</p>
<ul>
<p>
1 pt, it builds and runs in the emulator</p>
<p>
1 pt, the diagnostic log is present in the repo</p>
<p>
3 pts, one for each satisfied story</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>17 January</h1>
            <!-- <h2>HOLIDAY</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Martin Luther King day</h2>
<ul>
<p>
<em><strong>Representation in tech matters</strong></em></p>
<p>
Extra Credit: 2pts (Due 19 Jan)</p>
<ul>
<p>
Unconscious Bias</p>
<p>
Read https://builtin.com/diversity-inclusion/unconscious-bias-examples</p>
<p>
Also consider https://www.nber.org/papers/w9873</p>
<p>
Send myself and Connor an example of how you would avoid unconscious bias when interviewing a candidate for a position</p>
<p>
(Yes, believe it or not, you will probably be asked to interview candidates far, far sooner than you'd expect)</p>
<p>
No right or wrong answer, but put some thought into it if you would, please</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>19 January</h1>
            <!-- <h2>Controls; Event-Handling; Resources</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android UI</h2>
<ul>
<p>
Controls</p>
<p>
Properties, methods and events</p>
<p>
Event-Handling</p>
<p>
Resources</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Controls</h1>
            <!-- <h2>Buttons, buttons, everywhere...</h2> -->
        </div>
        
        <div class="slide">
            <h1>Controls</h1>
            <h2>Android comes with a rich set of simple controls</h2>
<ul>
<p>
"Simple" means "single-purpose or interaction"</p>
<p>
Pushbuttons, textedits, and so on</p>
<p>
These are all derivatives of View</p>
<p>
... and most are in the <code>android.view</code> package</p>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Android input controls:</h2>
<ul>
<p>
Buttons</p>
<p>
Text fields</p>
<p>
Checkboxes</p>
<p>
Radio Buttons</p>
<p>
Toggle Buttons</p>
<p>
Spinners</p>
<p>
Pickers</p>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Buttons are single-input devices (click)</h2>
<ul>
<p>
Text, image, both</p>
<p>
Button is a text or text+image-based button</p>
<ul>
<p>
ImageButton is an image-based button</p>
</ul>
<p>
Event-listening wired up either in resource or in code</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/button.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Checkboxes are off/on state controls</h2>
<ul>
<p>
Can catch when the checkbox is changed...</p>
<p>
... or just interrogate its state when it matters</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/checkbox.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Toggle Butons are off/on state controls</h2>
<ul>
<p>
Can catch when the toggle is changed...</p>
<p>
... or just interrogate its state when it matters</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/togglebutton.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Switch (API 14) is an off/on state control</h2>
<ul>
<p>
Essentially identical to Toggle Button but with a slider UI</p>
<p>
Can catch when the switch is changed...</p>
<p>
... or just interrogate its state when it matters</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/togglebutton.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Radiobuttons are a choice among a group</h2>
<ul>
<p>
Use to select only one of a set of choices</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/radiobutton.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Spinners allow selection from a large group</h2>
<ul>
<p>
Spinner is usually specified in resources</p>
<p>
Must define an array of choices to choose from</p>
<p>
Then interrogate the control for the user's choice</p>
<p>
Or hook an OnItemSelectedListener</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/spinner.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Pickers are compound controls around specific kinds of input</h2>
<ul>
<p>
Dates, times</p>
<p>
allows a user to independently set each of the three components</p>
<p>
typically hosted in dialogs (more on dialogs later)</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/pickers.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>TextViews are static text controls</h2>
<ul>
<p>
Entirely one-way (no input)</p>
<p>
Used for control labels and/or banners</p>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/reference/android/widget/TextView.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>EditTexts are text-input devices</h2>
<ul>
<p>
Control the kind of text allowed ("inputType")</p>
<ul>
<p>
text, textEmailAddress, textUri, number, phone</p>
<p>
this may change the keyboard displayed by the device</p>
<p>
textCapSentences, textCapWords, textAutoCorrect, etc</p>
<p>
these can be "OR"ed in the property</p>
</ul>
<p>
More details at</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/controls/text.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Controls are designed around three basic principles:</h2>
<ul>
<p>
Properties: control state</p>
<p>
Methods: directing the control to do something</p>
<p>
Events: the control seeking to notify about something happened to it</p>
</ul>
            <h2>Another way to think about it</h2>
<ul>
<p>
Methods are directions from outside the control to inside it</p>
<p>
Events are directions from inside the control to outside it</p>
<p>
Properties are essentially data about the control itself</p>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Most controls have a set of common properties</h2>
<ul>
<p>
<code>id</code> uniquely identifies the control</p>
<p>
<code>layout_width</code>/<code>layout_height</code> describe its horizontal/vertical space needs/desires</p>
<ul>
<p>
this is generally not measured in units, but in more general way</p>
<p>
<code>wrap_content</code> means "just big enough to hold all my control UI content"</p>
<p>
<code>fill_parent</code> means "go as big as my parent will allow me"</p>
</ul>
<p>
<code>text</code> is the text content for the control</p>
<ul>
<p>
for Buttons, this will be the text displayed in the button</p>
<p>
for EditText, this will be the initial text in the editable area</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Some properties are really only referenced through code</h2>
<ul>
<p>
"Tags" are a place for per-control arbitrary data to be held</p>
<ul>
<p>
this allows event-handlers to inspect data on the control that fired the event</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Control identifiers ("id") help connect the view to the code</h2>
<ul>
<p>
identifiers need to be unique within the layout</p>
<p>
identifiers really should be unique across the entire app</p>
<p>
identifiers must be legitimate Java names (alphanumeric + underscore)</p>
<p>
by convention, identifiers are always lowercase</p>
<p>
opinion: use a Hungarian notation to help segregate identifers</p>
<ul>
<p>
<code>btn</code> prefix for Buttons, <code>edt</code> for EditTexts, etc</p>
<p>
this also helps keep control purposes straight when you're looking in the code</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Most controls share a common set of methods</h2>
<ul>
<p>
Changing whether the control is visible</p>
<p>
Changing whether the control has focus</p>
<p>
Changing the control's parent</p>
<p>
Changing the control's size, padding or margins</p>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Most controls also share a common set of events</h2>
<ul>
<p>
OnLayoutChangeListener: when layouts change the control's state</p>
<p>
OnDragListener: drag-and-drop events</p>
<p>
OnHoverListener: on "hover" events</p>
<p>
OnKeyListener: when the user types at the keyboard</p>
<p>
... and so on</p>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <h2>Controls loaded from resources must be "found" at runtime</h2>
<ul>
<p>
typically done in Activity's onCreate using <code>findViewById()</code></p>
<ul>
<p>
the Activity still owns the control lifetime!</p>
</ul>
<p>
typically used just for event-handling hookups</p>
<p>
sometimes we show/hide controls based on user input or state</p>
<ul>
<p>
better mechanism to do this: Fragments</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Controls</h1>
            <p>Hooking up controls at runtime</p>            <pre style="background-color:black">
<</Users/tedneward/Projects/Presentations.git/Content/Android/UI/code/app/src/main/java/com/newardassociates/controls/MainActivity.kt NOT FOUND>>
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Event Handling</h1>
            <!-- <h2>Responding to user input</h2> -->
        </div>
        
        <div class="slide">
            <h1>Event Handling</h1>
            <h2>Two kinds of event handling</h2>
<ul>
<p>
You want to consume events broadcast from the component</p>
<ul>
<p>
buttons telling you when they were clicked</p>
<p>
edit fields telling you their text has changed</p>
</ul>
<p>
You want to change default behavior of a component you inherit from</p>
<ul>
<p>
activity is being created or destroyed</p>
<p>
custom view is being touched or is receiving a keystroke</p>
</ul>
<p>
These use different idioms</p>
<ul>
<p>
knowing the difference is key</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Event Handling</h1>
            <h2>Android broadcast event-handling</h2>
<ul>
<p>
uses classic Java idioms</p>
<p>
Android defines an interface for the concept ("OnXListener")</p>
<p>
The interface has one or more methods related to the concept</p>
<ul>
<p>
these methods receive single "XEvent" object as a parameter</p>
</ul>
<p>
Event-publishing component defines methods to take an interface instance</p>
<ul>
<p>
"setOnXListener" if only one listener is allowed</p>
<p>
"addOnXListener" if multiple lisetners are allowed</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Event Handling</h1>
            <h2>Android broadcast event-handling</h2>
<ul>
<p>
Sometimes these interfaces are nested (View.OnClickListener)</p>
<p>
Only single-method interfaces can be replaced by lambdas</p>
<ul>
<p>
All methods in the interface must be implemented</p>
<p>
... but most listener interfaces are single-method interfaces</p>
</ul>
<p>
Listeners are on UI/event thread--must respond quickly!</p>
<ul>
<p>
Android will kill your app if the UI/event thread stalls out</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Event Handling</h1>
            <h2>Android component event-handling</h2>
<ul>
<p>
uses simple inheritance</p>
<p>
Base class defines a method "onX"</p>
<p>
"onX" method receives individual parameters describing the event</p>
<p>
Derived class overrides "onX" method to define new behavior</p>
<p>
Derived class returns true if it handled it, else false</p>
<p>
Some methods require base to be called--docs will tell you for sure</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Resources</h1>
            <!-- <h2>Keeping details out of code</h2> -->
        </div>
        
        <div class="slide">
            <h1>Resources</h1>
<p>
Resources</p>
<ul>
<p>
Android uses XML files to store "resources"</p>
<p>
Resources are items externlized to the code</p>
<p>
This allows for easier maintenance, modification, etc</p>
<p>
Resources are also easier to define using non-code tools</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Resource Syntax</p>
<ul>
<p>
Resource files are XML files</p>
<ul>
<p>
... frequently hidden behind GUI designers</p>
</ul>
<p>
Android-specific elements are namespaced</p>
<ul>
<p>
by convention, the prefix is always "android"</p>
</ul>
<p>
Must use the prefix for Android-defined parts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
            <p>Example layout resource</p>            <pre style="background-color:black">
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:orientation="vertical" >
    <TextView android:id="@+id/text"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:text="Hello, I am a TextView" />
    <Button android:id="@+id/button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Hello, I am a Button" />
</LinearLayout>

</pre>
        </div>

        <div class="slide">
            <h1>Resources</h1>
            <p>Example string values resource</p>            <pre style="background-color:black">
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="hello">Hello</string>
    <string name="hi">@string/hello</string>
</resources>
</pre>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Resources include a variety of concepts</p>
<ul>
<p>
Layouts (more on this later)</p>
<p>
Controls</p>
<p>
Drawables (graphics)</p>
<p>
Values (strings, integers, dimensions, etc)</p>
<p>
Raw (arbitrary files)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Layout resources will contain control definitions</p>
<ul>
<p>
Specify control properties</p>
<p>
Specify control identifier</p>
<ul>
<p>
<code>android:id="@identifer"</code>: parse and expand the rest of the ID</p>
<p>
<code>android:id="+identifer"</code>: new resource name that must be created</p>
<p>
generated integer ID appears in source-generated R file</p>
<p>
IDs are part of nested classes in R file</p>
<p>
for example, <code>R.id.okButton</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Android provides a number of resources</p>
<ul>
<p>
These will all appear in "android.R"</p>
<p>
Predefined layouts, graphics, views, and so on</p>
<p>
These help create Android-standard look-and-feel</p>
<p>
Android Javadocs describe each when referenced</p>
<p>
Unfortunately, no "single place" to discover all of them</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Alternative resources</p>
<ul>
<p>
Different devices will likely need different versions</p>
<ul>
<p>
Graphics files optimized to a given display fidelity</p>
<p>
Layout resources optimized to different screen sizes</p>
<p>
String resources translated to different languages</p>
</ul>
<p>
Android looks for alternatives first, then "common"</p>
<p>
Alternatives differentiated by directory names</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Alternative resources</p>
<ul>
<p>
Directory names follow a particular order</p>
<ul>
<p>
Language and region (two-letter ISO codes)</p>
<p>
Screen size (small, normal, large, xlarge)</p>
<p>
Screen orientation (port, land)</p>
<p>
Screen pixel density (ldpi, mdpi, hdpi, xhdpi, ...)</p>
<p>
Platform version (v1, v4, v7, ...)</p>
</ul>
<p>
Directory contents remain the same</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Accessing resources</p>
<ul>
<p>
Accessing resources through code is almost always by name</p>
<ul>
<p>
For layout resources, name is filename</p>
<p>
For other resources, name is identifier (<code>id</code>)</p>
<p>
Always through package-referenced <code>R</code> class</p>
<p>
(package_name).R.(resource_type).(resource_name)</p>
</ul>
<p>
Accessing resources in resources is using "@"-prefixed name</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
            <p>Creating and initialize an ImageView</p>            <pre style="background-color:black">
ImageView imageView = (ImageView) findViewById(R.id.myimageview);
imageView.setImageResource(R.drawable.myimage);
</pre>            <p>First line creates an ImageView object around a layout resource</p>            <p>Second line loads the image from a "myimage" file in /res/drawable</p>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Using resources</p>
<ul>
<p>
Most often, we never see the resource directly</p>
<p>
The reference (through <code>R</code>) is frequently just an integer</p>
<p>
Android API does the heavy lifting inside of the method that uses the resource</p>
<p>
For example:</p>
<ul>
<p>
<code>Activity::findViewById</code> takes an int</p>
<p>
<code>findViewById</code> digs into its internal resource tables</p>
<p>
finds the associated XML for the layout</p>
<p>
looks up which View is associated with that int</p>
<p>
creates that View object if necessary</p>
<p>
returns the View object to its caller</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
General rules around resources</p>
<ul>
<p>
Layouts should always be resources</p>
<p>
UI controls should mostly be resources</p>
<p>
Any user-facing strings should be resources</p>
<p>
Any graphic images (drawables) should be resources</p>
<p>
Styles are always resources</p>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Resources</p>
<ul>
<p>
http://developer.android.com/guide/topics/resources/overview.html</p>
<p>
http://developer.android.com/guide/topics/resources/providing-resources.html</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 24 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Exercise</h1>
            <h2>Big Go Button</h2>
<ul>
<p>
Create an app that consists of nothing but a giant button filling the screen</p>
</ul>
        </div>

        <div class="slide">
            <h1>Exercise</h1>
<p>
Details</p>
<ul>
<p>
The entire screen should consist of a single pushbutton, labeled "Push Me!"</p>
<p>
The button should also have a green background, red text, the button text should be 40dp in size and italicized</p>
<p>
When I push the "Push Me!" button, the text should change to read "You have pushed me 1 time!"</p>
<p>
Each time I push the "Push Me!" button, the counter in the text should increment by 1</p>
<p>
... and the text should read "You have pushed me 2 times!" "... 3 times!" and so on</p>
</ul>
        </div>

        <div class="slide">
            <h1>Exercise</h1>
<p>
Goals</p>
<ul>
<p>
Experiment with setting properties in resources</p>
<p>
Experiment with setting properties from code</p>
<p>
Experiment with adding an event handler</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
repo should be called 'biggobutton'</p>
<p>
repo should contain all necessary build artifacts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Exercise</h1>
<p>
Grading (5 pts)</p>
<ul>
<p>
2 pts for the button's properties set correctly (size, font, etc)</p>
<p>
2 pts for the text changing when pushed</p>
<p>
1 pt for the text changing correctly ("time" vs "times")</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Extra credit</p>
<ul>
<p>
1 pt if all constant strings are stored as string resources</p>
<p>
1 pt if the button's style is stored as a resource</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>24 Jan</h1>
            <!-- <h2>Layouts</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android UI: Building more complex UIs</h2>
<ul>
<p>
Model/View/Controller concepts</p>
<ul>
<p>
What MVC means</p>
<p>
How Android uses MVC throughout the stack</p>
<p>
What ViewModels are (and why you care)</p>
</ul>
<p>
Layouts</p>
<ul>
<p>
Different ways of arranging controls on the view</p>
<p>
Why pixel-precise layout is a terrible idea</p>
</ul>
<p>
AndroidX support for UI</p>
<ul>
<p>
ViewModel</p>
<p>
ViewBinding, DataBinding</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Model/View/Controller</h1>
            <!-- <h2>Separating display from logic</h2> -->
        </div>
        
        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
MVC is a design pattern that appears frequently in GUI systems</p>
<ul>
<p>
Model represents the state</p>
<p>
Controller represents the logic</p>
<p>
View represents the display/UI</p>
</ul>
        </div>

        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
Origins lie in Smalltalk</p>
<ul>
<p>
Models were objects</p>
<p>
Controllers were objects</p>
<p>
Views were objects</p>
<p>
Today, this is an idiom known as "Naked Objects"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
MVC showed up in a number of GUI systems</p>
<ul>
<p>
Windows UI frameworks called it "Document/View"</p>
<p>
Java Swing built around MVC quite deeply</p>
<ul>
<p>
tables, lists, all used models extensively</p>
<p>
even the actual UI code was split along view/controller lines; AbstractButton defined basic button behavior, and deferred to another class to do the actual pixel-drawing work</p>
</ul>
<p>
iOS uses it (ViewControllers are controllers)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
In the original MVC...</p>
<ul>
<p>
Models were often connected to more than one View</p>
<p>
Controllers coordinated view updates as model changed</p>
<p>
Models, Views and Controllers relatively loosely coupled</p>
<p>
Web adaptation of MVC changed this to a 1:1 View/Controller</p>
<ul>
<p>
Web views and controllers never reused</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
Parting thoughts</p>
<ul>
<p>
Models are not necessarily Domain Objects</p>
<ul>
<p>
community is split over this one</p>
</ul>
<p>
Views should not contain "logic"</p>
<ul>
<p>
except for logic that is UI-focused</p>
<p>
community is split over this one too</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
MVC has spawned a lot of similar ideas/patterns</p>
<ul>
<p>
Hierarchical model-view-controller</p>
<p>
Model-view-adapter</p>
<p>
Model-view-presenter</p>
<p>
Model View ViewModel</p>
<p>
Observer</p>
<p>
Presentation-abstraction-control</p>
<p>
Three- or n-tier architecture</p>
</ul>
        </div>

        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
Resources</p>
<ul>
<p>
For more details, see</p>
<ul>
<p>
http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</p>
</ul>
<p>
Observer pattern comes from "Design Patterns" (GOF book)</p>
<ul>
<p>
Gamma, Helm, Johnson, Vlissides</p>
</ul>
<p>
Presentation-abstraction-control comes from "POSA 1"</p>
<ul>
<p>
Buschmann, Meuneir, Rohnert, Sommerlad, Stal</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android MVC</h1>
            <!-- <h2>MVC in the Android ecosystem</h2> -->
        </div>
        
        <div class="slide">
            <h1>Model/View/Controller</h1>
<p>
MVC is ingrained deeply in Android philosophy</p>
<ul>
<p>
... but also appears fractally throughout the system</p>
<ul>
<p>
Activity (model, controller), View (view)</p>
<p>
Adapter (model), ListView (controller), layout (view)</p>
<p>
Application (view), Service (controller), server (model)</p>
<p>
Activity (view), ViewModel (model/controller), Room (model)</p>
</ul>
<p>
... and within the general approach to mobile apps as a whole</p>
<ul>
<p>
mobile app (view), HTTP API (controller), database (model)</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Layouts</h1>
            <!-- <h2>Building a UI without the heavy lifting</h2> -->
        </div>
        
        <div class="slide">
            <h1>Layouts</h1>
            <h2>Two ways of creating UIs in Android</h2>
<ul>
<p>
create UI "by hand" through code calls</p>
<ul>
<p>
this is frowned on in Android developer circles</p>
</ul>
<p>
use XML-based layout (resource) file</p>
<ul>
<p>
layout resources are not tied to an Activity; they are just a group of Views laid out in an XML file</p>
<p>
layout resources can be "inflated" from XML into UI objects (via a system service)</p>
<p>
Activity.setContentView() is a shortcut way to do this</p>
</ul>
<p>
layout resources are (by far) more common</p>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>Important historical note: GUI design tools are new</h2>
<ul>
<p>
Early Android devs used only XML layouts for design</p>
<p>
Early attempts at GUI design tools were pathetic</p>
<p>
Writing layout resources by hand was the norm</p>
<p>
Android Dev Studio changes that</p>
<ul>
<p>
but do not be afraid of writing layout by hand!</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>Layouts are "composite" viewables</h2>
<ul>
<p>
Inherit (eventually) from ViewGroup</p>
<p>
They typically serve as a container for other more focused views</p>
<p>
In other words, they are the "window" holding the "controls"</p>
<p>
Typically layouts put some kind of UI "ordering" or "rules" around children</p>
<p>
Make it easier for the system to lay out controls intelligently</p>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>Layouts (android.widget)</h2>
<ul>
<p>
LinearLayout</p>
<p>
RelativeLayout</p>
<p>
TableLayout</p>
<p>
GridLayout</p>
<p>
AbsoluteLayout (bad!)</p>
<p>
FrameLayout (mostly useless!)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>Layouts</h2>
<ul>
<p>
Layouts are subclasses of ViewGroup</p>
<p>
ViewGroups can contain any View</p>
<p>
ViewGroups are subclasses of View</p>
<p>
Ergo, Layouts can contain Layouts</p>
<ul>
<p>
this is a key realization</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>AbsoluteLayout</h2>
<ul>
<p>
AbsoluteLayout is the most naive of the set</p>
<p>
Position each control exactly (pixel locations)</p>
<p>
Problem is, too many devies with different physics</p>
<ul>
<p>
different X/Y resolutions</p>
<p>
different pixel densities</p>
<p>
different orientations</p>
</ul>
<p>
Developers trying to adjust for all these possibilities will eventually go insane</p>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>LinearLayout</h2>
<ul>
<p>
"All children lay out in a single direction" (hence, "linear")</p>
<p>
Choose a direction: horizontal or vertical</p>
<p>
All children lay themselves out in that direction, in order</p>
<ul>
<p>
horizontal: left to right</p>
<p>
vertical: top to bottom</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>RelativeLayout</h2>
<ul>
<p>
"All children lay out relative to one another"</p>
<p>
Each child has a "relative" off of which it is based</p>
<ul>
<p>
relatives are either other children</p>
<p>
... or the parent itself</p>
</ul>
<p>
Default layout used by Android Studio GUI editor</p>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>TableLayout</h2>
<ul>
<p>
"All children lay out like an HTML table"</p>
<p>
TableRow objects define rows</p>
<p>
Rows then contain columns/cells (children)</p>
<p>
Children can span more than one column</p>
<ul>
<p>
use android:layout_span attribute to span more than 1</p>
<p>
use android:layout_column attribute to dictate column to start</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>GridLayout</h2>
<ul>
<p>
"All children lay out in a grid/square pattern"</p>
<p>
Similar to table, with equal rows & columns</p>
<p>
rowCount and columnCount can set rows/columns</p>
<ul>
<p>
usually columns are inferred from children and rowCount</p>
</ul>
<p>
children can use layout_columnSpan and layout_rowSpan to control spacing</p>
</ul>
        </div>

        <div class="slide">
            <h1>Layout Resources</h1>
            <h2>Layout resources are in res/layout directory</h2>
<ul>
<p>
XML file name corresponds to R.layout.{filename}</p>
<p>
root element is (usually) a ViewGroup (Layout class)</p>
<p>
<code>android:</code> namespace is mandatory</p>
<p>
element attributes describe "setter" values</p>
<p>
android:id is critical for manipulation</p>
<ul>
<p>
<code>@+{prefix}/{name}</code> defines new <code>R.{prefix}.{name}</code> id</p>
<p>
{prefix} is most often "id" but isn't required</p>
<p>
IDs don't have to be unique across the entire tree (but usually are)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Layouts</h1>
            <h2>For more details</h2>
<ul>
<p>
Layouts</p>
<ul>
<p>
http://developer.android.com/guide/topics/ui/declaring-layout.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 26 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>Tip Calculator</h2>
<ul>
<p>
I want an app that knows how to calculate the tip on a dinner at a nice restaurant.</p>
<p>
Package it as <code>edu.us.ischool.<yourNetID>.tipcalc</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I launch the application, I should see a text edit (labeled "Amount") allowing me to enter the service charge, and a pushbutton labeled "Tip". The "Tip" pushbutton should be disabled.</p>
<p>
As a user, when I enter data into the service charge textedit, only numbers should be allowed.</p>
<p>
As a user, when I enter data into the service charge textedit, it should read like a USD currency amount ("$15.23"); two decimal places, and prefixed by "$".</p>
<p>
As a user, when I enter data into the service charge textedit, it should enable the "Tip" pushbutton.</p>
<p>
As a user, when I push the "Tip" pushbutton, it should calculate the tip (15% of the value in the service charge textedit) and display that value in a Toast message. The value displayed should be displayed as USD currency ("$15.23"): two decimal places, prefixed by "$".</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
repo should be called 'tipcalc'</p>
<p>
repo should contain all necessary build artifacts</p>
<p>
include a directory called "screenshots" w/screenshot of app running on emulator</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading (5 pts)</p>
<ul>
<p>
We will clone and build it from the GH repo</p>
<p>
5 points, one for each satisfied story</p>
</ul>
<p>
Extra Credit (2 pts)</p>
<ul>
<p>
add a spinner or some other control to choose the tip amount: 10%, 15%, 18% or 20%, and calculate accordingly (1 pt)</p>
<p>
make sure that only two decimal points ever appear, and that the math is always correct (1 pt)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>26 January</h1>
            <!-- <h2>Composite Controls</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android UI: Using "controls" made up of other Views</h2>
<ul>
<p>
TabHost</p>
<p>
ListView</p>
<p>
GridView</p>
<p>
RecyclerView</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Composite Controls</h1>
            <!-- <h2>Views within views</h2> -->
        </div>
        
        <div class="slide">
            <h1>Composites</h1>
            <h2>Composite views are "halfway" between layouts and controls</h2>
<ul>
<p>
Composites are single-purpose</p>
<ul>
<p>
unlike layouts</p>
</ul>
<p>
Composites are made up of other views</p>
<ul>
<p>
unlike controls</p>
</ul>
<p>
Composites are often used as "core" UI elements</p>
</ul>
        </div>

        <div class="slide">
            <h1>Composites</h1>
            <h2>Composite views are "halfway" between layouts and controls</h2>
<ul>
<p>
Most composites follow MVC patterns even here</p>
<ul>
<p>
View provides display functionality</p>
<p>
Adapters often bridge data structure to the composite (a la model)</p>
<p>
Controller is usually event-listeners wired up to the composite</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Composites: TabHost</h1>
            <!-- <h2>Multiple views, arranged across the edge</h2> -->
        </div>
        
        <div class="slide">
            <h1>Composites: TabHost</h1>
<p>
TabHost</p>
<ul>
<p>
Each tab displays a different activity/layout</p>
<p>
Create one activity that holds the TabHost</p>
<p>
Have the activity use a TabHost-rooted resource</p>
<p>
For each tab...</p>
<ul>
<p>
... create an Intent as the content of the tab</p>
<ul>
<p>
the Intent must be tied to a TabActivity-derived Activity</p>
</ul>
<p>
... create a TabSpec to describe the tab</p>
<p>
... and add the tab to the TabHost</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Composites: ListView</h1>
            <!-- <h2>Horizontal list of items</h2> -->
        </div>
        
        <div class="slide">
            <h1>Composites: ListView</h1>
<ul>
<p>
A list of items displayed in a vertical stack</p>
<ul>
<p>
each item displayed is usually selectable in some fashion</p>
<p>
this is often the "master" in a "master-detail"</p>
<ul>
<p>
in which case selecting the item takes you to a new screen</p>
</ul>
</ul>
<p>
Each item is an individual layout</p>
<ul>
<p>
meaning each item can be customized</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Composites: ListView</h1>
<ul>
<p>
ListView expects a ListAdapter as its Model</p>
<p>
ListView expects a layout for its View</p>
<p>
Both Model and View are bundled up into the ListAdapter</p>
<p>
ListView expects an OnItemClickListener for its Controller</p>
</ul>
        </div>

        <div class="slide">
            <h1>Composites: ListView</h1>
            <p>Define the Adapter (model)</p>            <pre style="background-color:black">

val values = listOf("Item 1", 
                    "Item 2",
                    "Item 3")
val adapter = ArrayAdapter<String>(this,
   android.R.layout.simple_list_item_1, android.R.id.text1, values)

</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Composites: GridView</h1>
            <!-- <h2>Grid-patterned items</h2> -->
        </div>
        
        <div class="slide">
            <h1>Composites: GridView</h1>
<p>
GridView is a ListView, but in a grid pattern</p>
<ul>
<p>
... but otherwise similarly constructed to ListView</p>
<ul>
<p>
adapter for its Model</p>
<p>
layout for the View</p>
<p>
OnClickItemListener for the Controller</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>RecyclerView</h1>
            <!-- <h2>A more efficient way of doing lists</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 31 Jan</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>Homework: Life Counter</h2>
<p>
My family enjoys playing Magic:The Gathering over dinner while we are out to eat in restaurants. We need an app to help track each player's "life total" during the game.</p>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>The basics</h2>
<p>
For those unfamiliar with the game, each player starts with 20 "life"; various actions in the game will add or remove from that total. Usually, it's one point at a time, but sometimes it can be in larger groupings. When a player's life reaches 0, they are dead and out of the game; a player's life can (easily) go above 20, and there is no upper limit, though totals grater than 999 are exceedingly rare.</p>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Stories:</h2>
<ul>
<p>
As a user, when I launch the application, it should show me four "players". Each "player" should have a label for their life total, and four pushbuttons ("+", "-","+5","-5").</p>
<p>
As a user, when I push the "+" pushbutton for player 1, it should increment player 1s life total by 1. "-" should reduce the life total by 1, "+5" should increment by 5, and "-5" should decrement by 5.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Stories:</h2>
<ul>
<p>
As a user, when a player's life total drops to 0 or less, it should display a label at the bottom of the app saying "Player X LOSES!"</p>
<p>
As a user, when I rotate the device (landscape to portrait mode or vice versa), it should resize itself evenly.</p>
<p>
As a user, when I run the app on different devices, it should seem "equally balanced" on each device, regardless of orientation. Players' life total labels should be proportional, buttons proportional, and so on.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Grading (5 pts)</h2>
<ul>
<p>
repo should be called 'lifecounter'</p>
<p>
1 pt for each satisfied story</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>31 January</h1>
            <!-- <h2>Intents, Fragments and Compose</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Intents, Fragments, and Compose</h2>
<ul>
<p>
Intents</p>
<ul>
<p>
the messaging system of Android</p>
<p>
how they are used</p>
<p>
when they are used</p>
</ul>
<p>
Fragments</p>
<p>
(Jetpack) Compose</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Intents</h1>
            <!-- <h2>The messaging system of Android</h2> -->
        </div>
        
        <div class="slide">
            <h1>Intents</h1>
<p>
Most OSes use messages to communicate</p>
<ul>
<p>
messages are used because they allow loose coupling</p>
<p>
messages can be ignored</p>
<p>
messages provide the ability to communicate between components</p>
</ul>
        </div>

        <div class="slide">
            <h1>Intents</h1>
<p>
Android uses Intents</p>
<ul>
<p>
Intent == Action (verb) + Context (target)</p>
<p>
Actions are essentially URIs</p>
<p>
Type: retrieved from the data</p>
<p>
Scheme: URI scheme can help Android discover the target</p>
<p>
Category</p>
</ul>
        </div>

        <div class="slide">
            <h1>Intents</h1>
<p>
Intents come in two primary forms</p>
<ul>
<p>
Explicit: target a particular class</p>
<p>
Implicit: no particular target--allows for indirection</p>
</ul>
        </div>

        <div class="slide">
            <h1>Intents</h1>
<p>
Use Intents to launch a second activity</p>
<ul>
<p>
Create an explicit Intent</p>
<ul>
<p>
Intent next = new Intent(this, NextActivity.class);</p>
</ul>
<p>
Launch it using Activity.startActivity</p>
<ul>
<p>
startActivity(next);</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Intents</h1>
<p>
Intents are used for more than just activities</p>
<ul>
<p>
communicating with services</p>
<p>
broadcasting across the device</p>
<p>
registering "callbacks" for pending communications</p>
</ul>
        </div>

        <div class="slide">
            <h1>Intents</h1>
<p>
Pending Intents</p>
<ul>
<p>
PendingIntent wraps an Intent</p>
<p>
PendingIntent fires "later"</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Fragments</h1>
            <!-- <h2>Bits and pieces of composable UI</h2> -->
        </div>
        
        <div class="slide">
            <h1>Fragments</h1>
            <h2>Fragments represent</h2>
<ul>
<p>
behavior, and/or</p>
<p>
a portion of user interface in an Activity</p>
<p>
designed to be composable</p>
<p>
therefore, best way to create "reusable" UI pieces</p>
</ul>
        </div>

        <div class="slide">
            <h1>Fragments</h1>
            <h2>Fragments</h2>
<ul>
<p>
introduced in API 11</p>
<p>
android.support.v4.app.Fragment platform-independent</p>
<p>
always a part of an Activity</p>
<p>
have their own lifecycle (tied roughly to their Activity's)</p>
<p>
can independently be manipulated while the Activity is running</p>
<p>
execute in "fragment transactions"</p>
<p>
optionally appear in the task stack</p>
</ul>
        </div>

        <div class="slide">
            <h1>Fragments</h1>
            <h2>Fragments come in two forms</h2>
<ul>
<p>
static (using  elements in layout)</p>
<p>
dynamic (added/removed via code at runtime)</p>
<ul>
<p>
frankly, the latter is really the only story worth talking about</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Fragments</h1>
            <h2>Fragment use example</h2>
<ul>
<p>
many applications use a master/detail UI approach</p>
<p>
on small devices, these are two activities</p>
<p>
on large devices, this is a single screen</p>
<p>
this would be hard to do as distinct activities</p>
<p>
instead, use fragments for each component</p>
</ul>
        </div>

        <div class="slide">
            <h1>Fragments</h1>
            <h2>Creating fragments</h2>
<ul>
<p>
subclass Fragment; looks very similar to Activity</p>
<p>
usually you create a layout to go with the Fragment</p>
<p>
override the event methods of interest</p>
<ul>
<p>
usually onCreate, onCreateView, onPause</p>
</ul>
<p>
typically onCreateView uses a LayoutInflater to create the UI</p>
</ul>
        </div>

        <div class="slide">
            <h1>Fragments</h1>
            <h2>Managing Fragments</h2>
<ul>
<p>
FragmentManager is the key; obtain from Activity</p>
<ul>
<p>
provides basic Fragment-collection capabilities</p>
<p>
also allows for task stack manipulation/examination</p>
</ul>
<p>
Most Fragment activity managed using FragmentTransactions</p>
<ul>
<p>
these can be part of the task stack</p>
<p>
these are atomic from the task stack's perspective</p>
<p>
these can also be animated using "transitions"</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Jetpack Compose</h1>
            <!-- <h2>Building complex controls out of simple ones</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 2 February</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>QuizDroid (Part 1)</h2>
<ul>
<p>
An application that will allow users to take multiple-choice quizzes</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I start the app, I should see a list of different topics on which to take a quiz. (For now, these should be hard-coded to read "Math", "Physics", and "Marvel Super Heroes", as well as any additional topics you feel like adding into the mix.)</p>
<p>
As a user, when I select a topic from the list, it should take me to the "topic overview" page, which displays a brief description of this topic, the total number of questions in this topic, and a "Begin" button taking me to the first question.</p>
<p>
As a user, when I press the "Begin" button from the topic overview page, it should take me to the first question page, which will consist of a question (TextView), four radio buttons each of which consist of one answer, and a "Submit" button.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I am on a question page and I press the "Submit" button, if no radio button is selected, it should do nothing. If a radio button is checked, it should take me to the "answer" page. (Ideally, the Submit button should not be visible until a radio button is selected.)</p>
<p>
As a user, when I am on the "answer" page, it should display the answer I gave, the correct answer, and tell me the total number of correct vs incorrect answers so far ("You have 5 out of 9 correct"), and display a "Next" button taking me to the next question page, or else display a "Finish" button if that is the last question in the topic.</p>
<p>
As a user, when I am on the "answer" page, and it is the last question of the topic, the "Finish" button should take me back to the first topic-list page, so that I can take a new quiz.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
repo should be called 'quizdroid' on branch 'part1'</p>
<p>
repo should contain all necessary build artifacts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading (5 pts)</p>
<ul>
<p>
We will clone and build it from the GH repo</p>
<p>
1 pt for each story</p>
</ul>
<p>
Extra Credit (2 pts)</p>
<ul>
<p>
As a user on the question page, if I hit the "back" button it should NOT take me to the answer summary page of the previous question, but to the previous question page directly. (1 pt)</p>
<p>
As a user on the first question page of a topic, hitting "back" should take me back to the topic list page, not the topic overview page. (1 pt)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>2 February</h1>
            <!-- <h2>Applications and Architecture</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Application manifest</h2>
<ul>
<p>
application manifest file</p>
<ul>
<p>
how an Android application makes its needs known to the OS</p>
<p>
how an Android application declares elements for use by other components</p>
</ul>
<p>
Permissions and Security</p>
<ul>
<p>
how Android restricts the use of "sensitive" features</p>
<p>
how an Android application obtains consent from the user</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Goals</h1>
            <h2>Application architecture</h2>
<ul>
<p>
Seeing the big picture (architecture)</p>
<p>
Domain objects (POJOs) and Repositories</p>
<ul>
<p>
how we structure an application internally</p>
<p>
encapsulating data access on the device (and why)</p>
</ul>
<p>
Application objects</p>
<ul>
<p>
managing global state and having access to a Context at all times</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Application Manifest</h1>
            <!-- <h2>Describing the application to the OS</h2> -->
        </div>
        
        <div class="slide">
            <h1>App Manifest</h1>
<p>
Application Manifest</p>
<ul>
<p>
Each Android app has a manifest file to describe it</p>
<ul>
<p>
minimum SDK level required</p>
<p>
permissions</p>
<p>
libraries to link against</p>
<p>
and so on</p>
</ul>
<p>
Android tooling expects an AndroidManifest.xml file</p>
<ul>
<p>
IDEs will often hide this behind property sheets</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
            <p>Structure</p>            <pre style="background-color:black">
<manifest>
  <uses-permission />
  <permission />
  <permission-tree />
  <permission-group />
  <instrumentation />
  <uses-sdk />
  <uses-configuration />  
  <uses-feature />  
  <supports-screens />  
  <compatible-screens />  
  <supports-gl-texture />  

  <application>
    ...
  </application>

</manifest>
</pre>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
            <p>Structure</p>            <pre style="background-color:black">
<manifest>
  <application>

    <activity />

    <activity-alias />

    <service />

    <receiver />

    <provider />

    <uses-library />

  </application>
</manifest>
</pre>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
Elements overview</p>
<ul>
<p>
Each of these is described in more detail in the Android docs</p>
<p>
Only manifest and application are required</p>
<ul>
<p>
each can only appear once</p>
</ul>
<p>
All values set through attributes, not as child text</p>
<p>
Any package or class names must be fully-qualified</p>
<p>
Most attributes are Android-namespace-qualified</p>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
<code>activity</code> element</p>
<ul>
<p>
Each activity in the app must be declared</p>
<p>
name holds the Activity subclass (required)</p>
<p>
Tons of attributes to customize activity behavior</p>
<p>
See docs for details</p>
<p>
IDEs will often manage these elements for you</p>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
<code>service</code> element</p>
<ul>
<p>
Each service in the app must be declared</p>
<p>
Each service must be declared</p>
<p>
name holds the Service subclass (required)</p>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
<code>uses-sdk</code> element</p>
<ul>
<p>
Describes the minimum API level this application requires to run</p>
<p>
Not related to the platform-tools level used to build the application</p>
<p>
Also describes the preferred API level and maximum API level</p>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
<code>uses-permission</code> element</p>
<ul>
<p>
Most Android features require user permission to run/utilize</p>
<p>
Android gathers user permission at installation time</p>
<p>
The uses-permission element describes a permission requested</p>
<p>
One uses-permission element per permission</p>
<ul>
<p>
this often means a long list of uses-permission elements</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
<code>uses-library</code> element</p>
<ul>
<p>
Describes any shared libraries used by the app</p>
<ul>
<p>
normally not necessary; android shared libraries are all assumed</p>
</ul>
<p>
name holds the documented name of the library</p>
<ul>
<p>
not a file name or path</p>
</ul>
<p>
required indicates whether this library is necessary for the app to work</p>
<ul>
<p>
PackageManager will not allow the application to install if the shared library is not on the device</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
<code>supports-screens</code> element</p>
<ul>
<p>
Describes the different physical screen sizes this application can run on</p>
<p>
mostly a collection of true/false settings</p>
<ul>
<p>
plus two "minimum-size" value settings</p>
</ul>
<p>
see DisplayMetrics class for more details on screen capabilities</p>
</ul>
        </div>

        <div class="slide">
            <h1>App Manifest</h1>
<p>
See the Android documentation for more details</p>
<ul>
<p>
Developer Guide</p>
<ul>
<p>
http://developer.android.com/guide/topics/manifest/manifest-intro.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android Security and Permissions</h1>
            <!-- <h2>How Android prevents abuse</h2> -->
        </div>
        
        <div class="slide">
            <h1>Security and Permissions</h1>
<p>
Android wants to prevent applications from doing bad things</p>
<ul>
<p>
disrupting other applications</p>
<p>
piggybacking on top of user voice/data plans</p>
<p>
accessing device features without user permission</p>
<p>
and so on</p>
</ul>
        </div>

        <div class="slide">
            <h1>Security and Permissions</h1>
<p>
Linux security model provides OS-level security</p>
<ul>
<p>
user A cannot read user B's files</p>
<p>
user A cannot exhaust user B's resources (memory, CPU, devices)</p>
<p>
user A cannot create/destroy/modify user B's configuration</p>
</ul>
<p>
Android extends this by making each application a unique user (UID)</p>
<ul>
<p>
this creates a kernel-level Application Sandbox</p>
<p>
this also ensures it holds for managed and unmanaged (native) code</p>
</ul>
        </div>

        <div class="slide">
            <h1>Security and Permissions</h1>
<p>
Features</p>
<ul>
<p>
Android provides full set of cryptographic APIs</p>
<p>
Android 4 provides KeyChain class to use system credential storage for private keys and cert chains</p>
<p>
Android 3 provides full filesystem encryption</p>
<p>
Android system unlock password also owns crypto key for filesystem encryption</p>
<p>
Android 2.2 introduced device administration to allow for better enterprise management of devices, even remotely</p>
</ul>
        </div>

        <div class="slide">
            <h1>Security and Permissions</h1>
<p>
Application security</p>
<ul>
<p>
an application must be cryptographically signed before upload</p>
<ul>
<p>
private key remains in developer's hands</p>
<p>
public key is distributed to anyone interested</p>
<p>
this ensures this application comes from this developer</p>
<p>
this includes anti-tamper detection</p>
</ul>
<p>
debug applications are signed with a well-known key</p>
<ul>
<p>
therefore debug applications cannot be uploaded; only side-loaded</p>
</ul>
<p>
relies on Java Keystore tooling to manage</p>
<ul>
<p>
most of this is hidden from developers in IDE tooling</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Security and Permissions</h1>
<p>
Application security</p>
<ul>
<p>
applications will often require access to protected/secured APIs</p>
<ul>
<p>
camera, GPS, Bluetooth, telephony, SMS, network, etc</p>
</ul>
<p>
application must declare its intent to use these APIs</p>
<ul>
<p>
this declaration goes into the application manifest</p>
</ul>
<p>
user must consent/agree at application install time</p>
<p>
if the permission set changes with an update, user must re-consent/agree</p>
<p>
if you forget the permission declaration, attempts to use the protected API result in runtime errors</p>
<ul>
<p>
these are usually easily spotted in the diagnostic log</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Security and Permissions</h1>
            <p>Application Manifest requesting Internet access</p>            <pre style="background-color:black">
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.android.app.myapp" >
    <uses-permission android:name="android.permission.INTERNET" />
    ...
</manifest>
</pre>
        </div>

        <div class="slide">
            <h1>Security and Permissions</h1>
<p>
For more details...</p>
<ul>
<p>
See Android Developer Guide</p>
<p>
System default permissions list</p>
<ul>
<p>
https://developer.android.com/reference/android/Manifest.permission.html</p>
</ul>
<p>
See Android Security overview on Android source site</p>
<ul>
<p>
https://source.android.com/devices/tech/security/index.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android Application Architecture</h1>
            <!-- <h2>What most apps look like</h2> -->
        </div>
        
        <div class="slide">
            <h1>Android Application Architecture</h1>
            <h2>Building an Android app</h2>
<ul>
<p>
Several considerations</p>
<ul>
<p>
Conceptual organization of code</p>
<p>
Physical organization of code</p>
<p>
Coupling and cohesion between constructs</p>
</ul>
<p>
Practical considerations</p>
<ul>
<p>
Adding features</p>
<p>
Debugging (knowing where to start)</p>
<p>
DRY (Don't Repeat Yourself)</p>
</ul>
<p>
GOAL: Make it easy to reason about your app</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Application Architecture</h1>
            <h2>Fundamentals</h2>
<ul>
<p>
Separation of concerns</p>
<p>
DRY: Don't Repeat Yourself</p>
<p>
depend on interfaces, not implementations</p>
<p>
"layered"</p>
<p>
"mockability" (for easier testing)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Application Architecture</h1>
            <h2>Fundamentals</h2>
<ul>
<p>
Data</p>
<ul>
<p>
"at rest" on the device</p>
<p>
"at rest" someplace else (server)</p>
<p>
validation</p>
</ul>
<p>
Processing</p>
<ul>
<p>
the "business logic"</p>
<p>
shuttling data and updates back and forth</p>
</ul>
<p>
UI</p>
<ul>
<p>
display</p>
<p>
data-entry validation</p>
<p>
theme/style</p>
<p>
consistency</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Application Architecture</h1>
            <h2>This goes by many names</h2>
<ul>
<p>
Model/View/Controller</p>
<p>
Model/View/ViewModel</p>
<ul>
<p>
Model: Domain objects with zero connection to UI or data storage</p>
<p>
View: Things the user looks at (built-in Android components)</p>
<p>
ViewModel: Data in a form that's convenient for the UI to work with</p>
<p>
Repository: Single point of access to the data "at rest"</p>
</ul>
<p>
Don't take this too literally</p>
<ul>
<p>
Variations are not only possible, but common</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Domain Models</h1>
            <!-- <h2>Structuring your app's models</h2> -->
        </div>
        
        <div class="slide">
            <h1>Domain Models</h1>
<p>
Recall the Model in MVC</p>
<ul>
<p>
Models capture the behavior and state of an application independent of the UI</p>
<ul>
<p>
These are also often called Domain Models or (for historical reasons) POJOs (Plain Old Java Objects)</p>
<p>
These often follow the JavaBeans API standard</p>
<p>
They often form a web/graph of interconnected objects representing the problem domain</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Domain Models</h1>
<p>
Domain objects</p>
<ul>
<p>
represent major problem domain ideas in the system</p>
<p>
describes the connections/interaction between those entities</p>
<p>
often the easiest/most fun part of application design</p>
<p>
if you can't get how to model it, you're not going to get how to present it or store it</p>
</ul>
        </div>

        <div class="slide">
            <h1>Domain Models</h1>
<p>
JavaBeans</p>
<ul>
<p>
basic rules</p>
<ul>
<p>
all state access is through property methods (getters/setters)</p>
<p>
no-argument constructor</p>
<p>
implement java.io.Serializable</p>
</ul>
<p>
most of these are fairly loose; Android enforces none of them</p>
<ul>
<p>
Serializability is useful in Intents and Bundles</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Domain Models</h1>
<p>
Object persistence</p>
<ul>
<p>
we often want to load and store objects to disk</p>
<ul>
<p>
true even in Android models, though with different context</p>
</ul>
<p>
Object/relational mapping tools store to RDBMSes</p>
<ul>
<p>
on Android, this was just SQLite, though this is changing</p>
</ul>
<p>
XML: JAXB is the standard, XStream</p>
<p>
JSON: Jackson is the de facto standard</p>
<p>
Serialize: to/from any file stream using ObjectOutput/InputStream</p>
</ul>
        </div>

        <div class="slide">
            <h1>Domain Models</h1>
<p>
Repository</p>
<ul>
<p>
typically we want to encapsulate details of persistence</p>
<ul>
<p>
we may change up how it works across app lifetime</p>
<p>
we may want to implement fetch-on-demand</p>
<p>
we may want to implement local caching with periodic updates</p>
<p>
we may want to cache often-used data and fetch the rest</p>
</ul>
<p>
so place all persistence logic behind a Repository facade</p>
</ul>
        </div>

        <div class="slide">
            <h1>Domain Models</h1>
<p>
Repository</p>
<ul>
<p>
Repository is usually an interface</p>
<ul>
<p>
differing implementations allow for runtime-swappable behavior</p>
<p>
also allows for easier testing during development</p>
</ul>
<p>
Repository usually has CRUD methods for domain objects</p>
<ul>
<p>
retrieve can start to get pretty specific at times</p>
<p>
decisions on granularity of updates/deletes become important</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Application Objects</h1>
            <!-- <h2>Explicitly managing app-wide (global) state</h2> -->
        </div>
        
        <div class="slide">
            <h1>Application Objects</h1>
<p>
Applications hold state</p>
<ul>
<p>
much of the time, this state is in Activities</p>
<ul>
<p>
in controls</p>
<p>
held as fields</p>
<p>
passed around via Intents or Bundles</p>
</ul>
<p>
but there is often some state that is app-wide</p>
<ul>
<p>
let's not use the ugly word "global"</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Application Objects</h1>
<p>
Android Application objects</p>
<ul>
<p>
identified in application manifest file</p>
<ul>
<p>
use the application element name attribute</p>
</ul>
<p>
this class is instantiated before all other Android components</p>
<ul>
<p>
usually singleton-ized for easy reference</p>
</ul>
<p>
Application extends Context</p>
<ul>
<p>
making it useful for certain scenarios without an Activity</p>
</ul>
<p>
event methods fired in response to device events</p>
<ul>
<p>
configuration change, low memory, trim memory, etc</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Application Objects</h1>
<p>
Android Application Objects</p>
<ul>
<p>
if none is identified, Android creates a base Application object</p>
<p>
Android docs recommend that the base Application is usually enough</p>
<ul>
<p>
use standalone Singletons instead for global app state</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Repository</h1>
            <!-- <h2>Structural/Creational Hybrid</h2> -->
        </div>
        
        <div class="slide">
            <h1>Repository</h1>
<p>
Intent</p>
<ul>
<p>
"mediate between the domain and persistence layers using a collection-like interface for accessing domain objects"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Repository</h1>
<p>
Applicability</p>
<ul>
<p>
you want to isolate domain objects from the details of persistence logic</p>
<p>
the persistence logic should be able to "swap" without domain objects' or client logic being aware of it</p>
</ul>
        </div>

        <div class="slide">
            <h1>Repository</h1>
<p>
Consequences</p>
<ul>
<p>
capabilities of the Repository are limited to what is surfaced from the underlying persistent store</p>
<p>
Repository may become a "least-common denominator" of all underlying persistent stores</p>
<p>
persistent stores can be "hybridized" without client awareness</p>
<ul>
<p>
such as maintaining local-store or in-memory caching in front of longer-haul persistence</p>
</ul>
<p>
persistence can be interchangeable at runtime</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 7 February</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>QuizDroid: Domain Models and Repository</h2>
<ul>
<p>
An application that will allow users to take multiple-choice quizzes</p>
<ul>
<p>
now we will refactor to use a domain model and an Application object</p>
<p>
note that a future version of this codebase will require permissions to be set; this can be done now or later, as you wish</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Developer Tasks:</p>
<ul>
<p>
Create a class called <code>QuizApp</code> extending <code>android.app.Application</code> and make sure it is referenced from the app manifest; override the <code>onCreate()</code> method to emit a message to the diagnostic log to ensure it is being loaded and run</p>
<p>
Use the "Repository" pattern to create a <code>TopicRepository</code> interface; create one implementation that simply stores elements in memory from a hard-coded list initialized on startup. Create domain objects for <code>Topic</code> and <code>Quiz</code></p>
<ul>
<p>
a <code>Quiz</code> is question text, four answers, and an integer saying which of the four answers is correct</p>
<p>
a <code>Topic</code> is a title, short description, long description, and a collection of Question objects</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Developer Tasks:</p>
<ul>
<p>
Make the <code>QuizApp</code> object a Singleton, and provide a method for accessing the <code>TopicRepository</code>.</p>
<p>
Refactor the activities in the application to use the <code>TopicRepository</code>.</p>
<ul>
<p>
On the topic list page, the title and the short description should come from the similar fields in the <code>Topic</code> object.</p>
<p>
On the topic overview page, the title and long description should come from the similar fields in the <code>Topic</code> object. The <code>Question</code> object should be similarly easy to match up to the UI.</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
repo should be called 'quizdroid' on branch 'part3'</p>
<p>
repo should contain all necessary build artifacts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading (5 pts)</p>
<ul>
<p>
1pt: QuizApp extends Application, is referenced from manifest, and writes to log</p>
<p>
1pt: QuizApp is a Singleton</p>
<p>
3pts: TopicRepository provides all access to the Topic/Quiz objects, and all data is coming from those objects</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Extra Credit (3 pts)</p>
<ul>
<p>
In the next part, we will need this application to need to access the Internet, among other things. Look through the list of permissions in the Android documentation, and add <code>uses-permission</code> elements as necessary to enable that now. (1 pt)</p>
<p>
Refactor the domain model so that <code>Topic</code>s can have an icon to go along with the title and descriptions. (Use the stock Android icon for now if you don't want to test your drawing skills.) Refactor the topic list ListView to use the icon as part of the layout for each item in the list view. Display the icon on the topic overview page. (2pts)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>4 May</h1>
            <!-- <h2>Storage and Data</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android storage and data</h2>
<ul>
<p>
Android Shared Preferences/DataStore</p>
<p>
(Java) File I/O</p>
<p>
JSON</p>
<p>
XML</p>
<p>
SQLite</p>
<p>
Room</p>
<p>
... and there's more third-party options to boot</p>
</ul>
        </div>

        <div class="slide">
            <h1>Simple storage</h1>
            <h2>Often we want to store "simple" values</h2>
<ul>
<p>
application settings</p>
<p>
configuration settings</p>
<p>
"bookmark" kinds of references</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android: Shared Preferences</h1>
            <!-- <h2>Simple data storage</h2> -->
        </div>
        
        <div class="slide">
            <h1>Preferences</h1>
<p>
Android SharedPreferences</p>
<ul>
<p>
essentially, an XML file stored in your app's data area</p>
<ul>
<p>
as such, it's probably the easiest to use ...</p>
<p>
... but it has the usual limitations of XML</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Preferences</h1>
<p>
Android SharedPreferences</p>
<ul>
<p>
<code>Context.getSharedPreferences()</code> to return a SharedPreferences object</p>
<ul>
<p>
creates XML file using name parameter</p>
</ul>
<p>
or <code>Activity.getPreferences()</code></p>
<ul>
<p>
if associated to an activity, uses Activity name for filename</p>
</ul>
<p>
'mode' controls visiblity options</p>
<ul>
<p>
<code>MODE_PRIVATE</code> makes the prefs invisible to all but this app</p>
<p>
<code>MODE_WORLD_READABLE</code>/<code>WRITEABLE</code> allows other apps access</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Preferences</h1>
<p>
Android SharedPreferences</p>
<ul>
<p>
once opened, usage is pretty straightforward</p>
<ul>
<p>
to view existing data, call get*()</p>
<p>
to change, call edit() first, then put*()s, then commit() to write</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Jetpack DataStore</h1>
            <!-- <h2>Lightweight data storage</h2> -->
        </div>
        
        <div class="slide">
            <h1>Unstructured storage</h1>
            <h2>Do we want to control the storage format ourselves?</h2>
<ul>
<p>
read/write files at the byte level ourselves</p>
<p>
fall back to Java I/O primitives</p>
<p>
or use this as the basis for storing more structured formats</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Java I/O</h1>
            <!-- <h2>Understanding Java's basic I/O facilities</h2> -->
        </div>
        
        <div class="slide">
            <h1>Java I/O</h1>
<p>
Java's I/O facilities: java.io.*</p>
<ul>
<p>
basic stream-oriented input and output</p>
<p>
built around core interfaces and Decorator-style implementations</p>
<p>
differentiates between byte (8-bit) and character (16-bit Unicode)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
Core I/O interfaces</p>
<ul>
<p>
InputStream: byte-oriented data coming in</p>
<p>
OutputStream: byte-oriented data going out</p>
<p>
Reader: character-oriented data coming in</p>
<p>
Writer: character-oriented data going out</p>
</ul>
<p>
In essence</p>
<ul>
<p>
any human-readable text should use Reader/Writer</p>
<p>
any binary or non-text should use InputStream/OutputStream</p>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
Hygiene</p>
<ul>
<p>
Always make sure to close() a stream when finished</p>
<ul>
<p>
GC will do this eventually, but often way too late</p>
</ul>
<p>
Always make sure to handle exceptions declared from operations</p>
<p>
try-with-resources block helps with this immensely</p>
<ul>
<p>
for any object that is Closeable</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
Exceptions</p>
<ul>
<p>
most operations throw IOException</p>
<ul>
<p>
or some subclass of IOException</p>
</ul>
<p>
this is deliberate; files may not exist, be readable, etc</p>
<ul>
<p>
forces developers to deal with different runtime conditions</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
Core implementations: Streams</p>
<ul>
<p>
FileInputStream/FileOutputStream</p>
<ul>
<p>
read/write to/from a file on disk (no buffering)</p>
</ul>
<p>
ByteArrayInputStream/ByteArrayOutputStream</p>
<ul>
<p>
read/write to/from an in-memory growable byte array</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
Core implementations: Characters</p>
<ul>
<p>
FileReader/FileWriter</p>
<ul>
<p>
read/write to/from a file on disk (no buffering)</p>
</ul>
<p>
StringReader/StringWriter</p>
<ul>
<p>
read/write to/from an in-memory String object</p>
</ul>
<p>
CharArrayReader/CharArrayWriter</p>
<ul>
<p>
read/write to/from an in-memory growable character array</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
"Decorator" implementations provide additional behavior</p>
<ul>
<p>
want buffering?</p>
<ul>
<p>
Wrap a BufferedWriter around another Writer</p>
</ul>
<p>
want to serialize an object?</p>
<ul>
<p>
Wrap an ObjectOutputStream around another Stream</p>
</ul>
<p>
want to serialize an object with buffering?</p>
<ul>
<p>
Wrap a BufferedOutputStream around a target OutputStream</p>
<p>
Wrap an ObjectOutputStream around the BufferedOutputStream</p>
</ul>
<p>
since they all implement the core interfaces, API remains identical</p>
<ul>
<p>
and extensible--add in compression, encryption, whatever</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Java I/O</h1>
<p>
Decorator implementations:</p>
<ul>
<p>
BufferedXXX</p>
<ul>
<p>
provide buffering around the Reader/Writer/InputStream/OutputStream</p>
</ul>
<p>
ObjectInputStream/ObjectOutputStream</p>
<ul>
<p>
serialize objects to/from the stream</p>
</ul>
<p>
LineNumberReader</p>
<ul>
<p>
keeps track of line numbers around a Reader</p>
</ul>
<p>
FilterReader/FilterWriter</p>
<ul>
<p>
implement filtering around a Reader/Writer</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android: File I/O</h1>
            <!-- <h2>Using the filesystem</h2> -->
        </div>
        
        <div class="slide">
            <h1>File I/O</h1>
<p>
Android exposes the filesystem to standard Java I/O</p>
<ul>
<p>
Two major categories of storage:</p>
<ul>
<p>
internal storage</p>
<p>
... and external storage (which may or may not be actually removable)</p>
</ul>
<p>
Beyond where the files are stored, there's no real difference</p>
<ul>
<p>
except that external storage can disappear at any time, isn't secure, and can be read over the USB cable</p>
</ul>
<p>
Any sort of file storage is possible from here</p>
<ul>
<p>
so anything that takes a File is a candidate for use</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>File I/O</h1>
<p>
"Internal storage": storage permanent to the device</p>
<ul>
<p>
use openFileOutput() to return a java.io.FileOutputStream</p>
<p>
use openFileInput() for a java.io.FileInputStream</p>
<ul>
<p>
both use MODE_PRIVATE, MODE_APPEND, MODE_WORLD_READABLE/WRITEABLE</p>
</ul>
<p>
getFilesDir() returns File for app's internal storage directory</p>
<p>
deleteFile(), fileList()</p>
</ul>
        </div>

        <div class="slide">
            <h1>File I/O</h1>
<p>
"Cached" data is a little different</p>
<ul>
<p>
getCacheDir() returns a File to the "cache" directory</p>
<p>
Android feels free to delete this data in low-storage scenarios</p>
<ul>
<p>
but Android docs suggest not to rely on this; police yourself</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>File I/O</h1>
<p>
"External storage": removable storage (SD cards)</p>
<ul>
<p>
API 7 and earlier</p>
<ul>
<p>
getExternalStorageState() tells us SD card state</p>
<p>
getExternalStorageDirectory() returns a java.io.File for the directory</p>
</ul>
<p>
Files that should be shared go in a slightly different place</p>
<ul>
<p>
from getExternalStorageDirectory(), store to Music/, Podcasts/, Ringtones/, Alarms/, Notifications/, Pictures/, Movies/, or Downloads/</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>File I/O</h1>
<p>
"External storage": removable storage (SD cards)</p>
<ul>
<p>
API 8 and later</p>
<ul>
<p>
getExternalStorageState() tells us SD card state</p>
<p>
getExternalFilesDir() returns a java.io.File for the directory</p>
</ul>
<p>
Files that should be sharde go in a slightly different place</p>
<ul>
<p>
getExternalStoragePublicDirectory(), passing in DIRECTORY_MUSIC, DIRECTORY_RINGTONES, etc</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Structured storage</h1>
            <h2>Sometimes we'd prefer a well-known structure to our data</h2>
<ul>
<p>
JSON: JavaScript Object Notation</p>
<p>
XML: eXtensible Markup Language</p>
<p>
Google also offers protobufs</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>JavaScript Object Notation</h1>
            <!-- <h2>Why, exactly...?</h2> -->
        </div>
        
        <div class="slide">
            <h1>JSON Concepts</h1>
<p>
JSON: Data in JavaScript (RFC 4627)</p>
<ul>
<p>
with the rise of JavaScript's acceptance came a desire to make it easy to send data to a JavaScript client</p>
<p>
JavaScript has an "object literal" notation, so we started making use of that</p>
<p>
this came to be known as "JSON"</p>
<p>
JSON has since become a format used in multiple contexts</p>
<ul>
<p>
including databases (CouchDB, MongoDB, RavenDB, and more)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Concepts</h1>
<p>
JSON benefits</p>
<ul>
<p>
simple (for the most part)</p>
<p>
highly portable</p>
<p>
extensible</p>
<p>
(relatively) compact</p>
<ul>
<p>
compared to XML</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Concepts</h1>
<p>
JSON warnings</p>
<ul>
<p>
data only!</p>
<ul>
<p>
JSON has no provision for including code</p>
</ul>
<p>
data is plain-text format</p>
<p>
data is limited to JavaScript types</p>
<ul>
<p>
strings and numbers (and arrays of) for the most part</p>
<p>
binary is not going to transmit well in particular</p>
</ul>
<p>
never use client-side eval() to parse a JSON document</p>
<ul>
<p>
injection attacks await those who do</p>
</ul>
<p>
does not follow object references/graphs well</p>
<ul>
<p>
becomes more of a hierarchical format than an object one</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>JSON Format Details</h1>
            <!-- <h2>What's legit JSON?</h2> -->
        </div>
        
        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON file format</p>
<ul>
<p>
always a plain-text (8-bit ASCII "clean") format</p>
<p>
governed under ECMA 404 specification</p>
<p>
easily described</p>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON Document</p>
<ul>
<p>
a single object literal denoted by <code>{</code> and <code>}</code></p>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON Object</p>
<ul>
<p>
object is a comma-delimited list of <code>string : value</code> pairs</p>
<ul>
<p>
string is <code>"</code>-quoted field name</p>
<p>
<code>:</code> separates name from value</p>
<p>
value is any JSON-acceptable value</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON value</p>
<ul>
<p>
acceptable JSON values:</p>
<ul>
<p>
strings</p>
<p>
numbers</p>
<p>
objects</p>
<p>
arrays</p>
<p>
<code>true</code>, <code>false</code> (boolean literals)</p>
<p>
<code>null</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON strings</p>
<ul>
<p>
always <code>"</code>-quoted</p>
<p>
any UNICODE character (except <code>"</code>, <code>\</code> or control characters)</p>
<p>
<code>\</code> escapes sensitive characters</p>
<ul>
<p>
<code>"</code>, <code>\</code>, <code>/</code>, <code>\b</code>, <code>\f</code>, <code>\n</code>, <code>\r</code>, <code>\t</code>, or <code>\uXXXX</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON numbers</p>
<ul>
<p>
decimal formats only</p>
<p>
floating-point, exponential formats allowed</p>
<ul>
<p>
1</p>
<p>
1.0</p>
<p>
1.7e14</p>
<p>
negative forms of the above</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
JSON arrays</p>
<ul>
<p>
denoted by <code>[</code> and <code>]</code></p>
<p>
contain comma-delimited list of values</p>
</ul>
        </div>

        <div class="slide">
            <h1>JSON Format</h1>
<p>
For more information</p>
<ul>
<p>
see RFC 4627</p>
<ul>
<p>
http://www.ietf.org/rfc/rfc4627.txt</p>
</ul>
<p>
see JSON website (includes list of JSON parser libraries)</p>
<ul>
<p>
http://json.org</p>
</ul>
<p>
see ECMA 404 specification</p>
<ul>
<p>
http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf</p>
</ul>
<p>
see JSON Lint (JSON validator)</p>
<ul>
<p>
http://jsonlint.com/</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Reading/Writing JSON in Android</h1>
            <!-- <h2>null --null</h2> -->
        </div>
        
        <div class="slide">
            <h1>JSON I/O</h1>
<p>
Reading/writing JSON</p>
<ul>
<p>
fewer options, since JSON as a medium is more recent</p>
<p>
no standard (out-of-the-box) Java options</p>
<p>
third-party options</p>
<ul>
<p>
Jackson</p>
<p>
Gson</p>
</ul>
<p>
typically very simplified, no "declarative" model (like XML)</p>
<ul>
<p>
this means most of the time, developers are on the hook to write it (or read it) piece by piece, instead of allowing a library to worry about whole-object-graph serialization</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Reading/Writing JSON in Android</h1>
            <!-- <h2>null --null</h2> -->
        </div>
        
        <div class="slide">
            <h1>JsonReader/JsonWriter</h1>
<p>
JsonReader, JsonWriter</p>
<ul>
<p>
convenience classes for POJOs to JSON and back</p>
<p>
modeled very loosely ...</p>
<ul>
<p>
on XML pull-mode stream parser (for reads)</p>
<p>
on push-model element stream writer (for writes)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JsonReader/JsonWriter</h1>
<p>
JsonReader</p>
<ul>
<p>
construct using new around a java.io.Reader</p>
<p>
beginObject() starts read of an object</p>
<p>
endObject() completes object read</p>
<p>
beginArray() starts read of an array</p>
<p>
endArray() ends array read</p>
<p>
next() methods indicate the next node in the stream</p>
</ul>
        </div>

        <div class="slide">
            <h1>JsonReader/JsonWriter</h1>
<p>
JsonReader</p>
<ul>
<p>
nextName() returns next named field in object</p>
<p>
nextLong/nextString/nextInt/etc return field value</p>
<p>
hasNext() indicates if array has more values to read</p>
</ul>
        </div>

        <div class="slide">
            <h1>JsonReader/JsonWriter</h1>
<p>
JsonWriter</p>
<ul>
<p>
construct using new around a java.io.Writer</p>
<p>
beginObject(): write object preamble</p>
<p>
endObject(): close object</p>
<p>
beginArray(): write array preamble</p>
<p>
endArray(): close array</p>
</ul>
        </div>

        <div class="slide">
            <h1>JsonReader/JsonWriter</h1>
<p>
JsonWriter</p>
<ul>
<p>
name() writes out object field name</p>
<p>
value() writes out value</p>
<ul>
<p>
either object field value or array element value</p>
</ul>
<p>
make certain JsonWriter is close()d on completion</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML</h1>
            <h2>XML: the choice before JSON</h2>
<ul>
<p>
XML is a data-centric cousin to HTML</p>
<ul>
<p>
with stricter rules</p>
</ul>
<p>
from 2000-2010, XML "ruled the roost"</p>
<p>
we passed XML over HTTP</p>
<ul>
<p>
... and called it "Web Services"</p>
<p>
... and built a lot of specifications around it ("WS-*")</p>
<p>
... and it got really complicated, really quickly</p>
</ul>
<p>
knowing how to parse/produce XML is useful...</p>
<ul>
<p>
particularly for accessing legacy systems</p>
</ul>
<p>
... but not necessary</p>
<ul>
<p>
at least not in the mobile world</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android XmlPullParser</h1>
            <!-- <h2>null --null</h2> -->
        </div>
        
        <div class="slide">
            <h1>XML I/O</h1>
<p>
Android XmlPullParser</p>
<ul>
<p>
pull-mode parser</p>
<ul>
<p>
meaning you write code to pull each node out of the stream for processing</p>
</ul>
<p>
similar to the Java StAX standard</p>
<ul>
<p>
Android chose to write their own</p>
</ul>
<p>
still operates off of Java I/O model</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML I/O</h1>
<p>
Using XmlPullParser</p>
<ul>
<p>
Instantiate using newPullParser()</p>
<p>
pass in an InputStream</p>
<p>
iterate through the stream examining each node</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML I/O</h1>
<p>
XmlPullParser nodes</p>
<ul>
<p>
parser conceptually points to a "current node"</p>
<p>
name() returns the element name</p>
<p>
getAttributeValue() returns the value for an attribute of a given name</p>
<p>
next() pulls the next node to be the current node</p>
<ul>
<p>
returns the current node type (start tag, end tag, text, or document end)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML I/O</h1>
<p>
XmlPullParser pros</p>
<ul>
<p>
low-level</p>
<p>
(relatively) easy to understand</p>
<p>
low overhead</p>
</ul>
<p>
XmlPullParser cons</p>
<ul>
<p>
low-level</p>
<p>
no mapping to domain objects/entities</p>
<p>
difficult to do validation effectively/easily</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML I/O</h1>
<p>
For more details</p>
<ul>
<p>
see Android API docs</p>
<ul>
<p>
https://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android XmlSerializer</h1>
            <!-- <h2>Writing XML Infosets</h2> -->
        </div>
        
        <div class="slide">
            <h1>XmlSerializer</h1>
<p>
XmlSerializer abstracts away XML serialization details</p>
<ul>
<p>
don't worry aobut angle brackets</p>
<p>
just think at the Infoset level</p>
</ul>
        </div>

        <div class="slide">
            <h1>XmlSerializer</h1>
<p>
Using XmlSerializer</p>
<ul>
<p>
Create an instance from XmlPullParserFactory.newSerializer()</p>
<p>
create a target Writer to which to serialize, pass it to the serializer</p>
<p>
call through the XmlSerializer interface to write the document</p>
<ul>
<p>
startDocument(), startTag()</p>
<p>
text(), attribute(), comment(), etc</p>
<p>
endTag(), endDocument()</p>
<p>
flush() and close()</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XmlSerializer</h1>
<p>
XmlSerializer pros</p>
<ul>
<p>
abstracts away XML syntax details</p>
<p>
focuses exclusively at Infoset level</p>
</ul>
<p>
XmlSerializer cons</p>
<ul>
<p>
still focused at a fairly low level</p>
<ul>
<p>
thinking about Infoset, not objects</p>
</ul>
<p>
often feels like overkill</p>
<ul>
<p>
how hard is it to just open a file and write XML syntax?</p>
<p>
how likely is it that we'll use different XML representations, anyway?</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Relational data</h1>
            <h2>Relational data: The real king of the roost</h2>
<ul>
<p>
RDBMSes are the <em>status quo</em> in almost any business</p>
<ul>
<p>
various "NoSQLs" are seeking to change that</p>
<p>
but before that, we sought ways to bring an RDBMS to mobile devices</p>
<p>
enter SQLite, an OSS "lightweight" RDBMS written in C++</p>
</ul>
<p>
SQLite has been a part of Android (and iOS) since v1</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android: SQLite</h1>
            <!-- <h2>Using relational data on Android</h2> -->
        </div>
        
        <div class="slide">
            <h1>SQLite</h1>
            <h2>Android supports SQLite (android.database.sqlite)</h2>
<ul>
<p>
see https://www.sqlite.org/index.html for more details</p>
<p>
<code>SQLiteDatabase</code>: core class for all things SQLite</p>
<ul>
<p>
<code>openDatabase</code> or <code>openOrCreateDatabase</code></p>
<p>
<code>beginTransaction</code>, <code>endTransaction</code></p>
<p>
<code>insert</code>, <code>delete</code>, <code>update</code>, <code>replace</code>, <code>query</code></p>
<p>
<code>execSQL</code></p>
</ul>
<p>
queries return either a "projection" (String) or a Cursor object</p>
<ul>
<p>
either can generally be bound to a View Adapter</p>
<p>
... or you can manually iterate/bind</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>SQLite</h1>
            <h2>Android convenience classes</h2>
<ul>
<p>
<code>SQLiteOpenHelper</code>: extend this to receive "events" about the database</p>
<ul>
<p>
<code>onCreate</code></p>
<p>
<code>onUpgrade</code></p>
<p>
<code>onOpen</code></p>
<p>
provide a database name, and a version (to super())</p>
</ul>
<p>
SQLiteStatement: precompiled SQL for fast reuse</p>
<ul>
<p>
essentially, a JDBC PreparedStatement</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>SQLite</h1>
            <p>
# Android SDK ships with `sqlite3`

* SQL console to SQLite files on device
* generally you use adb to open a shell, then sqlite3:
</p>            <pre style="background-color:black">

$ adb -s emulator-5554 shell
# sqlite3 /data/data/com.example.google.rss.rssexample/databases/rssitems.db
SQLite version 3.3.12
Enter ".help" for instructions
.... enter commands, then quit...
sqlite> .exit

</pre>
        </div>

        <div class="slide">
            <h1>O/R-Ms on Android</h1>
            <h2>Object/Relational Mappers</h2>
<ul>
<p>
Theory is, they make relational data access easier</p>
<ul>
<p>
by "binding" to an object model</p>
<p>
which then allows you to use "just objects"</p>
</ul>
<p>
Reality is a mixed bag</p>
<ul>
<p>
some pros</p>
<p>
some cons</p>
</ul>
<p>
Your instructor wrote a blog post about this</p>
<ul>
<p>
"ORMs are the Vietnam of Computer Science"</p>
<p>
And oh, boy, was it ever popular (good and bad)</p>
</ul>
<p>
Android ships one: Jetpack Room</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Room</h1>
            <!-- <h2>SQLite O/R-M</h2> -->
        </div>
        
        <div class="slide">
            <h1>Room</h1>
<p>
A lightweight object wrapper around SQLite*</p>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 9 February</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>QuizDroid</h2>
<ul>
<p>
An application that will allow users to take multiple-choice quizzes</p>
<ul>
<p>
now we will write the code to check the questions periodically, store the data, and allow for preferences</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Tasks:</h2>
<ul>
<p>
Refactor the <code>TopicRepository</code> to read a JSON file (<code>data/questions.json</code>) to use as the source of the Topics and Questions. Use a hard-coded file (available at http://tednewardsandbox.site44.com/questions.json) pushed to the device with adb for now; do <strong>NOT</strong> include it as part of the application's "assets", as a future version will be replacing the file after the application has been deployed.</p>
<p>
The application should provide a "Preferences" action bar item that brings up a "Preferences" activity containing the application's configurable settings: URL to use for question data, and how often to check for new downloads measured in minutes. If a download is currently under way, these settings should not take effect until the next download starts.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Grading</h2>
<ul>
<p>
repo should be called 'quizdroid' on branch 'part4'</p>
<p>
repo should contain all necessary build artifacts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Grading (5 pts)</h2>
<ul>
<p>
3 pts: TopicRepository pulls all data from a JSON file</p>
<p>
2 pts: Preferences displays configuration</p>
</ul>
            <h2>Extra Credit (2 pts)</h2>
<ul>
<p>
use a custom JSON file of your own with your own questions; if you do this, submit screenshots using your questions. Include the URL at which your JSON file can be found (it must be Internet-accessible) so we can verify it. It must match the structure/format of the example. (2 pts)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>9 February</h1>
            <!-- <h2>Background Operations</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Threading and background operations</h2>
<ul>
<p>
Concepts: why knowing this matters</p>
<p>
Background operation approaches</p>
<ul>
<p>
broadcasting and catching Intents</p>
<p>
AlarmManager</p>
<p>
Services</p>
<p>
Jetpack WorkManager</p>
</ul>
<p>
JVM Threads</p>
<ul>
<p>
Java threading: why, when, how</p>
<p>
Java synchronization: why, when, how</p>
<p>
Android tools to make that easier</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Multithreading</h1>
            <!-- <h2>Let's take a step back for a moment</h2> -->
        </div>
        
        <div class="slide">
            <h1>Multithreading</h1>
<p>
How, exactly, does multithreading work?</p>
<ul>
<p>
small # of CPUs, large # of concurrent tasks to run</p>
<p>
thread-switching is the answer</p>
<p>
this implies overhead on the CPU</p>
<p>
this means that for any collection of work <em>w</em>, dividing it into <em>n</em> parts and running them simultaneously takes longer, due to the overhead of switching</p>
</ul>
        </div>

        <div class="slide">
            <h1>Multithreading</h1>
<p>
So why the emphasis on threads?</p>
<ul>
<p>
threads frequently have to wait for external input</p>
<p>
there is no difference between waiting while on the CPU or waiting while off the CPU</p>
</ul>
        </div>

        <div class="slide">
            <h1>Multithreading</h1>
<p>
Conclusion: threads are best used when some blocking (I/O, etc) is taking place during the work to be performed</p>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>GUIs + Threads</h1>
            <!-- <h2>An unintuitive combination</h2> -->
        </div>
        
        <div class="slide">
            <h1>GUIs + Threads</h1>
<p>
GUI message processing</p>
<ul>
<p>
GUIs work by dispatching messages to handlers</p>
<ul>
<p>
messages can then "bubble up"</p>
<p>
or down or in any desirable direction</p>
<p>
point is, every action is represented by a little bundle of data</p>
</ul>
<p>
there must be a running "loop" that processes these messages</p>
<ul>
<p>
or the UI will freeze up and lock</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>GUIs + Threads</h1>
<p>
Blocking methods means ...</p>
<ul>
<p>
no messages being processed</p>
<p>
which means no UI updates</p>
<p>
which means confused/angry user</p>
</ul>
        </div>

        <div class="slide">
            <h1>GUIs + Threads</h1>
<p>
One solution: multithreading</p>
<ul>
<p>
not to be confused with multitasking</p>
<p>
developers spin up threads of execution</p>
<p>
complete control and freedom</p>
<p>
also tends to create chaos</p>
</ul>
        </div>

        <div class="slide">
            <h1>GUIs + Threads</h1>
<p>
GUI components live by messages</p>
<ul>
<p>
obtaining state usually involves a message</p>
<p>
changing state usually involves a message</p>
<p>
performing a GUI operation usually involves a message</p>
<p>
attempting to use UI components from the non-GUI thread can lead to ugly results</p>
<ul>
<p>
as in, usually, a program crash</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>GUIs + Threads</h1>
<p>
Thus, the rules:</p>
<ul>
<p>
never block the UI thread</p>
<p>
never access the UI from outside the UI thread</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Broadcasting Intents</h1>
            <!-- <h2>Breaker, breaker, you got your ears on?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Broadcasting Intents</h1>
<p>
Intents are messages</p>
<ul>
<p>
messages can be point-to-point</p>
<ul>
<p>
launching a particular Activity</p>
</ul>
<p>
messages can be broadcast (pub/sub)</p>
<ul>
<p>
power events, WiFi status updates, etc</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Broadcasting Intents</h1>
<p>
Recall Intent structure:</p>
<ul>
<p>
Action: generic "verb" to the message (view, pick, edit, ...)</p>
<p>
Data: URI referencing the data or MIME type of the data</p>
<p>
Category: additional descriptors about the Intent</p>
<p>
Component name: optional; makes the Intent explicit</p>
</ul>
        </div>

        <div class="slide">
            <h1>Broadcasting Intents</h1>
<p>
Broadcasting an Intent</p>
<ul>
<p>
use sendBroadcast() to fire it system-wide</p>
<p>
NOTE: all apps can see this Intent</p>
<ul>
<p>
this does have security implications, so be careful</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>BroadcastReceivers</h1>
            <!-- <h2>Listening in to the Intent pipeline</h2> -->
        </div>
        
        <div class="slide">
            <h1>BroadcastReceivers</h1>
<p>
BroadcastReceivers: components specifically to catch Intents</p>
<ul>
<p>
these are not Activities; intended more for background operations</p>
<ul>
<p>
example: notifications from a Service to show a result</p>
</ul>
<p>
can be registered either statically or dynamically</p>
<ul>
<p>
statically: declared in application manifest, "always on"</p>
<p>
dynamically: registered at runtime, not on until registered</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>BroadcastReceivers</h1>
<p>
Creating a BroadcastReceiver</p>
<ul>
<p>
extend BroadcastReceiver (abstract)</p>
<p>
override onReceive: invoked when an Intent is received</p>
<p>
static: declare in manifest using  rag</p>
<p>
dynamic:</p>
<ul>
<p>
Context.registerReceiver() to turn on</p>
<p>
Context.unregisterReceiver() to turn off</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>AlarmManager</h1>
            <!-- <h2>Android's alarm clock services</h2> -->
        </div>
        
        <div class="slide">
            <h1>AlarmManager</h1>
<p>
Periodic and scheduled actions</p>
<ul>
<p>
it's not uncommon to want action in response to time</p>
<ul>
<p>
a particular date/time has been reached (Feb 7th, 2071)</p>
<p>
a recurring date and/or time has been reached (every Monday)</p>
<p>
an expanse of time has been reached (30 minutes from now)</p>
<p>
a recurring time period (every 30 minutes)</p>
</ul>
<p>
Android provides a system service to do all this</p>
<ul>
<p>
android.app.AlarmManager</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>AlarmManager</h1>
<p>
AlarmManager</p>
<ul>
<p>
allows registration of Intents to be fired in the future</p>
<p>
these will be fired regardless of your application state (running or not)</p>
<p>
alarms could potentially wake the device out of sleep mode!</p>
</ul>
        </div>

        <div class="slide">
            <h1>AlarmManager</h1>
<p>
Usage</p>
<ul>
<p>
obtain the singleton AlarmManager instance from system services</p>
<p>
create a PendingIntent that contains the Intent to fire</p>
<p>
call one of the API calls to describe exactly what kind of alarm and when</p>
</ul>
        </div>

        <div class="slide">
            <h1>AlarmManager</h1>
<p>
Usage</p>
<ul>
<p>
set: trigger the alarm to fire at an exact time</p>
<ul>
<p>
parameter is in milliseconds since boot, wakeup, or wall clock time in UTC, depending on type (first parameter)</p>
</ul>
<p>
setAlarmClock: trigger the alarm using AlarmManager.AlarmClockInfo</p>
<ul>
<p>
at (milliseconds since the epoch)</p>
</ul>
<p>
setExact: fire at precisely the stated time</p>
<p>
setInexactRepeating: fire every n milliseconds, starting n milliseconds from now</p>
<p>
setRepeating: fire every n milliseconds, starting n milliseconds from now</p>
<p>
setWindows: fire within a time window: earliest to earliest + length</p>
</ul>
        </div>

        <div class="slide">
            <h1>AlarmManager</h1>
<p>
NOTE: duplicated PendingIntents means replace the previous alarm</p>
<ul>
<p>
can also use cancel to remove an alarm</p>
<ul>
<p>
make sure to cancel! AlarmManager is a singleton, system-wide, and alarms set are not scoped to your application; if your application quits, the alarm is still set and fires (and the Intent is probably just ignored)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>AlarmManager</h1>
<p>
Changes</p>
<ul>
<p>
starting with API 19, alarms are now inexact</p>
<ul>
<p>
OS will schedules alarms to minimize battery use and wakeups</p>
<p>
to support exact wakeups, use setWindow or setExact</p>
</ul>
<p>
applications targeting earlier than API 19 get old-style exact behavior</p>
</ul>
        </div>

        <div class="slide">
            <h1>AlarmManager</h1>
<p>
For more details</p>
<ul>
<p>
See the API reference for AlarmManager</p>
<ul>
<p>
http://developer.android.com/reference/android/app/AlarmManager.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Services</h1>
            <!-- <h2>Performing non-UI work</h2> -->
        </div>
        
        <div class="slide">
            <h1>Services</h1>
<p>
Services</p>
<ul>
<p>
perform long-running operations in the background</p>
<p>
has no UI (think Activity without a View)</p>
<p>
continues to run regardless of which app user is using</p>
<p>
must be declared in the application manifest</p>
</ul>
        </div>

        <div class="slide">
            <h1>Services</h1>
<p>
Two states: started and bound</p>
<ul>
<p>
started: service has fired up and is running</p>
<ul>
<p>
operates independently</p>
<p>
usually performs a single service and quits</p>
<p>
example: download a file</p>
</ul>
<p>
bound: service is in a client/server connection with a component</p>
<ul>
<p>
performs operations on demand, returning results</p>
<p>
runs only so long as a component is bound to it</p>
<p>
can be bound to multiple components at once</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Services</h1>
<p>
Creating a Service</p>
<ul>
<p>
subclass android.app.Service, which is abstract</p>
<p>
override onStartCommand: called when a component requests the service</p>
<p>
override onBind: called when a component wants to bind the service</p>
<p>
override onCreate: called when Service is first created</p>
<p>
override onDestroy: called when Service is shutting down</p>
</ul>
        </div>

        <div class="slide">
            <h1>Services</h1>
<p>
User interactions</p>
<ul>
<p>
sometimes a service will need to tell a user about something</p>
<p>
Toast works here, as do Notifications</p>
<ul>
<p>
Service extends Context</p>
</ul>
<p>
if this gets more complex, defer to an Activity</p>
</ul>
        </div>

        <div class="slide">
            <h1>Services</h1>
<p>
A note about blocking operations</p>
<ul>
<p>
Services run in the process of the app that declares them</p>
<p>
Services run on the main thread of the app that declares them</p>
<p>
Therefore, Services should spin up a thread for blocking ops</p>
</ul>
        </div>

        <div class="slide">
            <h1>Services</h1>
<p>
An easier alternative: IntentService</p>
<ul>
<p>
Service which is designed to react to broadcast Intents</p>
<p>
executes all requests on a worker thread</p>
<p>
creates a work queue for sent Intents to prevent simultaneous execution</p>
<p>
in essence, all you need to do is write onHandleIntent</p>
</ul>
        </div>

        <div class="slide">
            <h1>Services</h1>
<p>
For more details</p>
<ul>
<p>
See the Services section in the Guide--- http://developer.android.com/guide/components/services.html</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Jetpack WorkManager</h1>
            <!-- <h2>Easier concurrent programming</h2> -->
        </div>
        
        <div class="slide">
            <h1>Jetpack WorkManager</h1>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Java Threading</h1>
            <!-- <h2>Walking and chewing gum at the same time</h2> -->
        </div>
        
        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
<code>java.lang.Thread</code>: Java thread object</p>
<ul>
<p>
may or may not be backed by "real" thread</p>
<ul>
<p>
this is entirely up to the Java VM implementation; most are 1:1 ("native"), some are m:n, few are n:1 ("green")</p>
</ul>
<p>
fairly simple API model</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Creating new thread</p>
<ul>
<p>
either subclass Thread & override run()...</p>
<p>
... or construct Thread & pass in a Runnable</p>
<p>
of the two, the latter is far preferred</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Starting the thread</p>
<ul>
<p>
either way, call start() to begin the thread's processing</p>
<p>
no guarantees regarding scheduling</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
            <pre style="background-color:black">

Thread t = new Thread(new Runnable() {
  public void run() {
    System.out.println("Howdy, new Thread!");
  }
};
Thread t2 = new Thread( () => System.out.println("Or lambda!") );
t.start();
t2.start();

</pre>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Foreground vs. background</p>
<ul>
<p>
JVM will not die until all foreground threads terminate</p>
<p>
to set Thread to background status, setDaemon(true)</p>
<p>
must be done before call to start()</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Thread priority determines scheduling</p>
<ul>
<p>
higher-priority thread gets first crack at CPU</p>
<p>
Thread priorities range from 1 (MIN) to 10 (MAX)</p>
<ul>
<p>
default priority is 5 (NORM)</p>
</ul>
<p>
Threads inherit priority of parent Thread</p>
<p>
manipulatable after start</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Thread lifecycle</p>
<ul>
<p>
Thread is either runnable or not-runnable</p>
<ul>
<p>
in other words, is Thread being scheduled?</p>
<p>
runnable does not imply running</p>
</ul>
<p>
Thread could be blocked or waiting</p>
<ul>
<p>
not-runnable does not imply "dead"</p>
</ul>
<p>
Thread could be waiting to be started... or paused...</p>
<ul>
<p>
but once dead, Thread remains dead</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
From the outside of the Thread</p>
<ul>
<p>
... wait for it to finish using join()</p>
<p>
... get stack trace (StackTraceElement)</p>
<p>
... get name, state, priority, etc.</p>
<p>
... suspend, resume, stop, destroy (deprecated!)</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Threads complete in one of several ways</p>
<ul>
<p>
simple completion</p>
<ul>
<p>
run() completes</p>
</ul>
<p>
voluntary suicide watch</p>
<ul>
<p>
track a variable for signal to complete</p>
<p>
(but beware the thread cache!)</p>
</ul>
<p>
interruption</p>
<ul>
<p>
via Thread.interrupt() & InterruptedException</p>
</ul>
<p>
forced termination</p>
<ul>
<p>
via Thread.stop(), which is dangerous</p>
<p>
stop() can take a Throwable to throw on Thread</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.Thread</h1>
<p>
Exceptions & Threads</p>
<ul>
<p>
what happens if an exception is thrown inside Thread?</p>
<p>
spawning Thread gets no signal</p>
<p>
in JDK 5, can set unhandled exception handler</p>
<ul>
<p>
implement Thread.UncaughtExceptionHandler</p>
<p>
pass in to setUncaughtExceptionHandler</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>java.lang.ThreadGroup</h1>
<p>
ThreadGroup was intended as administrative construct to manage groups of Threads</p>
<ul>
<p>
turned out to be pretty un-useful</p>
<p>
turned out also to have some implementation "issues"</p>
<p>
largely deprecated and not used</p>
<ul>
<p>
except for human logging/administrative purposes</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>java.util.concurrent.Callable</h1>
<p>
Callable provides result & exception API</p>
<ul>
<p>
Runnable cannot take parameters, returns void, cannot throw an exception</p>
<p>
traditional workaround was to create a class that held fields as parameters, a field as the result, and caught checked exceptions & re-threw them unchecked</p>
<p>
Callable should be refactored into place instead of Runnable in most situations</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.util.concurrent.Future</h1>
<p>
Future tracks pending results</p>
<ul>
<p>
allows developer to check results later, without worrying about complicated synchronization</p>
<p>
get() returns value (blocking if incomplete)</p>
<p>
cancel() attempts to cancel operation</p>
<p>
isDone() returns true if complete (non-blocking)</p>
</ul>
<p>
Two subtypes of interest</p>
<ul>
<p>
FutureTask provides base implementation</p>
<p>
Delayed indicates delay before execution</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.util.concurrent.Executor</h1>
<p>
Executor</p>
<ul>
<p>
created to decouple the launching of tasks from the management of Thread objects directly</p>
<p>
execute() takes Runnable, executes it</p>
<p>
actual behavior depends on Executor implementation</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.util.concurrent.ExecutorService</h1>
<p>
ExecutorService</p>
<ul>
<p>
generally a superior tool to use</p>
<ul>
<p>
assumes that the threads want to be tracked and massaged</p>
</ul>
<p>
submit() returns Future representing future results</p>
<p>
shutdown() stops accepting new tasks</p>
<p>
awaitTermination() blocks until all tasks complete</p>
<p>
shutdownNow() terminates running tasks</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android Threading</h1>
            <!-- <h2>Rules for Threads on Android</h2> -->
        </div>
        
        <div class="slide">
            <h1>Android Threading</h1>
<p>
Android relies somewhat strongly on good Java thread hygiene</p>
<ul>
<p>
particularly with respect to the underpowered nature of the device</p>
<ul>
<p>
we don't have dozens of cores to work with</p>
</ul>
<p>
Android uses a single thread to do UI work</p>
<ul>
<p>
this is called the UI thread</p>
</ul>
<p>
most UI-related work occurs on the UI thread</p>
<ul>
<p>
creating components</p>
<p>
event callbacks</p>
<p>
event-handling method invocation</p>
<p>
in other words most Android code execution</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Threading</h1>
<p>
Android has two main rules</p>
<ul>
<p>
do not block the UI thread</p>
<p>
do not acces the Android framework from outside the UI thread</p>
</ul>
        </div>

        <div class="slide">
            <h1>Android Threading</h1>
<p>
Accessing the Android runtime safely from off-UI thread</p>
<ul>
<p>
Put a Runnable onto the UI thread</p>
<ul>
<p>
Activity.runOnUiThread</p>
<p>
View.post</p>
<p>
View.postDelayed</p>
</ul>
<p>
This is asynchronous--we don't know when the Runnable starts or finishes</p>
<ul>
<p>
essentially a "fire-and-forget" idiom</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Threading</h1>
<p>
Safely doing work off-UI thread: AsyncTask</p>
<ul>
<p>
3-argument generic:</p>
<ul>
<p>
type of parameters</p>
<p>
progress values</p>
<p>
final value of the task</p>
</ul>
<p>
onPreExecute, onPostExecute and onProgressUpdate all run on UI thread</p>
<p>
doInBackground executes on worker thread</p>
<p>
call publishProgress in doInBackground to execute onProgressUpdate</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Synchronization</h1>
            <!-- <h2>What happens when Threads run on top of each other?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Synchronization</h1>
<p>
A rationale for the need for synchronization:</p>
<ul>
<p>
Why did the multithreaded chicken cross the road?</p>
<ul>
<p>
To side get to other the !</p>
</ul>
<p>
Ask me again!</p>
<ul>
<p>
get side ! To to other the</p>
</ul>
<p>
Ask me again!</p>
<ul>
<p>
eo gTts or ttthde  ohei e!</p>
</ul>
<p>
And again! And again! And again!</p>
<ul>
<p>
this joke never ends</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Synchronization</h1>
<p>
Multiple paths of execution create multiple interleaving permutations of execution</p>
<ul>
<p>
this means we must protect variables being accessed</p>
<ul>
<p>
even for simple statements like x = x + 1</p>
</ul>
<p>
32-bit CPUs guarantees 32-bit read/write atomicity</p>
<ul>
<p>
meaning 64-bit values (longs, doubles) cannot be read or written atomically!</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Synchronization</h1>
<p>
Three paths to thread-safe code:</p>
<ul>
<p>
avoid concurrency entirely: immutable objects</p>
<p>
avoid concurrency entirely: thread-scoped data</p>
<p>
write thread-safe code by locking critical sections</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Synchronization</h1>
            <!-- <h2>Preventing Thread collisions</h2> -->
        </div>
        
        <div class="slide">
            <h1>Synchronization</h1>
<p>
A sample concurrency problem:</p>
<ul>
<p>
write a thread that "pings" every five seconds, until asked to quit by the user</p>
</ul>
        </div>

        <div class="slide">
            <h1>Memory Models</h1>
<p>
The JVM memory model</p>
<ul>
<p>
lists requirements regarding memory optimization</p>
<p>
allows threads to have per-thread value caches</p>
<ul>
<p>
avoids having to check main heap memory</p>
<p>
also means multiple copies...</p>
</ul>
<p>
<code>volatile</code> tells JVM to not cache field/local</p>
<ul>
<p>
this suffices for simple synchronization...</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>java.util.concurrent.atomic</h1>
<p>
Java5 introduced some "atomic variables" that allow for atomic update w/o worry</p>
<ul>
<p>
AtomicBoolean</p>
<p>
AtomicInteger & AtomicIntegerArray</p>
<p>
AtomicLong</p>
<p>
AtomicReference</p>
<ul>
<p>
all support the typical collection of operations desired against atomic values: increment, decrement, update-and-return-new-value, update-and-return-old-value, and so on</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Synchronization</h1>
<p>
A sample concurrency problem</p>
<ul>
<p>
multiple threads access a shared data structure</p>
<p>
problem: individual put()s and get()s may be in the middle of bookkeeping when thread-switch occurs</p>
<ul>
<p>
nodes could get lost</p>
<p>
nodes could get double-inserted</p>
<p>
existing list could get horribly corrupted</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Mutual exclusion</h1>
<p>
Monitors are the basis for JVM thread synch</p>
<ul>
<p>
every object in VM has an associated monitor</p>
<p>
synchronized block tells executing thread to attempt acquisition of indicated object's monitor</p>
<ul>
<p>
thread blocks while waiting</p>
</ul>
<p>
thus, marking methods as synchronized forces thread to attempt to acquire monitor before executing body of synchronized block</p>
<ul>
<p>
synchronized also forces synchronization of main heap and cached thread values</p>
<p>
this is called a "memory barrier"</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Mutual exclusion</h1>
<p>
Monitor ownership</p>
<ul>
<p>
marking method as synchronized is equivalent to marking entire body of method as synchronized(this)</p>
<ul>
<p>
this means that anyone can attempt to acquire that object's monitor at any time; in other words, concurrency behavior is not encapsulated</p>
</ul>
<p>
alternative solution is to create private "lock" Object, and synchronize on that, instead</p>
<p>
be careful: simple synchronization of methods does not eliminate all concurrency bugs</p>
</ul>
        </div>

        <div class="slide">
            <h1>java.util.concurrent.lock</h1>
<p>
Locks allow developers to constrain execution</p>
<ul>
<p>
Lock interface provides basic lock/unlock pair</p>
<ul>
<p>
make sure to do this in try/finally block!** ReentrantLock: Lock that re-implements synchronized block behavior</p>
<p>
allows only one thread through, but same thread can re-lock() without deadlocking itself</p>
</ul>
<p>
ReadWriteLock allows segregation of reads & writes</p>
<p>
ReentrantReadWriteLock combines ReentrantLock with read/write semantics</p>
</ul>
        </div>

        <div class="slide">
            <h1>Synchronization</h1>
<p>
A sample concurrency problem</p>
<ul>
<p>
producer thread creates data for processing</p>
<p>
consumer thread processes created data</p>
<p>
only one data item can be ready at a time</p>
<p>
problem: how does producer not overwrite data?</p>
<p>
problem: how does consumer not process twice?</p>
<p>
problem: how do we have multiple producers and/or consumers?</p>
</ul>
        </div>

        <div class="slide">
            <h1>Signalling</h1>
<p>
Threads sometimes need to signal each other</p>
<ul>
<p>
Object.wait() requires Thread to own monitor; it releases monitor, sleeps until notified, then attempts to re-acquire it, and continue</p>
<p>
Object.notify() signals one waiting Thread</p>
<p>
Object.notifyAll() signals all waiting Threads</p>
<p>
this forms the basis for signalling, but is low-level & awkward</p>
</ul>
        </div>

        <div class="slide">
            <h1>Conditional locking</h1>
<p>
Conditional locking is very common</p>
<ul>
<p>
Condition interface captures this; obtained from Lock</p>
<ul>
<p>
Conditions are thus intrinsically bound against a Lock</p>
</ul>
<p>
obtain new Condition from Lock via newCondition()</p>
<p>
call await() where formerly wait() call appeared</p>
<p>
call signal() where formerly notifyAll() call appeared</p>
<p>
Condition can provide additional semantics not present in wait/notify methods</p>
<ul>
<p>
guaranteed order, unlocked execution, and so on</p>
<p>
Condition implementation must doc these semantics</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Collections</h1>
<p>
Java5 introduced some Collections classes w/additional concurrency-safe methods</p>
<ul>
<p>
Lists and Sets</p>
<ul>
<p>
CopyOnWriteArrayList/CopyOnWriteArraySet</p>
</ul>
<p>
Maps and Sets</p>
<ul>
<p>
ConcurrentSkipListMap/ConcurrentSkipListSet</p>
</ul>
<p>
BlockingQueue, BlockingDeque</p>
<ul>
<p>
ArrayBlockingQueue(!), LinkedBlockingQueue, DelayQueue, PriorityBlockingQueue, SynchronousQueue</p>
</ul>
<p>
ConcurrentMap<K,V>, ConcurrentNavigableMap<K,V></p>
<ul>
<p>
ConcurrentHashMapUse these as often as possible!</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 14 February</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>Are We There Yet? (Part 1)</h2>
<ul>
<p>
Remember when you were a kid on a long car ride, and you kept asking your parents "Are we there yet?" and annoying the heck out of them? We want an application that does exactly that.</p>
<p>
In this part, we will just pop Toast asking the question; in a future part, we will wire it up against SMS so that you can annoy the heck out of somebody else over text messages.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I start the application, it should present me with an activity containing an EditText for the message I want to send, an EditText for the phone number to which to send it (which we will not do anything with for this part), an EditText for how many minutes between each nag (no zeros, no negatives, must be an integer), and a Button labeled "Start".</p>
<p>
As a user, when I am using the application's UI, "Start" should do nothing until all controls are filled out with legitimate values.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I am using the application's UI, when "Start" is pressed, the Button's text should switch to "Stop", and pushing "Stop" should cause the service to stop sending messages.</p>
<p>
As a user, when I "Start" the service, it should begin to "send messages" every N minutes, as given by the user in the EditText UI. For now, these should be Toast messages using the format: "(425) 555-1212: Are we there yet?".</p>
<p>
As a user, when I switch away from this application to another one, the messages should continue to send every N minutes, and should continue to send until I navigate back to this application and push "Stop".</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
repo should be called 'awty'</p>
<p>
repo should contain all necessary build artifacts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
We will clone and build it from the GH repo</p>
<p>
5 points, one for each story</p>
</ul>
<p>
Extra credit</p>
<ul>
<p>
1 pt: pushing "Start" pops dialog/Toast describing why the application cannot start (if it cannot start due to illegitimate values)</p>
<p>
1 pt: create a custom Toast display for each "send" that has "Texting {phone#}" as a caption and the message itself as the body</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>14 February</h1>
            <!-- <h2>Connectivity: HTTP</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
<ul>
<p>
HTTP</p>
<ul>
<p>
the ubiquitous protocol of the Internet</p>
</ul>
<p>
detecting network status</p>
<ul>
<p>
let's not waste the data plan, shall we?</p>
</ul>
<p>
DownloadManager</p>
<ul>
<p>
letting Android do the heavy (download) lifting</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>HTTP</h1>
            <!-- <h2>Who, what, why...?</h2> -->
        </div>
        
        <div class="slide">
            <h1>HTTP</h1>
<p>
HyperText Transfer Protocol</p>
<ul>
<p>
Part of the World Wide Web experiments</p>
<p>
Designed to be:</p>
<ul>
<p>
simple</p>
<p>
content-agnostic</p>
<p>
platform-agnostic</p>
<p>
referral (to another server) capability</p>
<p>
minimal to zero administrative overhead</p>
<p>
format negotiation</p>
<p>
operate over standard infrastructure (TCP/IP)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP</h1>
<p>
HTTP has seen few revisions</p>
<ul>
<p>
HTTP 0.9: Original proposal (1991) by TBL</p>
<p>
HTTP 1.0: 1991 - 1995 saw rapid growth/adoption</p>
<p>
HTTP 1.1: Internet standard status (95 - 99)</p>
<p>
numerous proposals to enhance 1.1 since</p>
<ul>
<p>
nothing officially adopted (or even taking root)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP</h1>
<p>
HTTP is now the de facto standard protocol of the Internet</p>
<ul>
<p>
for better or for worse</p>
<p>
to the point of supplanting other more specific protocols</p>
<ul>
<p>
FTP replaced by file transfer over HTTP</p>
<p>
email protocols replaced by web clients and transfer</p>
<p>
bidirectional sockets replaced by WebSockets (!)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP</h1>
<p>
HTTP is the protocol part of a REST system</p>
<ul>
<p>
designed by Roy Fielding as his Doctoral dissertation</p>
<p>
explicit architectural goals</p>
<p>
attempts to shoehorn additional features into HTTP meet with mixed success</p>
<ul>
<p>
and with Fielding's frustration and disdain</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP</h1>
<p>
For more on HTTP concepts</p>
<ul>
<p>
see Fielding's dissertation</p>
<ul>
<p>
http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</p>
</ul>
<p>
see Architecture of the World Wide Web</p>
<ul>
<p>
http://www.w3.org/TR/webarch/</p>
</ul>
<p>
both are highly recommended reads</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>HTTP/1.1 Protocol Details</h1>
            <!-- <h2>Jumping into the Web pool</h2> -->
        </div>
        
        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
HTTP/1.1: RFC 2616</p>
<ul>
<p>
"application-level protocol for distributed, collaborative, hypermedia information systems"</p>
<p>
generic, stateless protocol</p>
<p>
allows for very easy extension</p>
<p>
typing and negotiation of data representation</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Dependencies</p>
<ul>
<p>
TCP/IP, DNS</p>
<ul>
<p>
underlying communication infrastructure</p>
</ul>
<p>
URL and URI (RFCs 1738, 1630, 1808, 2396)</p>
<ul>
<p>
target server, port and resource to request</p>
</ul>
<p>
MIME (RFCs 2045, 2046, 2047)</p>
<ul>
<p>
description of content formats</p>
</ul>
<p>
TLS (SSL)</p>
<ul>
<p>
secure transmission</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Basic details</p>
<ul>
<p>
server listens on well-known port (80)</p>
<p>
client initiates communication</p>
<p>
client sends request packet, server sends response packet</p>
<p>
connection is closed after each send/receive cycle</p>
<ul>
<p>
no state retained across cycles</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Quick note: stateless</p>
<ul>
<p>
HTTP explicitly holds no server fidelity</p>
<ul>
<p>
any server can answer any request</p>
</ul>
<p>
this is what allows HTTP to scale so well</p>
<ul>
<p>
the ubiquitous "web farm"</p>
</ul>
<p>
browser cookies are NOT(!) part of the HTTP spec</p>
<ul>
<p>
in fact, HTTP authors disdain the use of cookies</p>
</ul>
<p>
making HTTP stateful in some way usually fails miserably</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Basic protocol notes</p>
<ul>
<p>
all text is in "7-bit ASCII clean" format</p>
<ul>
<p>
in other words, nothing above ASCII value 127</p>
</ul>
<p>
all text uses CRLF pairs to denote EOL</p>
<p>
client/server request/resonse protocol</p>
<ul>
<p>
client always initiates</p>
<p>
client blocks until server responds</p>
</ul>
<p>
packets are always single-line plus header/value pairs</p>
<ul>
<p>
and optional content body</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
            <p>Request packet</p>            <pre style="background-color:black">
GET / HTTP/1.1
Host: www.newardassociates.com
Accept: */*
</pre>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
            <p>Response packet</p>            <pre style="background-color:black">
200 OK HTTP/1.1
Content-Type: text/html
Content-Length: 32

<html><body>Howdy!</body></html>
</pre>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Request packet</p>
<ul>
<p>
Request-Line: Method Request-URI HTTP-Version CRLF</p>
<ul>
<p>
Method: the "verb"</p>
<p>
Request-URI: the resource</p>
<p>
HTTP-Version: "HTTP/1.1" or "HTTP/1.0"-- other versions possible, never used</p>
</ul>
<p>
(Optional) Header: Value CRLF</p>
<p>
CRLF</p>
<p>
(Optional) Content body</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Request methods</p>
<ul>
<p>
GET: retrieve resource idempotently</p>
<ul>
<p>
should have no side effects (cacheable results)</p>
</ul>
<p>
POST: accept this sent relevant data</p>
<p>
PUT: store this data as the resource</p>
<p>
DELETE: remove the resources</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Request methods</p>
<ul>
<p>
OPTIONS: describe verbs supported for the resource</p>
<p>
HEAD: GET without content body</p>
<p>
TRACE: diagnostic trace</p>
<p>
CONNECT: for use with a tunneling proxy</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Request-URI</p>
<ul>
<p>
URL minus TCP/IP-related parts</p>
<ul>
<p>
no scheme (http://)</p>
<p>
no server (www.google.com)</p>
<p>
no port (:80)</p>
</ul>
<p>
used to identify resource requested</p>
<p>
absolute resource path</p>
<ul>
<p>
not always a filesystem resource</p>
<p>
... though early and simple webservers do map URL paths to filesystem paths</p>
<p>
doing so is dangerous: beware relative paths ("../../../etc/passwd")</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
HTTP-Version</p>
<ul>
<p>
this is the version the client wishes to use</p>
<p>
server will respond with its version in response</p>
<p>
client can either upgrade or downgrade as necessary</p>
<p>
in practice, this is almost always "HTTP/1.1"</p>
<ul>
<p>
ten years ago, negotation between 1.0 and 1.1 was common</p>
<p>
if we ever see an HTTP/2.0, negotiation will become important</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Header: Value lines</p>
<ul>
<p>
more on headers later</p>
<p>
each header line must be ended with CRLF</p>
<p>
each header describes one annotation/extension/adaptation to the request</p>
<p>
request and response use same sets of headers</p>
<ul>
<p>
a few are client- or server-specific, but not many</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
CRLF (empty line)</p>
<ul>
<p>
empty line is mandatory</p>
<p>
server will block until it receives this second CRLF!</p>
<p>
separates Request-Line/Headers from Content body</p>
<p>
must be present, even with no headers or content body</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Content body</p>
<ul>
<p>
entirely opaque to HTTP protocol</p>
<p>
we use headers to describe the content body</p>
<ul>
<p>
Content-Type, Content-Length most common</p>
</ul>
<p>
recipient then to read exactly that many bytes (no more, no less)</p>
<ul>
<p>
failure to do this is a security hole!</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Response packet</p>
<ul>
<p>
Response-Line: Status-Code Reason-Phrase HTTP-Version CRLF</p>
<p>
(Optional) Header: Value CRLF</p>
<p>
CRLF</p>
<p>
(Optional) Content body</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Status-Code</p>
<ul>
<p>
quick integer description of server's results</p>
<p>
1xx: Informational</p>
<p>
2xx: Sucess</p>
<p>
3xx: Redirect</p>
<p>
4xx: Client error</p>
<p>
5xx: Server error</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Reason-Phrase</p>
<ul>
<p>
textual description of status-code</p>
<ul>
<p>
usually purely for human consumption</p>
</ul>
<p>
these are not standardized except de facto in a few cases</p>
<p>
200: OK</p>
<p>
404: Resource not found</p>
<p>
401: Requires authorization</p>
<p>
500: Internal server error</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
HTTP-Version</p>
<ul>
<p>
this is the version the client wishes to use</p>
<p>
server will respond with its version in response</p>
<p>
client can either upgrade or downgrade as necessary</p>
<p>
in practice, this is almost always "HTTP/1.1"</p>
<ul>
<p>
ten years ago, negotation between 1.0 and 1.1 was common</p>
<p>
if we ever see an HTTP/2.0, negotiation will become important</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Header: Value lines</p>
<ul>
<p>
more on headers later</p>
<p>
each header line must be ended with CRLF</p>
<p>
each header describes one annotation/extension/adaptation to the request</p>
<p>
request and response use same sets of headers</p>
<ul>
<p>
a few are client- or server-specific, but not many</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
CRLF (empty line)</p>
<ul>
<p>
empty line is mandatory</p>
<p>
server will block until it receives this second CRLF!</p>
<p>
separates Request-Line/Headers from Content body</p>
<p>
must be present, even with no headers or content body</p>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Content body</p>
<ul>
<p>
entirely opaque to HTTP protocol</p>
<p>
we use headers to describe the content body</p>
<ul>
<p>
Content-Type, Content-Length most common</p>
</ul>
<p>
recipient then to read exactly that many bytes (no more, no less)</p>
<ul>
<p>
failure to do this is a security hole!</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Common headers</p>
<ul>
<p>
Host: the host (and optional port) requested</p>
<ul>
<p>
required by 1.1 for multitenant server scenarios</p>
</ul>
<p>
User-Agent: description field describing the client</p>
<ul>
<p>
not required, but almost always included</p>
<p>
this is how we determine client capabilities</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Common headers</p>
<ul>
<p>
Content-Type: MIME type of content being sent</p>
<p>
Content-Length: size (in octets/bytes) of content</p>
<ul>
<p>
these two are required if content body is present</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Common headers</p>
<ul>
<p>
Accept: specify certain media types to be acceptable</p>
<ul>
<p>
comma-delimited list of MIME types</p>
</ul>
<p>
Accept-Encoding: describes content encodings</p>
<ul>
<p>
used to allow for request/response gzip compression</p>
</ul>
<p>
Authorization: client sends to authenticate to server</p>
<ul>
<p>
"Authorization: {credentials}"</p>
<p>
credentials: scheme credential-data</p>
<p>
where scheme is Basic, Digest, or others</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
Common headers</p>
<ul>
<p>
Connection: state of the connection</p>
<ul>
<p>
server most often sends "close" in 1.1 exchanges</p>
</ul>
<p>
WWW-Authenticate: required in all 401 responses</p>
<ul>
<p>
contains a challenge that indicates the authentication scheme</p>
<p>
"WWW-Authenticate: {challenge}"</p>
<p>
challenge is typically either Basic or Digest</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>HTTP Protocol</h1>
<p>
For more information</p>
<ul>
<p>
Consult RFC 2616 for any remaining details</p>
<ul>
<p>
official: https://www.ietf.org/rfc/rfc2616.txt</p>
</ul>
<p>
Consult RFC 2324 for details on how to extend HTTP</p>
<ul>
<p>
Hyper Text Coffee Pot Control Protocol</p>
<p>
official: https://www.ietf.org/rfc/rfc2324.txtAdditional, useful information</p>
</ul>
<p>
Fielding's dissertation</p>
<ul>
<p>
http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</p>
</ul>
<p>
Architecture of the World Wide Web</p>
<ul>
<p>
http://www.w3.org/TR/webarch/</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>AndroidHttpClient</h1>
            <!-- <h2>Android's simplification of Apache HttpClient</h2> -->
        </div>
        
        <div class="slide">
            <h1>AndroidHttpClient</h1>
<p>
AndroidHttpClient</p>
<ul>
<p>
Android 1.0 took a beta version of Apache HttpClient for its library</p>
<p>
hasn't kept it up to date</p>
<p>
as a result, it does most of what we need, with caveats</p>
<p>
Apache HttpClient maintains an Android port of their 4.3 if desired</p>
</ul>
        </div>

        <div class="slide">
            <h1>AndroidHttpClient</h1>
<p>
HttpClient is the base interface</p>
<ul>
<p>
describes basic HTTP behavior</p>
</ul>
<p>
DefaultHttpClient is the common HttpClient implementation</p>
<ul>
<p>
starts with basically no configuration</p>
</ul>
<p>
AndroidHttpClient is an HttpClient with Android-common settings</p>
<ul>
<p>
preferred starting point for Android use</p>
</ul>
        </div>

        <div class="slide">
            <h1>AndroidHttpClient</h1>
<p>
AndroidHttpClient</p>
<ul>
<p>
obtain one via newInstance()</p>
<ul>
<p>
String: User-Agent header to send</p>
<p>
Context: Android Context (for when using HTTPS)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>AndroidHttpClient</h1>
<p>
Request objects</p>
<ul>
<p>
next, create an HttpRequest object</p>
<ul>
<p>
HttpGet, HttpPost, HttpPut, HttpDelete, ...</p>
</ul>
<p>
add headers if needed/desired</p>
<p>
add parameters through HttpParams object from getParams()</p>
</ul>
        </div>

        <div class="slide">
            <h1>AndroidHttpClient</h1>
<p>
Response objects</p>
<ul>
<p>
obtain an HttpResponse by calling execute with the request object</p>
<p>
check the status line (status code, reason phrase) from getStatusLine()</p>
<p>
harvest the content body from getEntity()</p>
<p>
or pass in a ResponseHandler to produce a T out of the HttpResponse</p>
<ul>
<p>
more convenient for frequent usage</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>DownloadManager</h1>
            <!-- <h2>Letting Android manage downloads in the background</h2> -->
        </div>
        
        <div class="slide">
            <h1>DownloadManager</h1>
<p>
DownloadManager</p>
<ul>
<p>
system service for long-running HTTP downloads</p>
<p>
handles most download conditions</p>
<ul>
<p>
dropped network state</p>
<p>
retries and timeouts</p>
<p>
system reboots</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>DownloadManager</h1>
<p>
Using DownloadManager</p>
<ul>
<p>
obtain from getSystemService()</p>
<ul>
<p>
requires INTERNET permission</p>
</ul>
<p>
enqueue a request</p>
<ul>
<p>
DownloadManager.Request contains numerous data elements to set</p>
<p>
returns a unique download identifier</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>DownloadManager</h1>
<p>
Using DownloadManager</p>
<ul>
<p>
then receive broadcast Intent notifications about status</p>
<ul>
<p>
Intent action ACTION_NOTIFICATION_CLICKED</p>
</ul>
<p>
open the file using the download identifier</p>
<p>
or obtain a local Uri for the download identifier</p>
<p>
use query to find out status about any/all DM jobs</p>
</ul>
        </div>

        <div class="slide">
            <h1>DownloadManager</h1>
<p>
DownloadManager provides user-visible download statuses</p>
<ul>
<p>
intended for files that the user knows is being downloaded</p>
<ul>
<p>
canonical use: application updates</p>
</ul>
<p>
if that UI/UX/visibility is undesireable, may need to not use DM</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 16 February</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>QuizDroid</h2>
<ul>
<p>
An application that will allow users to take multiple-choice quizzes</p>
<ul>
<p>
now we will download the topics and questions from a server</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Tasks:</h2>
<ul>
<p>
The application should create some background operation (Thread, AlarmManager or Service) that will (eventually) attempt to download a JSON file containing the questions from the server every "N" minutes/hours. For now, pop a Toast message displaying the URL that will eventually be hit. Make sure this URL is what's defined in the Preferences.</p>
<p>
The background operation should now attempt to download the JSON file specified in the Preferences URL. Save this data to a local file as <code>questions.json</code>. Make sure that this file always remains in a good state--if the download fails or is interrupted, the previous file should remain in place.</p>
<p>
If I am currently offline (in Airplane mode or in a no-bars area) the application should display a message telling me I have no access to the Internet. If I am in airplane mode, it should ask if I want to turn airplane mode off and take me to the Settings activity to do so. If I simply have no signal, it should just punt gracefully with a nice error message.</p>
<p>
If the download of the questions fails, the application should tell me and ask if I want to retry or quit the application and try again later.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Grading</h2>
<ul>
<p>
repo should be called 'quizdroid' on branch 'part5'</p>
<p>
repo should contain all necessary build artifacts</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
            <h2>Grading (5 pts)</h2>
<ul>
<p>
2 pts: file is downloaded</p>
<p>
2 pts: detect network signal/online access and display message if necessary</p>
<p>
1 pt: display retry dialog</p>
</ul>
            <h2>Extra Credit (2 pts)</h2>
<ul>
<p>
provide some kind of notification to the user that downloading the JSON file is being attempted (1 pt)</p>
<p>
... and when it is completed, display the success result (succeeded/failed) (1 pt)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>16 February</h1>
            <!-- <h2>Connectivity: SMS, Telephony, Bluetooth, oh my!</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android devices can connect over things other than HTTP, too!</h2>
<ul>
<p>
SMS and MMS (texting)</p>
<p>
Voice telephony</p>
<p>
Bluetooth communication</p>
<p>
peer-to-peer WiFi</p>
<p>
Android ConnectivityManager</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>SMS and MMS</h1>
            <!-- <h2>Reach out and say hello</h2> -->
        </div>
        
        <div class="slide">
            <h1>SMS</h1>
<p>
Short Message Service (SMS)** a.k.a. "text messaging"** exchange short messages of 160 or so characters** supported by pretty much every mobile phone in existence</p>
        </div>

        <div class="slide">
            <h1>MMS</h1>
<p>
Multimedia Messaging Service (MMS)** a.k.a. "text messaging", but with pictures!** exchange longer text, graphics, audio, video, ...** supported by all smart phones</p>
        </div>

        <div class="slide">
            <h1>SMS</h1>
<p>
Android messaging** two basic approaches to managing this*** send Intent to Android Messaging app*** send SMS/MMS "directly" w/o user interaction** either approach works well for certain scenarios</p>
        </div>

        <div class="slide">
            <h1>SMS</h1>
<p>
Android Messaging app Intent</p>
<ul>
<p>
use action ACTION_VIEW</p>
<p>
use target "sms://425-555-1212"</p>
<ul>
<p>
and/or setType "vnd.android-dir/mms-sms"</p>
</ul>
<p>
putExtra "sms_body", "your message here"</p>
</ul>
        </div>

        <div class="slide">
            <h1>MMS</h1>
<p>
Android Messaging app Intent</p>
<ul>
<p>
for MMS, setType to MIME type of MMS</p>
<p>
putExtra Intent.EXTRA_STREAM = reference to the file containing the multimedia in question</p>
</ul>
        </div>

        <div class="slide">
            <h1>SMS</h1>
<p>
Direct interaction: SmsManager</p>
<ul>
<p>
obtain instance from getDefault() static API call</p>
<p>
use one or more APIs to send SMS or MMS</p>
<ul>
<p>
sendTextMessage() to send text SMS</p>
<p>
sendMultipartTextMessage() to send multipart (longer) SMS</p>
<p>
sendMultimediaMessage() to send multimedia SMS</p>
</ul>
<p>
all take a PendingIntent to fire when delivery is complete</p>
</ul>
        </div>

        <div class="slide">
            <h1>SMS</h1>
<p>
Either approach</p>
<ul>
<p>
will require SEND_SMS permission</p>
</ul>
        </div>

        <div class="slide">
            <h1>SMS</h1>
<p>
Receiving SMS/MMS messages</p>
<ul>
<p>
offcially only supported on KITKAT or higher</p>
<p>
unofficially supported much, much earlier</p>
<p>
register a BroadcastReceiver</p>
<ul>
<p>
set up an intent-filter</p>
<p>
action "android.provider.Telephony.WAP_PUSH_RECEIVED"</p>
<p>
data "application/vnd.wap.mms-message"</p>
<p>
extract the data from the Intent received</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Telephony</h1>
            <!-- <h2>Call your mom</h2> -->
        </div>
        
        <div class="slide">
            <h1>Telephony</h1>
<p>
Android is a phone! We can make calls!</p>
<ul>
<p>
who'd a thunk?!?</p>
</ul>
<p>
Android can programmatically begin phone calls</p>
<ul>
<p>
but be careful with this</p>
<p>
users will be upset if you surprise them</p>
<p>
users will be upset if their device behaves unintuitively</p>
<p>
users will be upset if you do something w/o asking</p>
</ul>
        </div>

        <div class="slide">
            <h1>Telephony</h1>
<p>
Launching native Phone app using Intent</p>
<ul>
<p>
action Intent.ACTION_CALL</p>
<p>
data "tel:4255551212"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Telephony</h1>
<p>
TelephonyManager provides access to call state and behavior</p>
<ul>
<p>
system service (obtain from getSystemService())</p>
<p>
mostly all interrogatory methods to yield info</p>
<ul>
<p>
CellLocation returns current location of the device</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Telephony</h1>
<p>
Use PhoneStateListener to know phone state changes</p>
<ul>
<p>
pass into TelephonyManager.listen()</p>
<p>
use this to know when call ends to bring your activity back</p>
</ul>
        </div>

        <div class="slide">
            <h1>Telephony</h1>
<p>
Note that telephony will require permissions</p>
<ul>
<p>
CALL_PHONE</p>
<p>
READ_PHONE_STATE</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Bluetooth</h1>
            <!-- <h2>Pairing up</h2> -->
        </div>
        
        <div class="slide">
            <h1>Bluetooth</h1>
<p>
Bluetooth is a protocol for devices to wirelessly communicate** industry standard** supported by a wide variety of hardware** very "near" range (25' or less)** point-to-point and multipoint</p>
        </div>

        <div class="slide">
            <h1>Bluetooth</h1>
<p>
Android Bluetooth usually follows a pattern:</p>
<ul>
<p>
scan for Bluetooth devices</p>
<p>
query local Bluetooth for list of paired devices</p>
<p>
connect to other devices via service discovery</p>
<p>
transfer data</p>
</ul>
        </div>

        <div class="slide">
            <h1>Bluetooth</h1>
<p>
BluetoothAdapter</p>
<ul>
<p>
singleton obtained via <code>getDefaultAdapter()</code> static API</p>
<ul>
<p>
null result means no Bluetooth on the device</p>
</ul>
<p>
discover enabled status</p>
<ul>
<p>
if not, fire <code>ACTION_REQUEST_ENABLE</code> Intent to ask the user to turn it on</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Bluetooth</h1>
<p>
BluetoothAdapter</p>
<ul>
<p>
if enabled, find devices either through discovery or query</p>
<p>
discovery is searching the nearby area for broadcasting devices</p>
<ul>
<p>
app must register a BroadcastReceiver to receive notifications of found devices</p>
<p>
Intents will be <code>ACTION_FOUND</code>, with <code>EXTRA_DEVICE</code> holding a BluetoothDevice object and EXTRA_CLASS holding a BluetoothClass object</p>
</ul>
<p>
query is listing the devices paired with this device prior</p>
<ul>
<p>
paired devices are remembered and do not need to be discovered again</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Bluetooth</h1>
<p>
Connections</p>
<ul>
<p>
once connected, one side must open a server socket, the other a client socket</p>
<ul>
<p>
BluetoothServerSocket is a ServerSocket over Bluetooth</p>
<p>
similarly, BluetoothSocket is a Socket over Bluetooth</p>
<p>
usage is pretty identical to their TCP/IP-based cousins</p>
</ul>
<p>
both sides must agree on a UUID shared between them</p>
</ul>
        </div>

        <div class="slide">
            <h1>Bluetooth</h1>
<p>
For more details</p>
<ul>
<p>
see the Bluetooth page in the Developer Guides--- http://developer.android.com/guide/topics/connectivity/bluetooth.html</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Peer-to-peer WiFi</h1>
            <!-- <h2>Ad-hoc device connections</h2> -->
        </div>
        
        <div class="slide">
            <h1>P2P WiFi</h1>
<p>
Peer-to-peer WiFi</p>
<ul>
<p>
supported on API 14+ w/appropriate hardware</p>
<p>
discover and connect to other P2P WiFi Android devices</p>
<p>
short range, usually on-demand, usually for very specific purpose</p>
<ul>
<p>
games, file transfers, etc</p>
</ul>
<p>
only works on devices with supporting hardware!</p>
</ul>
        </div>

        <div class="slide">
            <h1>P2P WiFi</h1>
<p>
Three core parts fo the P2P WiFi API</p>
<ul>
<p>
WiFiP2pManager: driving behavior and demands</p>
<p>
Listeners that can receive updates about the environment</p>
<p>
Intents broadcast as envrionment changes</p>
</ul>
        </div>

        <div class="slide">
            <h1>P2P WiFi</h1>
<p>
WifiP2pManager</p>
<ul>
<p>
initialize() to register the app with the WiFi framework</p>
<p>
discoverPeers() to find other peers in the ad-hoc group</p>
<ul>
<p>
use an ActionListener to be notified of success/failure</p>
</ul>
<p>
connect() to peers using WifiP2pConfig data describing the target</p>
<ul>
<p>
again, ActionListener to be notified of success/failure</p>
</ul>
<p>
then, use Socket and ServerSocket to exchange data</p>
<ul>
<p>
basic java.net usage at this point</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>P2P WiFi</h1>
<p>
Five different listeners for notification purposes</p>
<ul>
<p>
ActionListener</p>
<p>
ChannelListener</p>
<p>
ConnectionInfoListener</p>
<p>
GroupInfoListener</p>
<p>
PeerListListener</p>
</ul>
        </div>

        <div class="slide">
            <h1>P2P WiFi</h1>
<p>
Four different Intents broadcast when P2P state chages</p>
<ul>
<p>
WIFI_P2P_CONNECTION_CHANGED_ACTION</p>
<p>
WIFI_P2P_PEERS_CHANGED_ACTION</p>
<p>
WIFI_P2P_STATE_CHANGED_ACTION</p>
<p>
WIFI_P2P_THIS_DEVICE_CHANGED_ACTION</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>ConnectivityManager</h1>
            <!-- <h2>Android, O Android, where art my signal?</h2> -->
        </div>
        
        <div class="slide">
            <h1>ConnectivityManager</h1>
<p>
ConnectivityManager</p>
<ul>
<p>
all connectivity status collects through ConnectivityManager</p>
<ul>
<p>
monitors all network conncetions</p>
<p>
broadcast intents when connectivity changes</p>
<p>
attempts to "fail over" to another network</p>
<p>
API to query the state of the networks</p>
<p>
API to request/select networks for traffic</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>ConnectivityManager</h1>
<p>
Using ConnectivityManager</p>
<ul>
<p>
system service (obtain through getSystemService)</p>
<p>
can obtain NetworkInfo objects</p>
<p>
will typically require INTERNET and NETWORK_STATE permissions</p>
</ul>
        </div>

        <div class="slide">
            <h1>ConnectivityManager</h1>
<p>
Detecting network changes</p>
<ul>
<p>
ConnectivityManager will fire Intents on network change</p>
<ul>
<p>
ConnectivityManager.CONNECTIVTY_ACTION</p>
</ul>
<p>
create a BroadcastReceiver to receive the Intents</p>
<ul>
<p>
then use ConnectivityManager to query status</p>
</ul>
<p>
can also register an OnNetworkActiveListener</p>
<ul>
<p>
called when network goes into high-power state</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework: Project Pitch Day</h1>
            <!-- <h2>23 Feb</h2> -->
        </div>
        
        <div class="slide">
            <h1>Final App</h1>
            <h2>Homework: Prepare your application pitch</h2>
<ul>
<p>
you will form small (3-5 person) groups in order to build a non-trivial iOS application as your final project</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Goals:</p>
<ul>
<p>
something remotely useful</p>
<ul>
<p>
no "kitchen sink UI apps", for example</p>
</ul>
<p>
5 to 10 "screens"</p>
<ul>
<p>
major visual elements the user sees/displays</p>
</ul>
<p>
some kind of communication component</p>
<ul>
<p>
either HTTP/XML or HTTP/JSON to/from a server</p>
<p>
and/or ad-hoc P2P WiFi or Bluetooth</p>
<p>
and/or phone or SMS</p>
<p>
and/or ...?</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Rules:</p>
<ul>
<p>
groups of 3-5 persons</p>
<p>
any outside collaboration must be documented</p>
<ul>
<p>
if you have somebody else design your UI or create art</p>
</ul>
<p>
principal use of the SDK</p>
<ul>
<p>
don't go build a game using Unity, for example</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
FAQs:</p>
<ul>
<p>
yes, work on your Capstone is OK</p>
<ul>
<p>
but you will be expected to be at the front end of the Capstone</p>
</ul>
<p>
yes, you can use mocked-up data</p>
<ul>
<p>
but it should be delivered from a remote location (where reasonable)</p>
</ul>
<p>
yes, you can use third-party SDKs</p>
<ul>
<p>
but they shouldn't be the focus of your application</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Deliverables (ASAP):</p>
<ul>
<p>
group info (members, team name, etc)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Deliverables (on pitch day):</p>
<ul>
<p>
pitch deck (PDF): before day of pitch!</p>
<ul>
<p>
MUST include list of "core user stories" that are committing to</p>
<p>
MAY include list of "optional user stories" that you'd like to hit</p>
</ul>
<p>
Core stories form the bulk of the grade</p>
<p>
Optional stories are extra credit points</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
User stories</p>
<ul>
<p>
follow this template:</p>
<ul>
<p>
"As a {role}, I want {feature} so that {reason}."</p>
</ul>
<p>
deliberately user-centric</p>
<p>
deliberately high-level (not implementation-specific)</p>
<p>
deliberately focused around one role/feature/reason tuple</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Examples:</p>
<ul>
<p>
"As a user, I want to upload photos so that I can share photos with others."</p>
<p>
"As an administrator, I want to approve photos before they are posted so that I can make sure they are appropriate."</p>
<p>
"As a guest, I want to be able to see photos that are shared by users as 'public'."</p>
<p>
"As a user, I want to mark photos as 'protected' so they can only be seen by other users and not guests."</p>
<p>
"As a user, I want to mark photos as 'restricted' so that only my list of friends can see them."</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Deliverables (on delivery day):</p>
<ul>
<p>
TWO devices that are running your app</p>
<ul>
<p>
one for you to use when demoing, one for the judges to look at</p>
</ul>
<p>
"summation deck": pitch deck AS-IS, plus your experience/results</p>
<p>
URL to the Github repo containing your code</p>
<p>
email to me (privately) about your experience working with your teammates</p>
<ul>
<p>
work breakdown, one thing you liked, one thing you'd want improved</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Grading on your pitch (5 pts):</p>
<ul>
<p>
are you clear in what you're proposing?</p>
<p>
do you have clear user stories established?</p>
<p>
NOT grading on the utility or business value of the app; if you want to build the world's most amazing fart app, that's fine, so long as it meets the criteria laid out above</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Grading on the app (25 pts):</p>
<ul>
<p>
does it do what you proposed?</p>
<p>
did you get all the user stories complete?</p>
<p>
does it run without crashing?</p>
</ul>
        </div>

        <div class="slide">
            <h1>Final App</h1>
<p>
Group self-assessment aka "360 review" (5 pts):</p>
<ul>
<p>
you will evaluate your peers; I will assign points accordingly</p>
<p>
this is designed to help ensure everybody works</p>
<p>
this is also designed to get you used to workplace peer reviews</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework</h1>
            <!-- <h2>Due: 21 February</h2> -->
        </div>
        
        <div class="slide">
            <h1>Homework</h1>
            <h2>Are We There Yet? (Part 2)</h2>
<ul>
<p>
Remember when you were a kid on a long car ride, and you kept asking your parents "Are we there yet?" and annoying the heck out of them? We want an application that does exactly that.</p>
<p>
In this part, instead of popping Toast, send an SMS message to the target phone number</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Stories:</p>
<ul>
<p>
As a user, when I "Start" the service, it should begin to "send messages" every N minutes, as given by the user in the EditText UI. These should be sent as SMS messages.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
Continue to build in the 'awty' repo</p>
<p>
Create a Git branch called 'part-2' and do the new work on that branch</p>
</ul>
        </div>

        <div class="slide">
            <h1>Homework</h1>
<p>
Grading</p>
<ul>
<p>
We will clone the 'part-2' branch and build it</p>
<p>
5 points for the one story</p>
</ul>
<p>
Extra Credit</p>
<ul>
<p>
2pts: send an audio message (doesn't need to be recorded on the device; it can be a static asset)</p>
<p>
2pts: send a video message (ditto--can be a static asset)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>21 February</h1>
            <!-- <h2>HOLIDAY</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Presidents' Day</h2>
<ul>
<p>
Extra Credit: 1 pt</p>
<p>
We (the US) used to celebrate Washington's Birthday and Lincoln's Birthday as separate holidays; when, and why, did this change?</p>
<p>
Send email to myself and TA with your answer any time before the end of the quarter</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Homework: Project Pitches</h1>
            <!-- <h2>23 Feb</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>23 February</h1>
            <!-- <h2>Project Pitch Day</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Project pitch day!</h2>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Final projects</h1>
            <!-- <h2>Due: 14 Mar</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>28 February</h1>
            <!-- <h2>Optional: Unit Testing</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Today...</h2>
<ul>
<p>
unit testing in general</p>
<p>
how to unit test an Android app</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Unit Testing</h1>
            <!-- <h2>Developers testing code through code</h2> -->
        </div>
        
        <div class="slide">
            <h1>Unit Testing</h1>
<p>
What is unit testing?</p>
<ul>
<p>
"a software testing method by which individual units of source code, sets of one or more computer program modules together with associated control data, usage procedures, and operating procedures, are tested to determine whether they are fit for use." (Wikipedia)</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
What is unit testing?</p>
<ul>
<p>
"A unit test is an automated piece of code that invokes a unit of work in the system and then checks a single assumption about the behavior of that unit of work." (Roy Osherove)</p>
<ul>
<p>
http://artofunittesting.com/definition-of-a-unit-test/</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
What is unit testing?</p>
<ul>
<p>
"the act of testing a small component, or unit, of your software application." (InfoWorld)</p>
<ul>
<p>
http://www.infoworld.com/article/2891675/development-tools/how-just-about-everyone-gets-unit-testing-wrong.html</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
What is unit testing?- in decreasing order of importance, IMHO</p>
<ul>
<p>
developer-focused/white-box</p>
<ul>
<p>
written by developers, for developers</p>
</ul>
<p>
automated</p>
<p>
focused/single-purpose</p>
<p>
fast</p>
<p>
consistent</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Unit Testing and Religion* lots of debates around scope and nature</p>
<ul>
<p>
outside dependencies?</p>
<p>
access/use of external resources?</p>
<p>
scope of the test?</p>
<p>
granularity of the test?</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Unit Testing vs ...</p>
<ul>
<p>
integration testing</p>
<p>
acceptance testing</p>
<p>
feature testing</p>
<p>
functional testing</p>
<p>
"black-box" testing</p>
<p>
database testing</p>
<p>
UI testing</p>
<p>
manual testing</p>
<p>
QA</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Unit Testing: Concepts</h1>
            <!-- <h2>Let the religious debates begin</h2> -->
        </div>
        
        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Unit testing typically...</p>
<ul>
<p>
consists of writing code to test a portion of code ("unit")</p>
<p>
consists of a number of tests executed collectively</p>
<p>
runs either on demand or automatically</p>
<p>
generates a capturable report for later analysis</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Unit test frameworks</p>
<ul>
<p>
scaffolding for writing test code</p>
<p>
usually integrates with "test runners"</p>
<ul>
<p>
for discovering and executing the tests</p>
</ul>
<p>
provides tools/APIs for conveniently testing/reporting assumptions</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
"AAA" pattern of tests</p>
<ul>
<p>
Arrange</p>
<ul>
<p>
establish a baseline</p>
<p>
this may require several steps</p>
<p>
may also require the use of "mock objects"</p>
</ul>
<p>
Act</p>
<ul>
<p>
have the code under test do something</p>
<p>
typically keep it to "just one thing"</p>
</ul>
<p>
Assert</p>
<ul>
<p>
examine the results</p>
<p>
compare against expected results</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
What about externals?</p>
<ul>
<p>
databases</p>
<p>
web services</p>
<p>
system calls</p>
<p>
file system</p>
<p>
any of these could slow down tests</p>
<ul>
<p>
... and/or introduce nondeterminism</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Introducing "mock objects"</p>
<ul>
<p>
objects that mock the interaction with the external system</p>
<ul>
<p>
return hard-coded responses</p>
<p>
provide hard-coded data</p>
<p>
usually operate entirely in-memory</p>
</ul>
<p>
mock object frameworks try to make these easy to create</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
But how does code under test know?</p>
<ul>
<p>
should I talk to the database...</p>
<p>
... or to the mock object?</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Introducing "dependency injection"</p>
<ul>
<p>
the external-access-object is handed to the code under test</p>
<p>
used in place of Service Locator or Registries</p>
<p>
DI frameworks try to make it easier to set this up</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Unit Testing: A Checklist</p>
<ul>
<p>
from Roy Osherove</p>
<ul>
<p>
http://artofunittesting.com/unit-testing-review-guidelines/</p>
</ul>
<p>
take with some grain of salt</p>
<p>
tied very specifically to his book</p>
<ul>
<p>
"The Art of Unit Testing" (Manning)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Readability</p>
<ul>
<p>
Make sure setup and teardown methods are not abused; prefer factory methods</p>
<p>
Make sure the test tests one thing only</p>
<p>
Check for good and consistent naming conventions</p>
<p>
Make sure that only meaningful assert messages are used, or none at all</p>
<p>
Make sure asserts are separated from actions (different lines)</p>
<p>
Make sure tests dont use magic strings and values as inputs</p>
<p>
Make sure there is consistency in location of tests. make it easy to find related tests for a method, or a class, or a project.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Maintainability</p>
<ul>
<p>
Make sure tests are isolated from each other and repeatable</p>
<p>
Make sure that testing private or protected methods is not the norm</p>
<p>
Make sure tests are not over-specified</p>
<p>
Make sure that state-based testing is preferred over using interaction testing</p>
<p>
Make sure strict mocks are used as little as possible</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
Maintainability</p>
<ul>
<p>
Make sure there is no more than one mock per test</p>
<p>
Make sure tests do not mix mocks and regular asserts in the same test</p>
<p>
Make sure that tests "verify" mock calls only on the single mock object in the test, and not on all the fake objects in the tests</p>
<p>
Make sure the test verifies only on a single call to a mock object</p>
<p>
Make sure that only in very rare cases a mock is also used as a stub to return a value in the same test</p>
</ul>
        </div>

        <div class="slide">
            <h1>UnitTesting</h1>
<p>
Trust</p>
<ul>
<p>
Make sure the test does not contain logic or dynamic values</p>
<p>
Check coverage by playing with values (booleans or consts)</p>
<p>
Make sure unit tests are separated from integration tests</p>
<p>
Make sure tests dont assert with expected values that are created dynamically - you might be repeating production code.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Unit Testing</h1>
<p>
For more information</p>
<ul>
<p>
Martin Fowler's Bliki</p>
<ul>
<p>
http://martinfowler.com/bliki/UnitTest.html</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>JUnit</h1>
            <!-- <h2>Unit Testing in Java</h2> -->
        </div>
        
        <div class="slide">
            <h1>JUnit</h1>
            <h2>JUnit is an automated unit test framework</h2>
<ul>
<p>
use JUnit annotations and classes to build test suites</p>
<p>
let JUnit "test runners" execute your code</p>
<p>
analyze the returned reports</p>
<p>
Website: https://junit.org/junit5/</p>
<p>
Manual: https://junit.org/junit5/docs/current/user-guide/</p>
<p>
Source: https://github.com/junit-team</p>
</ul>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <h2>Versions</h2>
<ul>
<p>
As of 2021, latest version is v5</p>
<ul>
<p>
decoupled text execution from defintion/provisioning</p>
<p>
making greater use of Java8 features</p>
</ul>
<p>
Lots of systems still use v4</p>
<ul>
<p>
Android Studio defaults to 4, for example</p>
</ul>
<p>
Practically speaking, use whichever you wish</p>
<ul>
<p>
this is a testing framework</p>
<p>
should never be any production dependency issues</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <h2>Installing</h2>
<ul>
<p>
JUnit is FOSS, stored in Maven Central</p>
<p>
Dependency metadata</p>
<ul>
<p>
GroupID: org.junit.platform</p>
<p>
Maven Repository:</p>
<ul>
<p>
4: https://mvnrepository.com/artifact/junit/junit</p>
<p>
5: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api</p>
</ul>
<p>
Gradle (example): <code>testImplementation 'junit:junit:4.+'</code></p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <h2>Beginning</h2>
<ul>
<p>
create a class of any name</p>
<p>
annotate a method with the <code>@Test</code> annotation</p>
<p>
write the body of the test ("AAA" pattern)</p>
</ul>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <p>Basic JUnit test</p>            <pre style="background-color:black">
@Test
fun simpleAdd() {
    Money m12CHF = new Money(12, "CHF");
    Money m14CHF = new Money(14, "CHF");
    Money expected = new Money(26, "CHF");
    Money result = m12CHF.add(m14CHF);
    assertTrue(expected.equals(result));
}
</pre>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <h2>Complicated "Arrange"s? Fixture!</h2>
<ul>
<p>
Fixtures are "arranged" elements common across tests</p>
<p>
annotate a method with <code>@Before</code> to have it run before each test</p>
<p>
annotate a method with <code>@After</code> to have it run after each test</p>
<p>
static/per-class variations</p>
<ul>
<p>
<code>@BeforeClass</code> runs once before any unit test methods are run</p>
<p>
<code>@AfterClass</code> runs after all unit test methods are run</p>
<p>
must be on static/non-instance methods</p>
<p>
useful for expensive resources used in tests (db connections)</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <p>JUnit fixture</p>            <pre style="background-color:black">
class MoneyTest {
    var f12CHF = Money(12, "CHF");
    var f14CHF = Money(14, "CHF");
    var f28USD = Money(28, "USD");

    @Before fun setUp() {
        f12CHF = Money(12, "CHF");
        f14CHF = Money(14, "CHF");
        f28USD = Money(28, "USD");
    }

    // other tests, as above
}
</pre>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <h2>Exceptions expected? Expected!</h2>
<ul>
<p>
testing code that throws exceptions can be onerous</p>
<p>
try/catch/assertTrue-if-thrown/assertFalse-if-not-thrown</p>
<p>
instead, use "expected" attribute in annotation</p>
<ul>
<p>
pass the class type of the expected exception type</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>JUnit</h1>
            <p>Expected exceptions</p>            <pre style="background-color:black">
@Test(expected= IndexOutOfBoundsException.class)
public void empty() {
    new ArrayList<Money>().get(0);
}
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android Unit Tests</h1>
            <!-- <h2>Subtle differences from standard Java</h2> -->
        </div>
        
        <div class="slide">
            <h1>Android Unit Tests</h1>
<p>
Android tests come in two forms</p>
<ul>
<p>
Unit tests</p>
<ul>
<p>
executed as just "plain code" (no UI display or input)</p>
<p>
intended to test the code behind the UI</p>
<p>
run much faster than instrumented tests</p>
<p>
these are basically "just like Java" unit tests</p>
</ul>
<p>
Instrumented</p>
<ul>
<p>
executed inside the emulator or on a device</p>
<p>
tests pretend to be users interacting with app</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Unit Tests</h1>
<p>
Instrumented tests</p>
<ul>
<p>
limits to what you can test</p>
<ul>
<p>
emulators do not emulate everything</p>
<p>
hardware may not offer 100% repeatability</p>
<p>
device is just one set of hardware characteristics</p>
</ul>
<p>
thus, even instrumented tests do not replace QA efforts</p>
<ul>
<p>
just a supplement</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Android Unit Tests</h1>
            <p>Example Instrumented test</p>            <pre style="background-color:black">
package com.newardassociates.controls

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4
import org.junit.Test
import org.junit.runner.RunWith
import org.junit.Assert.*

@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.newardassociates.controls", appContext.packageName)
    }
}
</pre>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Final projects</h1>
            <!-- <h2>Due: 14 Mar</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>2 March</h1>
            <!-- <h2>Optional: (Open)</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Today...</h2>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Final projects</h1>
            <!-- <h2>Due: 14 Mar</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>7 March</h1>
            <!-- <h2>Optional: (Open)</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Today...</h2>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Final projects</h1>
            <!-- <h2>Due: 14 Mar</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>9 March</h1>
            <!-- <h2>Optional: Mobile alternatives</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
            <h2>Android mobile alternatives</h2>
<ul>
<p>
Lots of "other" mobile development tools out there</p>
<ul>
<p>
Apache Cordova</p>
<p>
React Native</p>
<p>
Microsoft Xamarin</p>
<p>
Kotlin Multiplatform Mobile (KMM)</p>
<p>
Flutter</p>
</ul>
<p>
Most fall into certain categories</p>
<ul>
<p>
WebView-based/centric (Cordova)</p>
<p>
"Bridging" to native controls (React Native)</p>
<p>
"Native invocation" (Xamarin, KMM)</p>
<p>
"Full control" (drawing every pixel) (Flutter)</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Final projects</h1>
            <!-- <h2>Due: 14 Mar</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>14 March</h1>
            <!-- <h2>Finals!</h2> -->
        </div>
        
        <div class="slide">
            <h1>Goals</h1>
<p>
Today...</p>
<ul>
<p>
watch final project demos!</p>
</ul>
<p>
<strong>Do not forget</strong>: email me your 360 review!</p>
        </div>

        <div class="slide">
            <h1>Final projects</h1>
<p>
If you read this...</p>
<ul>
<p>
email me with one thing you'd change about the course...</p>
<p>
and I will let you bump one 5-pt homework score up to a 5</p>
<ul>
<p>
the moral of the story being, reading through all the material can pay off! :-)</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Extra-credit homework</h1>
            <!-- <h2>Opportunities to boost your grade for the quarter</h2> -->
        </div>
        
        <div class="slide">
            <h1>Extra-credit homework</h1>
            <h2>More homework?!?</h2>
<ul>
<p>
these are designed to give you a chance to earn some extra points</p>
<p>
none of these are required, and can only help your grade</p>
<p>
they may require you to do some self-directed research</p>
<ul>
<p>
this is a good thing; learning how to learn on your own is important</p>
</ul>
<p>
these are also good things to show off during an interview</p>
<ul>
<p>
meaning, you may want to build them after class is over</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Extra-credit homework</h1>
            <h2>Protocol</h2>
<ul>
<p>
MUST email myself and the TA to tell us...</p>
<ul>
<p>
... which assignment you will be doing</p>
<p>
... the deadline by which you will have it done</p>
</ul>
<p>
create the GitHub repo, commit the work</p>
<p>
MUST email us when the work is finished</p>
<ul>
<p>
indicate which assignment you'd like to replace</p>
</ul>
<p>
MUST be complete before the project pitches</p>
<p>
questions must be emailed to myself AND the TA</p>
</ul>
        </div>

        <div class="slide">
            <h1>Extra-credit homework</h1>
            <h2>Caveats</h2>
<ul>
<p>
you MAY NOT do extra-credit homework during the group projects</p>
<p>
these can only replace existing assignments</p>
<ul>
<p>
in other words, this is not a way to bypass doing a group project</p>
</ul>
<p>
you get to set your own deadline; therefore, no extensions</p>
<p>
same rules apply as for other homework (has to compile, run, etc)</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Presentation</h1>
            <!-- <h2>Teach the class something</h2> -->
        </div>
        
        <div class="slide">
            <h1>Presentation</h1>
<p>
Teach the class a topic</p>
<ul>
<p>
deliver a 10-minute presentation on some topic related to mobile development</p>
<p>
topic is yours to choose</p>
<ul>
<p>
just don't choose one I'm already doing</p>
</ul>
<p>
must have some sort of visual component</p>
<ul>
<p>
slides of some form, or</p>
<p>
sample application whose code you can walk us through, or</p>
<p>
on-the-fly demo code you write during the talk</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Presentation</h1>
<p>
Your goal for the talk</p>
<ul>
<p>
what is this?</p>
<p>
why should people in this room care?</p>
</ul>
        </div>

        <div class="slide">
            <h1>Presentation</h1>
<p>
Potential topics</p>
<ul>
<p>
mobile application toolkit</p>
<ul>
<p>
ReactNative, Corona, Appcelerator Titanium, ...</p>
</ul>
<p>
server-side toolkit</p>
<ul>
<p>
Heroku, GoogleCloudPlatform, Azure, ...</p>
</ul>
<p>
third-party toolkit (Facebook, Twitter, etc)</p>
<p>
... or bring me your own suggestion</p>
<ul>
<p>
it must be mobile-related, and it must not be the subject of another UW class</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Presentation</h1>
<p>
Protocol</p>
<ul>
<p>
MUST talk to me about topic before starting</p>
<p>
MUST email myself and TA for scheduling</p>
<p>
no extensions</p>
</ul>
        </div>

        <div class="slide">
            <h1>Presentation</h1>
<p>
Grading:</p>
<ul>
<p>
you have something visual: 1 pt</p>
<p>
you explained "what this is": 2 pts</p>
<p>
you explained "why we should care": 2 pts</p>
<p>
NOTE: I am not grading you on how great you are as a presenter; I am grading you on how well you've researched the topic and how well you've thought the subject through</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Babysmash!</h1>
            <!-- <h2>A useful app for small children</h2> -->
        </div>
        
        <div class="slide">
            <h1>Babysmash!</h1>
<p>
We will be creating a mobile version of a classic "game"</p>
<ul>
<p>
first popularized by Scott Hanselman</p>
<ul>
<p>
http://www.hanselman.com/babysmash/</p>
</ul>
<p>
homage to an earlier Mac classic, AlphaBaby</p>
<ul>
<p>
http://alphababy.sourceforge.net/</p>
</ul>
<p>
good opportunity to learn some animation</p>
<ul>
<p>
and a little audio, if you want</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Babysmash!</h1>
<p>
Grading:</p>
<ul>
<p>
repo should be called "babysmash"</p>
<p>
2 pt: Every time a touch is registered, a red square falls from the tap location to the bottom of the screen and "falls off" the bottom</p>
<p>
1 pt: Shapes (square, circle, ellipse, etc) and colors are random</p>
<p>
1 pt: Shapres are actually small images/icons inside the shape and randomly chosen (along with shape)</p>
<p>
1 pt: Play a random sound when a tap is registered</p>
</ul>
        </div>

        <div class="slide">
            <h1>Babysmash!</h1>
<p>
Grading:</p>
<ul>
<p>
1 pt: Shapes don't fall, but "explode" away from the tap point for a little distance before starting to fall</p>
<p>
1 pt: When a shape reaches the bottom, it "puffs" into a particle cloud</p>
<p>
1 pt: Support multitouch: each tap point generates a falling shape</p>
<p>
2 pts: Allow for a "parent mode", whereby parents can import images to use for shapes</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Bowling Calculator</h1>
            <!-- <h2>Just what every good Dudeist needs</h2> -->
        </div>
        
        <div class="slide">
            <h1>BowlingCalc</h1>
<p>
I need to go bowling</p>
<ul>
<p>
(this is a part of the Dudeist Creed)</p>
<p>
but I don't trust the scoring calculators at the local alley</p>
<p>
so I need you to create one for me!</p>
</ul>
        </div>

        <div class="slide">
            <h1>BowlingCalc</h1>
<p>
If you are not familiar with bowling...</p>
<ul>
<p>
scoring rules are a little tricky</p>
<ul>
<p>
explained here: http://slocums.homestead.com/gamescore.html</p>
</ul>
<p>
use https://www.bowlinggenius.com/ as your reference</p>
</ul>
        </div>

        <div class="slide">
            <h1>BowlingCalc</h1>
<p>
Grading:</p>
<ul>
<p>
repo should be called "bowlingcalc"</p>
<p>
5 pts: single player, 10 frames</p>
<ul>
<p>
support any number of pins, spares, and strikes</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>BowlingCalc</h1>
<p>
Extra credit:</p>
<ul>
<p>
2 pts: support multiple players at a time</p>
<ul>
<p>
each player bowls one frame at a time</p>
</ul>
<p>
2 pts: show me a history of all the games I've bowled</p>
<ul>
<p>
at least on this device</p>
</ul>
<p>
2 pts (each): data analysis visualizations</p>
<ul>
<p>
scores per frame across all games, or average per frames, or ...</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Magic Ball</h1>
            <!-- <h2>Should I or shouldn't I?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Magic Ball</h1>
<p>
The Magic 8 Ball</p>
<ul>
<p>
Introduced in the late 70s/early 80s</p>
<ul>
<p>
https://en.wikipedia.org/wiki/Magic_8-Ball</p>
</ul>
<p>
Ask it a question</p>
<p>
Shake the ball</p>
<p>
Turn it over</p>
<p>
An answer was revealed!</p>
<ul>
<p>
NOTE: This wasn't always a useful answer</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Magic Ball</h1>
<p>
MagicBall.app</p>
<ul>
<p>
a throwback to a previous generation</p>
<p>
ask it a question</p>
<p>
shake the phone</p>
<p>
when the shaking stops, an answer appears</p>
<ul>
<p>
NOTE: let's not pretend it's a useful answer</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Magic Ball</h1>
<p>
Story: At startup, display a "magic 8-ball" image (1pt)</p>
<ul>
<p>
should be able to find these somewhere via Google</p>
<p>
fill the screen</p>
<p>
leave the center area (where the answer will go) blank</p>
</ul>
        </div>

        <div class="slide">
            <h1>Magic Ball</h1>
<p>
Story: Shake the phone (2 pts)</p>
<ul>
<p>
Instruct the user to ask a question and shake the phone</p>
<ul>
<p>
NOTE: the question-asking is not captured in the app; no edit field or anything</p>
</ul>
<p>
When the phone stops shaking, display an answer in the center</p>
</ul>
        </div>

        <div class="slide">
            <h1>Magic Ball</h1>
<p>
Story: Display the answer with some mystery (2 pts)</p>
<ul>
<p>
Don't simply display the answer right away; fade it in from black</p>
<p>
Shouldn't take more than 2 seconds for the answer to display</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>ReceiptKeeper</h1>
            <!-- <h2>Never hold on to paper receipts again</h2> -->
        </div>
        
        <div class="slide">
            <h1>ReceiptKeeper</h1>
<p>
I need to file receipts for tax purposes...</p>
<ul>
<p>
but I always lose those silly paper things</p>
<p>
so I need you to build me an app for them!</p>
</ul>
        </div>

        <div class="slide">
            <h1>ReceiptKeeper</h1>
<p>
ReceiptKeeper should:</p>
<ul>
<p>
... allow me to take a picture of a receipt (2pts)</p>
<p>
... take note of the date/time (and location) (1pt)</p>
<p>
... arrange the photos taken in an organized display (1pt)</p>
<p>
... allow me to re-arrange photos (1pt)</p>
<ul>
<p>
by date/time or location</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>ReceiptKeeper</h1>
<p>
Extra credit:</p>
<ul>
<p>
... allow me to create categories and tag a receipt</p>
<ul>
<p>
either at time of photo creation (1 pt)</p>
<p>
or later when viewing the photo (1 pt)</p>
<p>
and let me re-arrange photos by category (1 pt)</p>
</ul>
<p>
... use an OCR package on the receipt</p>
<ul>
<p>
try to guess the location, amount, whatever (2 pts)</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>TicTacToe</h1>
            <!-- <h2>Part 1</h2> -->
        </div>
        
        <div class="slide">
            <h1>TicTacToe</h1>
<p>
A simple board game</p>
<ul>
<p>
create a 3x3 grid</p>
<p>
two players take turns tapping buttons</p>
<p>
three-in-a-row wins the game</p>
<p>
when all squares are full with no winner, tie game</p>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Scene: Main</p>
<ul>
<p>
"New Game"</p>
<ul>
<p>
ask user for Player 1 and Player 2 names</p>
<p>
transitions to "Game" scene</p>
</ul>
<p>
"Settings" presents configuration settings</p>
<ul>
<p>
settings should be stored in UserSettings</p>
<p>
remember last Player 1 and Player 2 names; these should be defaults for New Game</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Scene: Game</p>
<ul>
<p>
3x3 grid</p>
<p>
one player chosen to go first ("X")</p>
<p>
each tap puts an "X" or an "O"</p>
<p>
after each tap, check for winner</p>
<p>
at game end</p>
<ul>
<p>
ask "Another game?"</p>
<p>
yes--reset and play another game</p>
<p>
no--transition back to "Main" scene</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Grading: 5 points</p>
<ul>
<p>
repo should be called 'tictactoe-1'</p>
<p>
Main scene:</p>
<ul>
<p>
asks both player names, using Settings defaults: 1 pt</p>
<p>
Settings stores Player 1/Player 2 names: 1 pt</p>
</ul>
<p>
Game scene:</p>
<ul>
<p>
display both player names: 1 pt</p>
<p>
correct win logic: 1 pt</p>
<p>
reset on gmae end: 1 pt</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Suggestions</p>
<ul>
<p>
create a Board model to hold state</p>
<ul>
<p>
model the board using Int,Int subscript operator</p>
<p>
Player1/Player2 String properties for names</p>
<p>
each "square" contains one of three states: P1, P2 or nil</p>
</ul>
<p>
create unit tests to test game logic</p>
<p>
create UI tests to test full game</p>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Bonus Grading</p>
<ul>
<p>
1pt: Support 4x4 board</p>
<ul>
<p>
three-in-a-row still wins</p>
</ul>
<p>
1pt: Support 5x5 board</p>
<ul>
<p>
three-in-a-row still wins</p>
</ul>
<p>
1pt: Support four-in-a-row win on a 7x7 board</p>
<ul>
<p>
the classic "Connect Four" board</p>
</ul>
<p>
1pt: Support some form of "undo"</p>
<p>
1pt: Use custom images for "X" and "O"</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>TicTacToe</h1>
            <!-- <h2>Peer-to-peer play</h2> -->
        </div>
        
        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Building off of Part 1</p>
<ul>
<p>
now we add head-to-head network support</p>
<ul>
<p>
using MultipeerConnectivity</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Story: New game (2pts)</p>
<ul>
<p>
Put a button on the main screen</p>
<ul>
<p>
"New P2P Game"</p>
</ul>
<p>
When pressed, this button begins advertising and browsing for other TTT games that are also advertising and browsing</p>
<ul>
<p>
use "uw-ttt" as the service type</p>
</ul>
<p>
first peer to respond is accepted</p>
<ul>
<p>
stop advertising/browsing once a peer is accepted</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Story: Playing the game (2pts)</p>
<ul>
<p>
one side chosen at random to be "X" and go first</p>
<p>
player turn: present an alert informing them it is their turn</p>
<ul>
<p>
they select a square, and that data is sent to the other player</p>
</ul>
<p>
player non-turn: present an alert informing them is is the other player's turn</p>
<p>
(optional) these messages could come in a "status bar" label at the bottom of the screen if that is easier for you</p>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Story: Ending the game (1pt)</p>
<ul>
<p>
after each move, check for a winner</p>
<p>
winner sees "You won!"; loser sees "You lost!"; ties see "No winner"</p>
<ul>
<p>
ask user if they wish to play again; if both say yes, keep the session alive and start a new game; if either says no, close the session and present the main screen again</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Suggestions</p>
<ul>
<p>
create a TTTManager class to manage the P2P</p>
<ul>
<p>
create an interface/protocol TTTManagerDelegate with the following:</p>
<p>
startBrowsing</p>
<p>
foundPlayer</p>
<p>
newGame</p>
<p>
sendMove</p>
<p>
lostCommunication</p>
</ul>
<p>
create a Message struct to exchange across the link</p>
<ul>
<p>
NewGame message</p>
<p>
Move message</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>TicTacToe</h1>
<p>
Bonus Grading</p>
<ul>
<p>
2pts: Allow players to chat to one another</p>
<ul>
<p>
this basically is just a different message type sent back and forth</p>
</ul>
<p>
1pt: Allow players to forfeit and start a new game</p>
<ul>
<p>
this is also just a different message type</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Appendices</h1>
            <!-- <h2>Bonus material</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>XML</h1>
            <!-- <h2>An older, but still sometimes relevant, structured data form</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>eXtensible Markup Language</h1>
            <!-- <h2>Why, exactly...?</h2> -->
        </div>
        
        <div class="slide">
            <h1>XML Concepts</h1>
<p>
eXtensible Markup Language</p>
<ul>
<p>
domain-independent markup language</p>
<ul>
<p>
simplified form of SGML</p>
<p>
inspired by HTML's success in the late 90s</p>
<p>
intended to be generic data markup language</p>
</ul>
<p>
since fallen a little out of favor</p>
<ul>
<p>
but expectations were a little overinflated, too</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
XML has/had 10 design goals:</p>
<ul>
<p>
XML shall be straightforwardly usable over the Internet.</p>
<p>
XML shall support a wide variety of applications.</p>
<p>
XML shall be compatible with SGML.</p>
<p>
It shall be easy to write programs which process XML documents.</p>
<p>
The number of optional features in XML is to be kept to the absolute minimum, ideally zero.</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
XML has/had 10 design goals:</p>
<ul>
<p>
XML documents should be human-legible and reasonably clear.</p>
<p>
The XML design should be prepared quickly.</p>
<p>
The design of XML shall be formal and concise.</p>
<p>
XML documents shall be easy to create.</p>
<p>
Terseness in XML markup is of minimal importance.</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
XML is conceptually a multilayered concept</p>
<ul>
<p>
the abstract data model is called the Infoset</p>
<ul>
<p>
governed by its own spec (XML Infoset Spec)</p>
</ul>
<p>
the usual concrete representation is similar to HTML</p>
<ul>
<p>
governed by the XML Specification (1.0, 1.1)</p>
</ul>
<p>
numerous attempts at a binary representation</p>
<ul>
<p>
BinaryXML, EXI, Fast Infoset, ...</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
XML is a strictly hierarchical data model</p>
<ul>
<p>
data is in nodes called "elements"</p>
<p>
one root node ("document element")</p>
<p>
nodes can contian name/value pairs ("attributes")</p>
<p>
nodes can contain child nodes</p>
<p>
nodes can contain raw text (character data)</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
XML levels of correctness</p>
<ul>
<p>
an XML document that can be parsed correctly is called "well-formed"</p>
<ul>
<p>
basically, it obeys the formatting specification</p>
</ul>
<p>
an XML document that cannot be parsed is "ill-formed"</p>
<p>
an XML document that can be validated is called "valid"</p>
<ul>
<p>
variety of different validation schemes; not baked in to XML itself</p>
</ul>
<p>
documents can be well-formed but invalid</p>
<ul>
<p>
it can be syntactically parsed, but fails semantic validation</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
Elements</p>
<ul>
<p>
elements are named nodes in the XML document</p>
<ul>
<p>
names may be scoped using XML Namespaces</p>
</ul>
<p>
elements always have a parent element</p>
<ul>
<p>
exception: the root element, a.k.a. document element</p>
</ul>
<p>
elements have 0..many child elements</p>
<ul>
<p>
raw data will appear as child "text elements"</p>
</ul>
<p>
elements have 0..many attributes</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
Attributes</p>
<ul>
<p>
attributes are name/value pairs</p>
<p>
attributes always apply to a given element</p>
<ul>
<p>
cannot have attributes without an element</p>
</ul>
<p>
attributes typically modify/annotate the element in some way</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
Comments</p>
<ul>
<p>
comments are like comments in any language</p>
<ul>
<p>
they do not appear in the abstract data model</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
For more information</p>
<ul>
<p>
See the XML 1.0 Specification</p>
<ul>
<p>
http://www.w3.org/TR/REC-xml/</p>
</ul>
<p>
See the XML 1.1 Draft Specification</p>
<ul>
<p>
http://www.w3.org/TR/xml11/</p>
</ul>
<p>
See the XML Infoset Specification</p>
<ul>
<p>
http://www.w3.org/TR/xml-infoset/</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>XML 1.0 details</h1>
            <!-- <h2>What makes an XML document legal?</h2> -->
        </div>
        
        <div class="slide">
            <h1>XML Details</h1>
<p>
XML documents</p>
<ul>
<p>
XML data is always considered to be a "document"</p>
<ul>
<p>
even if it's never stored in a file or is never human-consumed</p>
</ul>
<p>
uses text for canonical representation</p>
<ul>
<p>
alternative representations (binary) are possible, but not standardized</p>
</ul>
<p>
default representation looks very similar to HTML</p>
<ul>
<p>
XML is a simplified SGML, and HTML is an SGML-defined markup language</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML basic rules</p>
<ul>
<p>
markup start-tags and end-tags are angle-brackets ("<" and ">")</p>
<p>
certain characters are not legal except as markup characters</p>
<ul>
<p>
ecape using "entity" syntax:</p>
<p>
< => </p>
<p>
=> </p>
<p>
& => </p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML elements</p>
<ul>
<p>
elements are named tags</p>
<ul>
<p>
 is a "foobar" element</p>
</ul>
<p>
names must be C-style identifiers</p>
<ul>
<p>
alphanumeric + underscore, no whitespace, etc</p>
</ul>
<p>
elements can either have explicit start and end tags...</p>
<ul>
<p>
 ... </p>
</ul>
<p>
... or use "shorthand" syntax if they are childless</p>
<ul>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML elements</p>
<ul>
<p>
can have any number of child elements</p>
<ul>
<p>
child elements started must also end nested inside this element</p>
<p>
child elements are "owned" by this element</p>
<p>
all elements have a parent element</p>
</ul>
<p>
can have any amount of raw data embedded inside element declaration</p>
<ul>
<p>
technically these are "text elements" of no name and containing text values</p>
<p>
whitespace may or may not be included, depending on parser details</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML document element</p>
<ul>
<p>
one element is the root of the entire document</p>
<p>
this is called the document element</p>
<p>
only element that has no parent</p>
<p>
only one document element per XML document</p>
<ul>
<p>
in essence, this is a singly-rooted tree</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
            <p>Legal XML Document</p>            <pre style="background-color:black">
<data />
</pre>            <p>Legal XML Document</p>            <pre style="background-color:black">
<data><child1 /><child2>Mommy!</child2></data>
</pre>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML attributes</p>
<ul>
<p>
attributes are name/value pairs attached to an element</p>
<p>
attribute names are case-sensitive identifiers</p>
<ul>
<p>
no whitespace in the name</p>
</ul>
<p>
attributes values are contained in quotes (single or double)</p>
<p>
attributes are not children of the element</p>
<p>
attribute names must be unique on the given element</p>
<p>
any number of attributes on a given element</p>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
            <p>Legal XML Document</p>            <pre style="background-color:black">
<data date="2/15/2015"><child1 /><child2>Mommy!</child2></data>
</pre>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML comments</p>
<ul>
<p>
comment nodes begin with </p>
<p>
comments are entirely ignored by XML processing agents</p>
<p>
comments cannot appear inside an element tag</p>
<p>
comments may not nest</p>
<p>
comments may not include "--" anywhere in their body</p>
<ul>
<p>
this is the most annoying restriction of all time</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
            <p>Legal XML Document</p>            <pre style="background-color:black">
<!-- Hello, XML data -->
<data date="2/15/2015">
<!-- Ths is a child node -->
<child1 />
<!-- This is another child node -->
<child2>Mommy!</child2>
</data>
</pre>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML Processing Instructions</p>
<ul>
<p>
PIs are "special" nodes as hints to the XML processing agents</p>
<p>
PIs do not appear in the abstract data model</p>
<p>
most common PI is the "XML declaration" at the top of an XML file</p>
<ul>
<p>
declares XML version and character encoding, language, etc</p>
</ul>
<p>
different PIs may appear for particular processing scenarios</p>
<ul>
<p>
they will be entirely processing-agent-specific</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
            <p>Legal XML Document</p>            <pre style="background-color:black">
<?xml version="1.0" ?>
<!-- Hello, XML data -->
<data date="2/15/2015">
<!-- Ths is a child node -->
<child1 />
<!-- This is another child node -->
<child2>Mommy!</child2>
</data>
</pre>
        </div>

        <div class="slide">
            <h1>XML Details</h1>
<p>
XML CDATA sections</p>
<ul>
<p>
escaping sensitive characters can get ugly in certain scenarios</p>
<ul>
<p>
example: including XML inside XML (such as example code)</p>
</ul>
<p>
the CDATA section begins with <[CDATAand ends with]></p>
<ul>
<p>
anything contained inside here is treated as raw data and never markup</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>XML Concepts</h1>
<p>
For more information</p>
<ul>
<p>
See the XML 1.0 Specification</p>
<ul>
<p>
http://www.w3.org/TR/REC-xml/</p>
</ul>
<p>
See the XML 1.1 Draft Specification</p>
<ul>
<p>
http://www.w3.org/TR/xml11/</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>XML and Android</h1>
            <!-- <h2>Lots of options</h2> -->
        </div>
        
        <div class="slide">
            <h1>Parsing XML</h1>
<ul>
<p>
JAXP (Java API for XML Parsing) has three forms</p>
<ul>
<p>
SAX (Streaming API for XML)</p>
<p>
DOM (Document Object Model)</p>
<p>
StAX (Streaming API for XML)</p>
<p>
JAXB (Java API for XML Binding): object/XML conversion</p>
<ul>
<p>
permits conversion to/from objects and XML "transparently"</p>
</ul>
<p>
third-party options</p>
<ul>
<p>
JDOM, XOM, XStream, dom4j, XMLBeans, ...</p>
</ul>
</ul>
<p>
Android also includes its own</p>
<ul>
<p>
XmlPullParser, fairly low-level node-based parser</p>
<p>
XmlSerializer, low-level XML "push" library</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Themes</h1>
            <!-- <h2>Keeping UI consistent</h2> -->
        </div>
        
        <div class="slide">
            <h1>Themes</h1>
<p>
Styles</p>
<ul>
<p>
A style is a collection of properties that specify the look and format for a View or window. A style can specify properties such as height, padding, font color, font size, background color, and much more. A style is defined in an XML resource that is separate from the XML that specifies the layout.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Styles</h1>
<p>
Styles</p>
<ul>
<p>
Styles can be referenced in layouts</p>
<p>
Styles are defined as XML resources</p>
</ul>
        </div>

        <div class="slide">
            <h1>Styles</h1>
<p>
Styles</p>
<ul>
<p>
XML resource defines the style "components"</p>
<ul>
<p>
Root node must be "resource"</p>
<p>
resource "name" attribute identifying them</p>
</ul>
<p>
child "item" nodes</p>
<ul>
<p>
"name" attribute identifies the layout attribute</p>
<p>
text child node contains attribute value</p>
</ul>
<p>
styles can also be per-platform, per-language, etc</p>
<ul>
<p>
just like any resource</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Styles</h1>
            <p>Style resource</p>            <pre style="background-color:black">
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="CodeFont" parent="@android:style/TextAppearance.Medium">
        <item name="android:layout_width">fill_parent</item>
        <item name="android:layout_height">wrap_content</item>
        <item name="android:textColor">#00FF00</item>
        <item name="android:typeface">monospace</item>
    </style>
</resources>
</pre>
        </div>

        <div class="slide">
            <h1>Styles</h1>
<p>
Using styles</p>
<ul>
<p>
in layout resources, apply style using "style" attribute</p>
<ul>
<p>
<code>@style/styleName</code></p>
</ul>
<p>
styles do NOT "cascade down" to child elements</p>
</ul>
        </div>

        <div class="slide">
            <h1>Styles</h1>
<p>
Styles can inherit from another style</p>
<ul>
<p>
specify "parent" attribute in style root "resource" node</p>
<p>
style then inherits all properties of the parent style</p>
<ul>
<p>
except for those specified in child style</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Styles</h1>
<p>
Themes</p>
<ul>
<p>
always in AndroidManifest.xml</p>
<p>
applying a style to an activity</p>
<ul>
<p>
specify <code>android:theme</code> attribute to activity</p>
</ul>
<p>
applying a style to an application</p>
<ul>
<p>
specify <code>android:theme</code> attribute to application</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Styles</h1>
<p>
Styles and Themes</p>
<ul>
<p>
See the AOSP sources for Android styles and themes</p>
<ul>
<p>
https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/res/res/values/styles.xml</p>
<p>
https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/res/res/values/themes.xml</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Android UI Patterns</h1>
            <!-- <h2>Making your apps look and behave like Android apps</h2> -->
        </div>
        
        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Android UI Patterns</p>
<ul>
<p>
Android apps look and feel a certain way</p>
<p>
Certain gestures and activities are common</p>
<p>
Choosing to use them helps users understand your app</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Gestures</p>
<ul>
<p>
Touch: trigger the default functionality for an item</p>
<p>
Long press: data selection mode</p>
<p>
Swipe or drag:</p>
<ul>
<p>
Scrolls overflowing content</p>
<p>
Navigate between views in the hierarchy</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Gestures</p>
<ul>
<p>
Long press drag:</p>
<ul>
<p>
Rearrange data within a view</p>
<p>
Move data into a container</p>
</ul>
<p>
Double touch:</p>
<ul>
<p>
Scale up standard amount of data</p>
<p>
Secondary gesture for text selection</p>
</ul>
<p>
Double touch drag: scales content by pushing away or pulling closer, centered around gesture</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Gestures</p>
<ul>
<p>
Pinch open: zooms into content</p>
<p>
Pinch close: zooms out of content</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
General App Structure</p>
<ul>
<p>
Top level views:</p>
<ul>
<p>
Different representations of the data</p>
<p>
Different functional facets of the app</p>
</ul>
<p>
Category views: drill deeper</p>
<p>
Detail/edit views: consume or create data</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Action bars</p>
<ul>
<p>
App icon and/or title</p>
<p>
Navigation between views</p>
<p>
Creating-content button (easy accessibility)</p>
<p>
Searching content</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Top-level switching:</p>
<ul>
<p>
Fixed tabs:</p>
<ul>
<p>
when users will switch views frequently</p>
<p>
when you have 3 or less views</p>
<p>
when you want users to be very aware of the other views</p>
</ul>
<p>
Spinners: dropdown menu with view choices</p>
<ul>
<p>
when you don't want to give up the screen for a tab bar</p>
<p>
when users are switching between views of the same data</p>
</ul>
<p>
Navigation drawers:</p>
<ul>
<p>
when you don't want to give up the screen for a tab bar</p>
<p>
you have a large number of views</p>
<p>
you want to provide direct access to those views</p>
<p>
you want to provide quick access to unrelated views</p>
<p>
you have particularly deep navigation branches</p>
</ul>
<p>
DON'T mix and match top-level switching paradigms</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Top-level switching: Categories</p>
<ul>
<p>
Use tabs to combine category selection and data display</p>
<p>
Allow cutting through hierarchies</p>
<p>
Allow action upon multiple data items</p>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Top-level switching: Details</p>
<ul>
<p>
Layout: make UI align with user goals for view</p>
<p>
Make navigation between detail views efficient</p>
<ul>
<p>
swipes can be helpful here</p>
<p>
thumbnail views can be useful</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
Navigation: "Up" vs "Back"</p>
<ul>
<p>
"Up" takes the user conceptually up the hierarchy</p>
<p>
"Back" takes the user conceptually along the same level</p>
<ul>
<p>
sort of; back also reverses the activity stack, so it can take the user outside the app entirely, or back to a higher-level view, thus mimicking the "Up" button</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>UI Patterns</h1>
<p>
For more details</p>
<ul>
<p>
Read the Android design patterns docs thoroughly</p>
<ul>
<p>
https://developer.android.com/design/patterns/index.html</p>
</ul>
<p>
Sites to consider</p>
<ul>
<p>
http://android.inspired-ui.com/</p>
<p>
http://www.androiduipatterns.com/</p>
<p>
http://www.android-app-patterns.com/</p>
<p>
http://unitid.nl/androidpatterns/</p>
<p>
http://androidux.com/</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Garbage Collection</h1>
            <!-- <h2>Insight into how it all works</h2> -->
        </div>
        
        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Garbage Collection</h1>
            <!-- <h2>What exactly is it?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Garbage Collection</h1>
<p>
An old truth</p>
<ul>
<p>
It was said that C programmers knew that memory management was so important, it could not be left up to the system.</p>
<p>
And it was said that Lisp programmers knew that memory management was so important, it could not be left up to the programmers.</p>
</ul>
        </div>

        <div class="slide">
            <h1>Garbage Collection</h1>
<p>
"Automatic memory management"</p>
<ul>
<p>
as contrasted with "manual memory management"</p>
<p>
basic idea is pretty simple:</p>
<ul>
<p>
programmers shouldn't have to manage memory</p>
<p>
but the system should only release stuff not in use</p>
</ul>
<p>
within that simple idea lies a ton of complexity</p>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Automatic memory management system has three tasks:</p>
<ul>
<p>
to allocate space for new objects</p>
<p>
to identify live objects (to prevent reclamation)</p>
<p>
to reclaim space occupied by dead objects</p>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Garbage Collection: Concepts</h1>
            <!-- <h2>How do we think about this?</h2> -->
        </div>
        
        <div class="slide">
            <h1>Concepts</h1>
<p>
Technically, there's three kinds of memory allocation</p>
<ul>
<p>
static allocation</p>
<p>
stack allocation</p>
<p>
heap allocation</p>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Static allocation</p>
<ul>
<p>
all names are bound to memory at compile-time</p>
<ul>
<p>
"globals", in modern parlance</p>
</ul>
<p>
limitations:</p>
<ul>
<p>
the size of each data structure must be known at compile-time</p>
<p>
no recursion permitted since all procedure activations will share the same locations for local names</p>
<p>
data structures cannot be created dynamically</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Stack allocation implementation</p>
<ul>
<p>
storage is allocated for use by procedure call records (the "stack")</p>
<ul>
<p>
"activation records"/"frames" created per procedure</p>
<p>
pushed on to the activation stack on call</p>
<p>
local names bound to space in these areas</p>
<p>
popped off the stack on return</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Stack allocation implications</p>
<ul>
<p>
recursion is possible, since each call gets a new frame</p>
<p>
size of local data structures can depend on parameters passed in</p>
<p>
values of stack-allocated local names cannot persist from one activiation to the next</p>
<p>
called activation record cannot outlive its caller</p>
<p>
only an object whose size is known at compile-time can be returned as the result of a procedure</p>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Heap allocation</p>
<ul>
<p>
the "rest" of the available memory, with no structure imposed</p>
<p>
storage allocated out of the heap can be allocated/deallocated in any order</p>
<p>
implications:</p>
<ul>
<p>
size is no longer fixed and can vary dynamically</p>
<p>
heap-allocated storage can outlive the activation record</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Questions of storage center around several core questions:</p>
<ul>
<p>
"How do I know what to allocate/deallocate?"</p>
<p>
"When do I allocate/deallocate?"</p>
<p>
"How do I manage allocated storage?"</p>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Static allocation:</p>
<ul>
<p>
"How do I know what": known at compile time</p>
<p>
"When do I allocate/deallocate":</p>
<ul>
<p>
allocate: at program start</p>
<p>
deallocate: at program termination</p>
</ul>
<p>
"How do I manage":</p>
<ul>
<p>
typically simple linear allocation decided at compile-time</p>
<p>
... but of course this can vary</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Stack allocation</p>
<ul>
<p>
"How do I know what": locally-declared variables declared/known at compile-time</p>
<p>
"When do I alloc/dealloc":</p>
<ul>
<p>
allocate: at procedure entry</p>
<p>
deallocate: at procedure exit</p>
</ul>
<p>
"How do I manage":</p>
<ul>
<p>
typically simple linear allocation based on sizes known at execution time</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
Heap allocation</p>
<ul>
<p>
"How do I know what": deferred until actual request</p>
<p>
"When do I alloc/dealloc":</p>
<ul>
<p>
allocate: on demand (when requested)</p>
<p>
deallocate: how do we identify live data?</p>
</ul>
<p>
"How do I manage":</p>
<ul>
<p>
algorithms for heap-managed space abound</p>
<p>
shares a great deal of overlap with traditional allocators (malloc/free, new/delete) here</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Concepts</h1>
<p>
GC comparisons....</p>
<ul>
<p>
safety</p>
<ul>
<p>
prime directive: no object still "in use" should go away!</p>
</ul>
<p>
throughput</p>
<ul>
<p>
number of objects that can be passed through the system</p>
</ul>
<p>
speed/pause time</p>
<ul>
<p>
how long does it take to do a reclamation?</p>
</ul>
<p>
space overhead</p>
<ul>
<p>
above and beyond the actual allocated space</p>
</ul>
<p>
completeness</p>
<ul>
<p>
do we get all the reclamation-eligible space?</p>
</ul>
<p>
scalability and portability</p>
<ul>
<p>
how well can it take advantage of multi-core hardware?</p>
</ul>
</ul>
        </div>

        <div class="slide cover">
            <img src="http://www.w3.org/Talks/Tools/Slidy/keys.jpg" alt="Cover page images (keys)" class="cover" />
            <br clear="all" />
            <h1>Garbage Collection: Resources</h1>
            <!-- <h2>Where to go to get more</h2> -->
        </div>
        
        <div class="slide">
            <h1>Resources</h1>
<p>
Books</p>
<ul>
<p>
"Garbage Collection", by Jones/Lins (Wiley, 1996/1999)</p>
<ul>
<p>
this is my "gold standard" book; best starting point for me</p>
</ul>
<p>
"The Garbage Collection Handbook", by Jones/Hosking/Moss (Wiley, 2011)</p>
<ul>
<p>
this is Jones' "successor" book to the above</p>
</ul>
</ul>
        </div>

        <div class="slide">
            <h1>Resources</h1>
<p>
Classic papers</p>
<ul>
<p>
"A method for overlapping and erasure of lists." (George E. Collins)</p>
<ul>
<p>
<em>Communications of the ACM</em>, 3(12):655-657, December 1960</p>
</ul>
<p>
"A Lisp garbage collector for virtual memory computer systems." (Robert R. Fenichel and Jerome C. Yochelson)</p>
<ul>
<p>
<em>Communications of the ACM</em>, 12(11):611-612, November 1969</p>
</ul>
<p>
"Recursive functions of symbolic expressions and their computation by machine." (John McCarthy)</p>
<ul>
<p>
Communications of the ACM, 3:184-195, 1960</p>
</ul>
</ul>
        </div>

</body>
</html>